{"version":3,"file":"lan-uploader.js","sources":["../src/utils/request.js","../src/chunk/ChunkUploadHandler.js","../src/chunk/LanChunkUploadHandler.js","../src/utils/utils.js","../node_modules/js_data-collections/collections.js","../src/components/FileUpload.vue","../src/components/InputFile.vue","../src/components/Button.vue","../src/index.js"],"sourcesContent":["/**\r\n * Creates a XHR request\r\n *\r\n * @param {Object} options\r\n */\r\nexport const createRequest = (options) => {\r\n  const xhr = new XMLHttpRequest()\r\n  xhr.open(options.method || 'GET', options.url)\r\n  xhr.responseType = 'json'\r\n  if (options.headers) {\r\n    Object.keys(options.headers).forEach(key => {\r\n      xhr.setRequestHeader(key, options.headers[key])\r\n    })\r\n  }\r\n\r\n  return xhr\r\n}\r\n\r\n/**\r\n * Sends a XHR request with certain body\r\n *\r\n * @param {XMLHttpRequest} xhr\r\n * @param {Object} body\r\n */\r\nexport const sendRequest = (xhr, body) => {\r\n  return new Promise((resolve, reject) => {\r\n    xhr.onload = () => {\r\n      if (xhr.status >= 200 && xhr.status < 300) {\r\n        var response\r\n        try {\r\n          response = JSON.parse(xhr.response)\r\n        } catch (err) {\r\n          response = xhr.response\r\n        }\r\n        resolve(response)\r\n      } else {\r\n        reject(xhr.response)\r\n      }\r\n    }\r\n    xhr.onerror = () => reject(xhr.response)\r\n    xhr.send(JSON.stringify(body))\r\n  })\r\n}\r\n\r\n/**\r\n * Sends a XHR request with certain form data\r\n *\r\n * @param {XMLHttpRequest} xhr\r\n * @param {Object} data\r\n */\r\nexport const sendFormRequest = (xhr, data) => {\r\n  const body = new FormData()\r\n  for (var name in data) {\r\n    body.append(name, data[name])\r\n  }\r\n\r\n  return new Promise((resolve, reject) => {\r\n    xhr.onload = () => {\r\n      if (xhr.status >= 200 && xhr.status < 300) {\r\n        var response\r\n        try {\r\n          response = JSON.parse(xhr.response)\r\n        } catch (err) {\r\n          response = xhr.response\r\n        }\r\n        resolve(response)\r\n      } else {\r\n        reject(xhr.response)\r\n      }\r\n    }\r\n    xhr.onerror = () => reject(xhr.response)\r\n    xhr.send(body)\r\n  })\r\n}\r\n\r\n/**\r\n * Creates and sends XHR request\r\n *\r\n * @param {Object} options\r\n *\r\n * @returns Promise\r\n */\r\nexport default function (options) {\r\n  const xhr = createRequest(options)\r\n\r\n  return sendRequest(xhr, options.body)\r\n}\r\n","import {\r\n  default as request,\r\n  createRequest,\r\n  sendFormRequest\r\n} from '../utils/request'\r\n\r\nexport default class ChunkUploadHandler {\r\n  /**\r\n   * Constructor\r\n   *\r\n   * @param {File} file\r\n   * @param {Object} options\r\n   */\r\n  constructor (file, options) {\r\n    this.file = file\r\n    this.options = options\r\n  }\r\n\r\n  /**\r\n   * Gets the max retries from options\r\n   */\r\n  get maxRetries () {\r\n    return parseInt(this.options.maxRetries)\r\n  }\r\n\r\n  /**\r\n   * Gets the max number of active chunks being uploaded at once from options\r\n   */\r\n  get maxActiveChunks () {\r\n    return parseInt(this.options.maxActive)\r\n  }\r\n\r\n  /**\r\n   * Gets the file type\r\n   */\r\n  get fileType () {\r\n    return this.file.type\r\n  }\r\n\r\n  /**\r\n   * Gets the file size\r\n   */\r\n  get fileSize () {\r\n    return this.file.size\r\n  }\r\n\r\n  /**\r\n   * Gets the file size\r\n   */\r\n  get fileName () {\r\n    return this.file.name\r\n  }\r\n\r\n  /**\r\n   * Gets action (url) to upload the file\r\n   */\r\n  get action () {\r\n    return this.options.action || null\r\n  }\r\n\r\n  /**\r\n   * Gets the body to be merged when sending the request in start phase\r\n   */\r\n  get startBody () {\r\n    return this.options.startBody || {}\r\n  }\r\n\r\n  /**\r\n   * Gets the body to be merged when sending the request in upload phase\r\n   */\r\n  get uploadBody () {\r\n    return this.options.uploadBody || {}\r\n  }\r\n\r\n  /**\r\n   * Gets the body to be merged when sending the request in finish phase\r\n   */\r\n  get finishBody () {\r\n    return this.options.finishBody || {}\r\n  }\r\n\r\n  /**\r\n   * Gets the headers of the requests from options\r\n   */\r\n  get headers () {\r\n    return this.options.headers || {}\r\n  }\r\n\r\n  /**\r\n   * Whether it's ready to upload files or not\r\n   */\r\n  get readyToUpload () {\r\n    return !!this.chunks\r\n  }\r\n\r\n  /**\r\n   * Gets the progress of the chunk upload\r\n   * - Gets all the completed chunks\r\n   * - Gets the progress of all the chunks that are being uploaded\r\n   */\r\n  get progress () {\r\n    const completedProgress = (this.chunksUploaded.length / this.chunks.length) * 100\r\n    const uploadingProgress = this.chunksUploading.reduce((progress, chunk) => {\r\n      return progress + ((chunk.progress | 0) / this.chunks.length)\r\n    }, 0)\r\n\r\n    return Math.min(completedProgress + uploadingProgress, 100)\r\n  }\r\n\r\n  /**\r\n   * Gets all the chunks that are pending to be uploaded\r\n   */\r\n  get chunksToUpload () {\r\n    return this.chunks.filter(chunk => {\r\n      return !chunk.active && !chunk.uploaded\r\n    })\r\n  }\r\n\r\n  /**\r\n   * Whether there are chunks to upload or not\r\n   */\r\n  get hasChunksToUpload () {\r\n    return this.chunksToUpload.length > 0\r\n  }\r\n\r\n  /**\r\n   * Gets all the chunks that are uploading\r\n   */\r\n  get chunksUploading () {\r\n    return this.chunks.filter(chunk => {\r\n      return !!chunk.xhr && !!chunk.active\r\n    })\r\n  }\r\n\r\n  /**\r\n   * Gets all the chunks that have finished uploading\r\n   */\r\n  get chunksUploaded () {\r\n    return this.chunks.filter(chunk => {\r\n      return !!chunk.uploaded\r\n    })\r\n  }\r\n\r\n  /**\r\n   * Creates all the chunks in the initial state\r\n   */\r\n  createChunks () {\r\n    this.chunks = []\r\n\r\n    let start = 0\r\n    let end = this.chunkSize\r\n    while (start < this.fileSize) {\r\n      this.chunks.push({\r\n        blob: this.file.file.slice(start, end),\r\n        startOffset: start,\r\n        active: false,\r\n        retries: this.maxRetries\r\n      })\r\n      start = end\r\n      end = start + this.chunkSize\r\n    }\r\n  }\r\n\r\n  /**\r\n   * Updates the progress of the file with the handler's progress\r\n   */\r\n  updateFileProgress () {\r\n    this.file.progress = this.progress\r\n  }\r\n\r\n  /**\r\n   * Paues the upload process\r\n   * - Stops all active requests\r\n   * - Sets the file not active\r\n   */\r\n  pause () {\r\n    this.file.active = false\r\n    this.stopChunks()\r\n  }\r\n\r\n  /**\r\n   * Stops all the current chunks\r\n   */\r\n  stopChunks () {\r\n    this.chunksUploading.forEach(chunk => {\r\n      chunk.xhr.abort()\r\n      chunk.active = false\r\n    })\r\n  }\r\n\r\n  /**\r\n   * Resumes the file upload\r\n   * - Sets the file active\r\n   * - Starts the following chunks\r\n   */\r\n  resume () {\r\n    this.file.active = true\r\n    this.startChunking()\r\n  }\r\n\r\n  /**\r\n   * Starts the file upload\r\n   *\r\n   * @returns Promise\r\n   * - resolve  The file was uploaded\r\n   * - reject   The file upload failed\r\n   */\r\n  upload () {\r\n    this.promise = new Promise((resolve, reject) => {\r\n      this.resolve = resolve\r\n      this.reject = reject\r\n    })\r\n    this.start()\r\n\r\n    return this.promise\r\n  }\r\n\r\n  /**\r\n   * Start phase\r\n   * Sends a request to the backend to initialise the chunks\r\n   */\r\n  start () {\r\n    request({\r\n      method: 'POST',\r\n      headers: Object.assign({}, this.headers, {\r\n        'Content-Type': 'application/json'\r\n      }),\r\n      url: this.action,\r\n      body: Object.assign(this.startBody, {\r\n        phase: 'start',\r\n        mime_type: this.fileType,\r\n        size: this.fileSize,\r\n        name: this.fileName\r\n      })\r\n    }).then(res => {\r\n      if (res.status !== 'success') {\r\n        this.file.response = res\r\n        return this.reject('server')\r\n      }\r\n\r\n      this.sessionId = res.data.session_id\r\n      this.chunkSize = Number(res.data.end_offset)\r\n\r\n      this.createChunks()\r\n      this.startChunking()\r\n    }).catch(res => {\r\n      this.file.response = res\r\n      this.reject('server')\r\n    })\r\n  }\r\n\r\n  /**\r\n   * Starts to upload chunks\r\n   */\r\n  startChunking () {\r\n    for (let i = 0; i < this.maxActiveChunks; i++) {\r\n      this.uploadNextChunk()\r\n    }\r\n  }\r\n\r\n  /**\r\n   * Uploads the next chunk\r\n   * - Won't do anything if the process is paused\r\n   * - Will start finish phase if there are no more chunks to upload\r\n   */\r\n  uploadNextChunk () {\r\n    if (this.file.active) {\r\n      if (this.hasChunksToUpload) {\r\n        return this.uploadChunk(this.chunksToUpload[0])\r\n      }\r\n\r\n      if (this.chunksUploading.length === 0) {\r\n        return this.finish()\r\n      }\r\n    }\r\n  }\r\n\r\n  /**\r\n   * Uploads a chunk\r\n   * - Sends the chunk to the backend\r\n   * - Sets the chunk as uploaded if everything went well\r\n   * - Decreases the number of retries if anything went wrong\r\n   * - Fails if there are no more retries\r\n   *\r\n   * @param {Object} chunk\r\n   */\r\n  uploadChunk (chunk) {\r\n    chunk.progress = 0\r\n    chunk.active = true\r\n    this.updateFileProgress()\r\n    chunk.xhr = createRequest({\r\n      method: 'POST',\r\n      headers: this.headers,\r\n      url: this.action\r\n    })\r\n\r\n    chunk.xhr.upload.addEventListener('progress', function (evt) {\r\n      if (evt.lengthComputable) {\r\n        chunk.progress = Math.round(evt.loaded / evt.total * 100)\r\n      }\r\n    }, false)\r\n\r\n    sendFormRequest(chunk.xhr, Object.assign(this.uploadBody, {\r\n      phase: 'upload',\r\n      session_id: this.sessionId,\r\n      start_offset: chunk.startOffset,\r\n      chunk: chunk.blob\r\n    })).then(res => {\r\n      chunk.active = false\r\n      if (res.status === 'success') {\r\n        chunk.uploaded = true\r\n      } else {\r\n        if (chunk.retries-- <= 0) {\r\n          this.stopChunks()\r\n          return this.reject('upload')\r\n        }\r\n      }\r\n\r\n      this.uploadNextChunk()\r\n    }).catch(() => {\r\n      chunk.active = false\r\n      if (chunk.retries-- <= 0) {\r\n        this.stopChunks()\r\n        return this.reject('upload')\r\n      }\r\n\r\n      this.uploadNextChunk()\r\n    })\r\n  }\r\n\r\n  /**\r\n   * Finish phase\r\n   * Sends a request to the backend to finish the process\r\n   */\r\n  finish () {\r\n    this.updateFileProgress()\r\n\r\n    request({\r\n      method: 'POST',\r\n      headers: Object.assign({}, this.headers, {\r\n        'Content-Type': 'application/json'\r\n      }),\r\n      url: this.action,\r\n      body: Object.assign(this.finishBody, {\r\n        phase: 'finish',\r\n        session_id: this.sessionId\r\n      })\r\n    }).then(res => {\r\n      this.file.response = res\r\n      if (res.status !== 'success') {\r\n        return this.reject('server')\r\n      }\r\n\r\n      this.resolve(res)\r\n    }).catch(res => {\r\n      this.file.response = res\r\n      this.reject('server')\r\n    })\r\n  }\r\n}\r\n","import ChunkUploadHandler from './ChunkUploadHandler'\r\n// import {\r\n//   default as request\r\n//   createRequest,\r\n//   sendFormRequest\r\n// } from '../utils/request'\r\n\r\n/**\r\n * 自定义的chunkUpload处理器\r\n */\r\nexport default class LanChunkUploadHandler extends ChunkUploadHandler {\r\n  get startBody() {\r\n    return {\r\n      ...this.file.startBody,\r\n      ...this.file.data\r\n    }\r\n  }\r\n\r\n  get uploadBody() {\r\n    return {\r\n      ...this.file.uploadBody,\r\n      ...this.file.data\r\n    }\r\n  }\r\n\r\n  get finishBody() {\r\n    return {\r\n      ...this.file.finishBody,\r\n      ...this.file.data,\r\n      size: this.fileSize\r\n    }\r\n  }\r\n\r\n  /**\r\n   * 过滤已上传过的 chunks\r\n   */\r\n  get filterChunks() {\r\n    if (this.file.uploadedChunks) {\r\n      return this.file.uploadedChunks.join(',')\r\n    } else {\r\n      return []\r\n    }\r\n  }\r\n\r\n  /**\r\n   * Updates the progress of the file with the handler's progress\r\n   */\r\n  updateFileProgress() {\r\n    // this.file.uploader.update(this.file, { progress: this.progress })\r\n    this.file.progress = this.progress\r\n    this.file.uploader.refreshProgress()\r\n  }\r\n\r\n  /**\r\n   * Creates all the chunks in the initial state\r\n   */\r\n  createChunks() {\r\n    this.chunks = []\r\n\r\n    let start = 0\r\n    let end = this.chunkSize\r\n    let index = 0 // chunk序号\r\n    while (start < this.fileSize) {\r\n      if (this.filterChunks.indexOf(index) !== -1) {\r\n        // 过滤\r\n        start = end\r\n        end = start + this.chunkSize\r\n        index++\r\n        continue\r\n      }\r\n      this.chunks.push({\r\n        blob: this.file.file.slice(start, end),\r\n        startOffset: start,\r\n        active: false,\r\n        retries: this.maxRetries,\r\n        index: index\r\n      })\r\n      start = end\r\n      end = start + this.chunkSize\r\n      index++\r\n    }\r\n  }\r\n}\r\n","export function longToByteArray(long) {\r\n  var byteArray = [0, 0, 0, 0, 0, 0, 0, 0]\r\n  for (var index = 0; index < byteArray.length; index++) {\r\n    var byte = long & 0xff\r\n    if (byte > 127) {\r\n      byteArray[index] = -(~byte & 0xff) - 1\r\n    } else {\r\n      byteArray[index] = byte\r\n    }\r\n    long = (long - byte) / 256\r\n  }\r\n  return byteArray\r\n}\r\n\r\n/**\r\n * 获取文件部分md5\r\n * 头chunk+中部chunk+尾部chunk\r\n * chunks=1 只取chunk_head\r\n * chunks=2 只取chunk_head / chunk_tail\r\n * chunks>=3 取 head/mid/tail\r\n */\r\nexport function getFilePartMD5(file) {\r\n  /**\r\n   * 通常情况512为一个md5的chunk计算范围,故此取512bit作为chunk单位\r\n   */\r\n  const chunkSize = 512 / 8 // 512bit / 8 = 64bytes\r\n  return new Promise((resolve, reject) => {\r\n    const SparkMD5 = require('spark-md5')\r\n    const spark = new SparkMD5.ArrayBuffer()\r\n    const fileReader = new FileReader()\r\n    const blobSlice =\r\n      File.prototype.slice ||\r\n      File.prototype.mozSlice ||\r\n      File.prototype.webkitSlice\r\n    const chunks = Math.ceil(file.size / chunkSize)\r\n    const mid = Math.ceil(chunks / 2.0)\r\n    // console.log('chunks', chunks)\r\n    // console.log('mid', mid)\r\n    let currentChunk = 0\r\n\r\n    // 由于后端在linux上无法读取精确的毫秒数,所以手动丢失精度.但仍然使用 8位 long存储\r\n    // let lastModifiedSec = file.lastModified / 1000 * 1000\r\n\r\n    fileReader.onload = e => {\r\n      // 已读取了第一快\r\n      spark.append(e.target.result)\r\n      if (chunks === 1) {\r\n        // console.log(1, currentChunk)\r\n        return resolve(spark.end())\r\n      } else if (chunks === 2) {\r\n        // 读取尾部\r\n        // console.log(2, currentChunk)\r\n        if (currentChunk === chunks - 1) {\r\n          return resolve(spark.end())\r\n        }\r\n        currentChunk = chunks - 1\r\n      } else {\r\n        // console.log(3, currentChunk)\r\n        if (currentChunk === chunks - 1) {\r\n          return resolve(spark.end())\r\n        }\r\n        if (currentChunk === mid) {\r\n          currentChunk = chunks - 1 // 最后一块\r\n        } else {\r\n          // 读取中间\r\n          currentChunk = mid\r\n        }\r\n      }\r\n      load()\r\n    }\r\n    fileReader.onerror = e => reject(e)\r\n\r\n    let load = () => {\r\n      var start = currentChunk * chunkSize\r\n      var end = start + chunkSize >= file.size ? file.size : start + chunkSize\r\n      fileReader.readAsArrayBuffer(blobSlice.call(file, start, end))\r\n    }\r\n\r\n    load()\r\n  })\r\n}\r\n\r\nexport function getUploader(component, bind) {\r\n  let parent = component.$parent\r\n  while (parent) {\r\n    if (bind) {\r\n      if (parent.$refs[bind]) {\r\n        return parent.$refs[bind]\r\n      } else {\r\n        parent = parent.$parent\r\n      }\r\n    } else {\r\n      if (parent['lan-uploader']) {\r\n        return parent['lan-uploader']\r\n      } else {\r\n        parent = parent.$parent\r\n      }\r\n    }\r\n  }\r\n  return null\r\n}\r\n\r\nexport function each(ary, func, context) {\r\n  if (typeof ary.length !== 'undefined') {\r\n    for (var i = 0, len = ary.length; i < len; i++) {\r\n      if (func.call(context, ary[i], i, ary) === false) {\r\n        break\r\n      }\r\n    }\r\n  } else {\r\n    for (var k in ary) {\r\n      if (func.call(context, ary[k], k, ary) === false) {\r\n        break\r\n      }\r\n    }\r\n  }\r\n}\r\n","(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory();\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine(\"Collections\", [], factory);\n\telse if(typeof exports === 'object')\n\t\texports[\"Collections\"] = factory();\n\telse\n\t\troot[\"Collections\"] = factory();\n})(this, function() {\nreturn /******/ (function(modules) { // webpackBootstrap\n/******/ \t// The module cache\n/******/ \tvar installedModules = {};\n\n/******/ \t// The require function\n/******/ \tfunction __webpack_require__(moduleId) {\n\n/******/ \t\t// Check if module is in cache\n/******/ \t\tif(installedModules[moduleId])\n/******/ \t\t\treturn installedModules[moduleId].exports;\n\n/******/ \t\t// Create a new module (and put it into the cache)\n/******/ \t\tvar module = installedModules[moduleId] = {\n/******/ \t\t\texports: {},\n/******/ \t\t\tid: moduleId,\n/******/ \t\t\tloaded: false\n/******/ \t\t};\n\n/******/ \t\t// Execute the module function\n/******/ \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n/******/ \t\t// Flag the module as loaded\n/******/ \t\tmodule.loaded = true;\n\n/******/ \t\t// Return the exports of the module\n/******/ \t\treturn module.exports;\n/******/ \t}\n\n\n/******/ \t// expose the modules object (__webpack_modules__)\n/******/ \t__webpack_require__.m = modules;\n\n/******/ \t// expose the module cache\n/******/ \t__webpack_require__.c = installedModules;\n\n/******/ \t// __webpack_public_path__\n/******/ \t__webpack_require__.p = \"\";\n\n/******/ \t// Load entry module and return exports\n/******/ \treturn __webpack_require__(0);\n/******/ })\n/************************************************************************/\n/******/ ([\n/* 0 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\n\texports.__esModule = true;\n\texports.MultiMap = exports.RBTree = exports.Set = exports.ArrayUtils = exports.Trie = exports.Graph = exports.BST = exports.HashSet = exports.HashMap = exports.PriorityQueue = exports.BHeap = exports.Queue = exports.Stack = exports.List = undefined;\n\n\tvar _List = __webpack_require__(1);\n\n\tvar _List2 = _interopRequireDefault(_List);\n\n\tvar _Stack = __webpack_require__(3);\n\n\tvar _Stack2 = _interopRequireDefault(_Stack);\n\n\tvar _Queue = __webpack_require__(4);\n\n\tvar _Queue2 = _interopRequireDefault(_Queue);\n\n\tvar _BHeap = __webpack_require__(5);\n\n\tvar _BHeap2 = _interopRequireDefault(_BHeap);\n\n\tvar _PriorityQueue = __webpack_require__(6);\n\n\tvar _PriorityQueue2 = _interopRequireDefault(_PriorityQueue);\n\n\tvar _HashMap = __webpack_require__(7);\n\n\tvar _HashMap2 = _interopRequireDefault(_HashMap);\n\n\tvar _HashSet = __webpack_require__(9);\n\n\tvar _HashSet2 = _interopRequireDefault(_HashSet);\n\n\tvar _BST = __webpack_require__(11);\n\n\tvar _BST2 = _interopRequireDefault(_BST);\n\n\tvar _Graph = __webpack_require__(14);\n\n\tvar _Graph2 = _interopRequireDefault(_Graph);\n\n\tvar _Trie = __webpack_require__(16);\n\n\tvar _Trie2 = _interopRequireDefault(_Trie);\n\n\tvar _ArrayUtils = __webpack_require__(17);\n\n\tvar _ArrayUtils2 = _interopRequireDefault(_ArrayUtils);\n\n\tvar _RedBlackTree = __webpack_require__(15);\n\n\tvar _RedBlackTree2 = _interopRequireDefault(_RedBlackTree);\n\n\tvar _Set = __webpack_require__(18);\n\n\tvar _Set2 = _interopRequireDefault(_Set);\n\n\tvar _MultiMap = __webpack_require__(19);\n\n\tvar _MultiMap2 = _interopRequireDefault(_MultiMap);\n\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { 'default': obj }; }\n\n\texports.List = _List2['default'];\n\texports.Stack = _Stack2['default'];\n\texports.Queue = _Queue2['default'];\n\texports.BHeap = _BHeap2['default'];\n\texports.PriorityQueue = _PriorityQueue2['default'];\n\texports.HashMap = _HashMap2['default'];\n\texports.HashSet = _HashSet2['default'];\n\texports.BST = _BST2['default'];\n\texports.Graph = _Graph2['default'];\n\texports.Trie = _Trie2['default'];\n\texports.ArrayUtils = _ArrayUtils2['default'];\n\texports.Set = _Set2['default'];\n\texports.RBTree = _RedBlackTree2['default'];\n\texports.MultiMap = _MultiMap2['default'];\n\n/***/ },\n/* 1 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\n\texports.__esModule = true;\n\n\tvar _Util = __webpack_require__(2);\n\n\tfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\n\t/**\n\t * Returns the node at given index in linked list\n\t * @private\n\t * @param {number} index - The index of the node to return\n\t * @throws {TypeError} When @param index is not a number\n\t * @returns {(Node|undefined)} Node @param index or undefined if not found\n\t */\n\tfunction getNode(index) {\n\t  var head = this.head;\n\t  if (index < 0 || !head) {\n\t    return;\n\t  }\n\t  var i = 0;\n\t  while (i < index) {\n\t    head = head.next;\n\t    i += 1;\n\t    // index wanted is > than list size\n\t    if (!head) {\n\t      return;\n\t    }\n\t  }\n\t  return head;\n\t}\n\n\t/**\n\t * Linked List Node\n\t * @private\n\t * @class\n\t * @param {*} The data to assign to the node\n\t */\n\n\tvar Node = function Node(data) {\n\t  _classCallCheck(this, Node);\n\n\t  this.data = data;\n\t  this.next = null;\n\t  // previous node\n\t  this.prev = null;\n\t};\n\n\t/**\n\t * Linked List representation\n\t * @class\n\t *\n\t * @example\n\t * const list = new Collections.LinkedList();\n\t * // FOR ALL EXAMPLES BELOW. ASSUME list IS CLEARED BEFORE EACH EXAMPLE\n\t */\n\n\n\tvar List = function () {\n\t  function List() {\n\t    _classCallCheck(this, List);\n\n\t    this.head = null;\n\t    this.tail = null;\n\t    this.length = 0;\n\t  }\n\n\t  /**\n\t   * Adds the given data to left-most end of linked list\n\t   * @param {*} data - The data to insert\n\t   * @returns {List} The instance this method was called\n\t   *\n\t   * @example\n\t   * list.addToFront(\"a\")\n\t   *  .addToFront(\"b\"); // list is <\"b\", \"a\">\n\t   */\n\n\n\t  List.prototype.addToFront = function addToFront(data) {\n\t    var head = this.head,\n\t        length = this.length;\n\n\t    var newNode = new Node(data);\n\t    if (!head) {\n\t      this.head = newNode;\n\t      this.tail = this.head;\n\t    } else {\n\t      // non-empty list\n\t      this.head = newNode;\n\t      newNode.next = head;\n\t      head.prev = newNode;\n\t    }\n\t    this.length = length + 1;\n\t    return this;\n\t  };\n\n\t  /**\n\t   * Returns the data at given index\n\t   * @param {number} index - The index to look at\n\t   * @throws {TypeError} Will throw error if @param index is not number\n\t   * @returns {(*|undefined)} Index of element if @param index is in range\n\t   * or undefined\n\t   *\n\t   * @example\n\t   * list.addToFront(\"a\")\n\t   *  .addToFront(\"b\")\n\t   *  .addToFront(\"c\");\n\t   * const getSomething = list.elementAtIndex(2); // \"a\"\n\t   * list.elementAtIndex(13); // undefined\n\t   */\n\n\n\t  List.prototype.elementAtIndex = function elementAtIndex() {\n\t    var index = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : 0;\n\n\t    var foundNode = getNode.call(this, index);\n\t    return foundNode ? foundNode.data : undefined;\n\t  };\n\n\t  /**\n\t   * Adds the given data to right-most end of linked list\n\t   * @param {*} data - the data to insert\n\t   * @returns {List} The instance this method was called\n\t   *\n\t   * @example\n\t   * list.addToBack(\"a\")\n\t   *  .addToBack(\"b\"); // list is <\"a\", \"b\">\n\t   */\n\n\n\t  List.prototype.addToBack = function addToBack(data) {\n\t    var tail = this.tail,\n\t        length = this.length;\n\n\t    var newNode = new Node(data);\n\t    if (!tail) {\n\t      this.head = newNode;\n\t      this.tail = this.head;\n\t    } else {\n\t      this.tail = newNode;\n\t      newNode.prev = tail;\n\t      tail.next = newNode;\n\t    }\n\t    this.length = length + 1;\n\t    return this;\n\t  };\n\n\t  /**\n\t   * Removes the left-most element in the linked list\n\t   * @returns {(*|undefined)} The removed data or undefined if nothing removed\n\t   *\n\t   * @example\n\t   * list.addToBack(\"a\")\n\t   *  .addToBack(\"b\");\n\t   * const removedData = list.removeFront(); // \"a\"\n\t   * // list is now <\"b\">\n\t   */\n\n\n\t  List.prototype.removeFront = function removeFront() {\n\t    var head = this.head,\n\t        length = this.length;\n\n\t    var removedData = void 0;\n\t    if (head) {\n\t      removedData = head.data;\n\t      this.length = length - 1;\n\t      this.head = head.next;\n\n\t      // current state after removal\n\t      var newHead = this.head;\n\t      // list is now empty...adjust tail\n\t      if (!newHead) {\n\t        this.tail = null;\n\t        this.head = this.tail;\n\t      } else {\n\t        // front of list rule\n\t        newHead.prev = null;\n\t      }\n\t    }\n\t    return removedData;\n\t  };\n\n\t  /**\n\t   * Removes the right-most element in the linked list\n\t   * @returns {(*|undefined)} The removed data or undefined if nothing removed\n\t   *\n\t   * @example\n\t   * list.addToBack(\"a\")\n\t   *  .addToBack(\"b\");\n\t   * const removedData = list.removeBack(); // \"b\"\n\t   * // list is now <\"a\">\n\t   */\n\n\n\t  List.prototype.removeBack = function removeBack() {\n\t    var tail = this.tail,\n\t        length = this.length;\n\n\t    var removedData = void 0;\n\t    if (tail) {\n\t      removedData = tail.data;\n\t      var prev = tail.prev;\n\t      this.length = length - 1;\n\t      // list now empty\n\t      if (!prev) {\n\t        this.tail = null;\n\t        this.head = this.tail;\n\t      } else {\n\t        prev.next = null;\n\t        this.tail = prev;\n\t      }\n\t    }\n\t    return removedData;\n\t  };\n\n\t  /**\n\t   * Inserts given data into specific position in the linked list\n\t   * @param {index} index - The index to insert data into\n\t   * @param {*} data - The data to insert into @param index\n\t   * @throws {TypeError} Will throw error if @param index is not number\n\t   * @returns {List} - The instance this method was called\n\t   *\n\t   * @example\n\t   * list.addToBack(\"a\")\n\t   *  .addToBack(\"b\");\n\t   * list.insert(1, \"$\");\n\t   * // list is now <\"a, \"$, \"b\">\n\t   */\n\n\n\t  List.prototype.insert = function insert() {\n\t    var index = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : 0;\n\t    var data = arguments[1];\n\t    var length = this.length;\n\n\t    if (index === 0) {\n\t      return this.addToFront(data);\n\t    } else if (index >= length) {\n\t      return this.addToBack(data);\n\t    }\n\t    // parent of wanted node\n\t    var parentNode = getNode.call(this, index - 1);\n\t    if (parentNode) {\n\t      var newNode = new Node(data);\n\t      var oldParentNext = parentNode.next;\n\t      newNode.next = oldParentNext;\n\t      oldParentNext.prev = newNode;\n\t      parentNode.next = newNode;\n\t      newNode.prev = parentNode;\n\t      this.length = length + 1;\n\t    }\n\t    return this;\n\t  };\n\n\t  /**\n\t   * Removes data at specific position in the linked list\n\t   * @param {index} index - The index to insert data into\n\t   * @throws {TypeError} Will throw error if @param index is not number\n\t   * @returns {(*|undefined)} The removed data or undefined if nothing removed\n\t   *\n\t   * @example\n\t   * list.addToBack(\"a\")\n\t   *  .addToBack(\"b\");\n\t   * list.remove(1);\n\t   * // list is now <\"a\">\n\t   */\n\n\n\t  List.prototype.remove = function remove(index) {\n\t    var length = this.length;\n\n\t    var removedData = void 0;\n\t    if (index === 0) {\n\t      return this.removeFront();\n\t    } else if (index >= length - 1) {\n\t      return this.removeBack();\n\t    }\n\t    // parent of wanted node\n\t    var parentNode = getNode.call(this, index - 1);\n\t    if (parentNode) {\n\t      var toRemove = parentNode.next;\n\t      removedData = toRemove.data;\n\t      var toRemoveNext = toRemove.next;\n\t      parentNode.next = toRemoveNext;\n\t      toRemoveNext.prev = parentNode;\n\t      this.length = length - 1;\n\t    }\n\t    return removedData;\n\t  };\n\n\t  /**\n\t   * Returns the index of the given data in the linked list\n\t   * @param {*} data - The data to find index of\n\t   * @param {function} comparator - function to compare for equality\n\t   * @returns {number} The index of @param data or -1 if not found\n\t   *\n\t   * @example\n\t   * const customComparator = function(a, b) {\n\t   *   if(a.age < b.age) { return -1;}\n\t   *   else if(a.age > b.age) { return 1:}\n\t   *   else { return 0; }\n\t   * }\n\t   * list.addToBack({ age : 2})\n\t   *  .addToBack({ age : 3});\n\t   * list.indexOf({ age : 2}, customComparator) // 0\n\t   */\n\n\n\t  List.prototype.indexOf = function indexOf(data, comparator) {\n\t    var cmp = comparator || _Util.defaultComparator;\n\t    var index = 0;\n\t    var head = this.head;\n\t    while (head) {\n\t      if (cmp(data, head.data) === 0) {\n\t        return index;\n\t      }\n\t      head = head.next;\n\t      index += 1;\n\t    }\n\t    return -1;\n\t  };\n\n\t  /**\n\t   * Returns whether the linked list contains the given data\n\t   * @param {*} data - The data to insert into linked list\n\t   * @param {function} comparator - function to compare for equality\n\t   * @returns {number} The index of @param data or -1 if not found\n\t   */\n\n\n\t  List.prototype.contains = function contains(data, comparator) {\n\t    return this.indexOf(data, comparator) !== -1;\n\t  };\n\n\t  /**\n\t   * Empties the List\n\t   * @returns {undefined}\n\t   */\n\n\n\t  List.prototype.clear = function clear() {\n\t    this.head = null;\n\t    this.tail = null;\n\t    this.length = 0;\n\t  };\n\n\t  /**\n\t   * Returns the size of the List\n\t   * @returns {number} The size of the List\n\t   */\n\n\n\t  List.prototype.size = function size() {\n\t    return this.length;\n\t  };\n\n\t  /**\n\t   * Calls a callback function for each element in the list\n\t   * @param {function} predicate - Function executed for each element\n\t   * (data, index)\n\t   * @returns {List} The instance that this method was called\n\t   */\n\n\n\t  List.prototype.forEach = function forEach(predicate) {\n\t    var head = this.head;\n\t    var index = 0;\n\t    while (head) {\n\t      predicate(head.data, index);\n\t      head = head.next;\n\t      index += 1;\n\t    }\n\t    return this;\n\t  };\n\n\t  /**\n\t   * Returns a new list with only elements that return truthy when passed to the\n\t   * given callback\n\t   * @param {function(data)} predicate - The function used to evaluate elements\n\t   * @returns {List} A new list with filtered elements\n\t   */\n\n\n\t  List.prototype.filter = function filter(predicate) {\n\t    var head = this.head;\n\t    var newList = new List();\n\t    var data = void 0;\n\t    while (head) {\n\t      data = head.data;\n\t      if (predicate(data)) {\n\t        newList.addToBack(data);\n\t      }\n\t      head = head.next;\n\t    }\n\t    return newList;\n\t  };\n\n\t  /**\n\t   * Reports if every element in the list passes a certain condition\n\t   * @param {function(data)} predicate - The function used for evaluations\n\t   * @returns {boolean} True if every element passes the test and false otherwise\n\t   */\n\n\n\t  List.prototype.every = function every(predicate) {\n\t    var head = this.head;\n\t    while (head) {\n\t      if (!predicate(head.data)) {\n\t        return false;\n\t      }\n\t      head = head.next;\n\t    }\n\t    return true;\n\t  };\n\n\t  /**\n\t   * Reports if at least one element in the list passes a certain condition\n\t   * @param {function(data)} predicate - The function used for evaluations\n\t   * @returns {boolean} True if one or more elements passes the test and false otherwise\n\t   */\n\n\n\t  List.prototype.some = function some(predicate) {\n\t    var head = this.head;\n\t    while (head) {\n\t      if (predicate(head.data)) {\n\t        return true;\n\t      }\n\t      head = head.next;\n\t    }\n\t    return false;\n\t  };\n\n\t  /**\n\t   * Transforms a linked list to an array\n\t   * @returns {Array} An array representation of 'this' List\n\t   */\n\n\n\t  List.prototype.toArray = function toArray() {\n\t    var temp = [];\n\t    this.forEach(function (element) {\n\t      return temp.push(element);\n\t    });\n\t    return temp;\n\t  };\n\n\t  return List;\n\t}();\n\n\texports['default'] = List;\n\n/***/ },\n/* 2 */\n/***/ function(module, exports) {\n\n\t'use strict';\n\n\texports.__esModule = true;\n\n\tvar _typeof = typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\" ? function (obj) { return typeof obj; } : function (obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; };\n\n\texports.swap = swap;\n\texports.flat = flat;\n\texports.toString = toString;\n\texports.defaultComparator = defaultComparator;\n\texports.isNumber = isNumber;\n\texports.generateRandomInt = generateRandomInt;\n\t/**\n\t * swap method for Structs BHeap and Array\n\t * @private\n\t * @param {Array} array - array to swap certain elements\n\t * @param {number} index1 - index to swap with @param index2\n\t * @param {number} index2 - index to swap with @param index1\n\t * @returns {undefined}\n\t */\n\tfunction swap(array, index1, index2) {\n\t  var oldIndex1 = array[index1];\n\t  array[index1] = array[index2];\n\t  array[index2] = oldIndex1;\n\t}\n\n\t/**\n\t * Makes a 1-D array from an n-D array\n\t * @private\n\t * @param {Array} array - The array to flatten\n\t * @param {res} - The new flattened array\n\t * @returns {undefined}\n\t */\n\tfunction flat(array, res) {\n\t  var newArr = [];\n\t  var curValue = void 0;\n\t  for (var i = 0, len = array.length; i < len; i += 1) {\n\t    curValue = array[i];\n\t    if (Array.isArray(curValue)) {\n\t      flat(curValue, res);\n\t    } else {\n\t      res.push(curValue);\n\t    }\n\t  }\n\t  return newArr;\n\t}\n\n\t/**\n\t * Converts a given value to a string\n\t * @private\n\t * @param {*} value - The value to convert to a string\n\t * @returns {string} @param value to string or stringified by JSON\n\t */\n\tfunction toString(value) {\n\t  var type = typeof value === 'undefined' ? 'undefined' : _typeof(value);\n\t  if (type === 'string') {\n\t    return value;\n\t  } else if (type === 'number' || type === 'boolean' || type === 'function') {\n\t    return value.toString();\n\t  }\n\t  return JSON.stringify(value);\n\t}\n\n\t/**\n\t * default comparator for all Collections\n\t * @function defaultComparator\n\t * @param {(number|string)} a - first element to compare\n\t * @param {(number|string)} b - second element to compare\n\t * @returns {number} -1 if a < b, 1 if a > b, and 0 if equal\n\t *\n\t * @example\n\t * function(a, b) {\n\t   if(a < b) {\n\t     return -1;\n\t   } else if(a > b) {\n\t     return 1;\n\t   }\n\t   return 0;\n\t }\n\t */\n\tfunction defaultComparator(a, b) {\n\t  if (a < b) {\n\t    return -1;\n\t  }\n\t  if (a === b) {\n\t    return 0;\n\t  }\n\t  return 1;\n\t}\n\n\t/**\n\t * Custom comparator example for all Collections\n\t * @function customComparator\n\t * @param {*} a - first element to compare\n\t * @param {*} b - second element to compare\n\t * @returns {number} -1 if a < b, 1 if a > b, and 0 if equal\n\t *\n\t * @example\n\t * // suppose data is of the form { age : 2 } , { age : 12 }....etc\n\t * function(a, b) {\n\t   if(a.age < b.age) {\n\t     return -1;\n\t   } else if(a.age > b.age) {\n\t     return 1;\n\t   }\n\t   return 0;\n\t }\n\t */\n\t// eslint-disable-next-line no-unused-vars\n\tfunction customComparator(a, b) {\n\t  // eslint-disable-line no-unused-vars\n\t  if (a < b) {\n\t    return -1;\n\t  }\n\t  if (a === b) {\n\t    return 0;\n\t  }\n\t  return 1;\n\t}\n\n\t/**\n\t * Number.isNaN polyfill from\n\t * https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference\n\t * /Global_Objects/Number/isFinite\n\t * @private\n\t */\n\tfunction isNumber(value) {\n\t  // eslint-disable-next-line no-restricted-globals\n\t  if (typeof value !== 'number' || !isFinite(value)) {\n\t    throw new TypeError('Argument must be of type number or Number');\n\t  }\n\t}\n\n\t/**\n\t * Generates a random integer between 0 and limit (exclusive)\n\t * @private\n\t * @param {number} limit - Upper bound on random number\n\t * @returns {number} Random number in the range [0, @param limit)\n\t */\n\tfunction generateRandomInt(limit) {\n\t  return Math.floor(Math.random() * limit);\n\t}\n\n/***/ },\n/* 3 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\n\texports.__esModule = true;\n\n\tvar _List = __webpack_require__(1);\n\n\tvar _List2 = _interopRequireDefault(_List);\n\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { 'default': obj }; }\n\n\tfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\n\t/**\n\t * Stack representation\n\t * @class\n\t *\n\t * @example\n\t * const stack = new Collections.Stack();\n\t * // FOR ALL EXAMPLES BELOW. ASSUME stack IS CLEARED BEFORE EACH EXAMPLE\n\t */\n\tvar Stack = function () {\n\t  function Stack() {\n\t    _classCallCheck(this, Stack);\n\n\t    this.stack = new _List2['default']();\n\t  }\n\n\t  /**\n\t   * Pushes the given data onto the stack\n\t   * @param {data} data - The data to push onto stack\n\t   * @returns {Stack} The instance this method was called\n\t   *\n\t   * @example\n\t   * stack.push(1).push(2); // <2, 1>\n\t   */\n\n\n\t  Stack.prototype.push = function push(data) {\n\t    this.stack.addToFront(data);\n\t    return this;\n\t  };\n\n\t  /**\n\t   * Removes data from stack in a last in first out manner\n\t   * @returns {*} The reomved data\n\t   *\n\t   * @example\n\t   * stack.push(1).push(2).push(3);\n\t   * stack.pop(); // 3\n\t   */\n\n\n\t  Stack.prototype.pop = function pop() {\n\t    return this.stack.removeFront();\n\t  };\n\n\t  /**\n\t   * Reports but does not remove the staged element to be removed next\n\t   * @returns {*} The element staged to be removed next\n\t   *\n\t   * @example\n\t   * stack.push(1);\n\t   * stack.peek() // returns 1 but does not remove it\n\t   */\n\n\n\t  Stack.prototype.peek = function peek() {\n\t    return this.stack.elementAtIndex(0);\n\t  };\n\n\t  /**\n\t   * Empties the Stack\n\t   * @returns {undefined}\n\t   */\n\n\n\t  Stack.prototype.clear = function clear() {\n\t    return this.stack.clear();\n\t  };\n\n\t  /**\n\t   * Reports the size of the queue\n\t   * @returns {number} The size of the queue\n\t   */\n\n\n\t  Stack.prototype.size = function size() {\n\t    return this.stack.size();\n\t  };\n\n\t  return Stack;\n\t}();\n\n\texports['default'] = Stack;\n\n/***/ },\n/* 4 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\n\texports.__esModule = true;\n\n\tvar _List = __webpack_require__(1);\n\n\tvar _List2 = _interopRequireDefault(_List);\n\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { 'default': obj }; }\n\n\tfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\n\t/**\n\t * Queue Representation\n\t * @class\n\t *\n\t * @example\n\t * const queue = new Collections.Queue();\n\t * // FOR ALL EXAMPLES BELOW. ASSUME queue IS CLEARED BEFORE EACH EXAMPLE\n\t */\n\tvar Queue = function () {\n\t  function Queue() {\n\t    _classCallCheck(this, Queue);\n\n\t    this.queue = new _List2['default']();\n\t  }\n\n\t  /**\n\t   * Inserts given data into queue\n\t   * @param {*} data - The data to insert into queue\n\t   * @returns {Queue} The instance that this method was called\n\t   *\n\t   * @example\n\t   * queue.enqueue(1).enqueue(2);\n\t   *\n\t   */\n\n\n\t  Queue.prototype.enqueue = function enqueue(data) {\n\t    this.queue.addToBack(data);\n\t    return this;\n\t  };\n\n\t  /**\n\t   * Removes from the queue in a first in first out manner\n\t   * @returns {*} The removed data\n\t   * @example\n\t   * queue.enqueue(1).enqueue(2);\n\t   * queue.dequeue() // 1\n\t   */\n\n\n\t  Queue.prototype.dequeue = function dequeue() {\n\t    return this.queue.removeFront();\n\t  };\n\n\t  /**\n\t   * Reports but does not remove the staged element to be removed next\n\t   * @returns {*} Element staged to be removed next\n\t   *\n\t   * @example\n\t   * queue.enqueue(1);\n\t   * queue.peek() // returns 1 but does not remove it\n\t   */\n\n\n\t  Queue.prototype.peek = function peek() {\n\t    return this.queue.elementAtIndex(0);\n\t  };\n\n\t  /**\n\t   * Empties the Queue\n\t   * @returns {undefined}\n\t   */\n\n\n\t  Queue.prototype.clear = function clear() {\n\t    return this.queue.clear();\n\t  };\n\n\t  /**\n\t   * Reports the size of the queue\n\t   * @returns {number} The size of the queue\n\t   */\n\n\n\t  Queue.prototype.size = function size() {\n\t    return this.queue.size();\n\t  };\n\n\t  return Queue;\n\t}();\n\n\texports['default'] = Queue;\n\n/***/ },\n/* 5 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\n\texports.__esModule = true;\n\n\tvar _Util = __webpack_require__(2);\n\n\tfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\n\t/**\n\t * Sifts down (swaps elements downward) the given array\n\t * @private\n\t * @param {Array} array - The array to sift down on.\n\t * @param {number} index - The index to start the sift down operation.\n\t * @param {function} comparator - The comparator to use against parent and\n\t * child elements.\n\t * @returns {undefined}\n\t */\n\tfunction heapify(array, index, comparator) {\n\t  var leftChildIndex = 2 * index;\n\t  var rightChildIndex = 2 * index + 1;\n\t  var numIndicies = array.length - 1;\n\t  var largest = void 0;\n\n\t  if (leftChildIndex <= numIndicies && comparator(array[leftChildIndex], array[index]) === 1) {\n\t    largest = leftChildIndex;\n\t  } else {\n\t    largest = index;\n\t  }\n\n\t  if (rightChildIndex <= numIndicies && comparator(array[rightChildIndex], array[largest]) === 1) {\n\t    largest = rightChildIndex;\n\t  }\n\n\t  if (largest !== index) {\n\t    (0, _Util.swap)(array, index, largest);\n\t    heapify(array, largest, comparator);\n\t  }\n\t}\n\n\t/**\n\t * Sifts up (swaps elements upward) the given array\n\t * @private\n\t * @param {Array} array - The array to sift up on.\n\t * @param {number} index - The index to start the sift up operation.\n\t * @param {function} comparator - The comparator to use against parent\n\t * and child elements\n\t * @returns {undefined}\n\t */\n\tfunction siftUp(array, index, comparator) {\n\t  if (index > 1) {\n\t    var parent = Math.floor(index / 2);\n\t    if (comparator(array[parent], array[index]) === -1) {\n\t      (0, _Util.swap)(array, parent, index);\n\t      siftUp(array, parent, comparator);\n\t    }\n\t  }\n\t}\n\n\t/**\n\t * Binary heap representation\n\t * @class\n\t * @param {function} comparator - @see Global#defaultComp for examples\n\t * @example\n\t * const heap = new Collections.BHeap();\n\t * // this creates a max heap by default.\n\t * // for a min heap, see @link above and swap 1 and -1\n\t * // FOR ALL EXAMPLES BELOW. ASSUME heap IS CLEARED BEFORE EACH EXAMPLE\n\t */\n\n\tvar BHeap = function () {\n\t  function BHeap(comparator) {\n\t    _classCallCheck(this, BHeap);\n\n\t    this.heap = [null];\n\t    this.comparator = comparator || _Util.defaultComparator;\n\t  }\n\n\t  /**\n\t   * Removes the root of the BHeap and returns the data\n\t   * @returns {*} The extracted data\n\t   *\n\t   * @example\n\t   * heap.insert(1).insert(2).insert(3);\n\t   * let root = heap.extractRoot();\n\t   * // root = 3;\n\t   */\n\n\n\t  BHeap.prototype.extractRoot = function extractRoot() {\n\t    var heap = this.heap,\n\t        comparator = this.comparator;\n\n\t    var max = heap[1];\n\t    heap[1] = heap[heap.length - 1];\n\t    heap.length -= 1;\n\t    heapify(heap, 1, comparator);\n\t    return max;\n\t  };\n\n\t  /**\n\t   * Inserts the given data into the BHeap\n\t   * @param {*} [data=null] - The data to insert into BHeap.\n\t   * @returns {BHeap} A reference to the instance that this method was called\n\t   *\n\t   * @example\n\t   * heap.insert(1).insert(2).insert(3).insert(3);\n\t   * // this heap will contain both 3s\n\t   *\n\t   * heap.extractRoot() // will be 3\n\t   */\n\n\n\t  BHeap.prototype.insert = function insert(data) {\n\t    var heap = this.heap,\n\t        comparator = this.comparator;\n\n\t    heap[heap.length] = data;\n\t    siftUp(heap, heap.length - 1, comparator);\n\t    return this;\n\t  };\n\n\t  /**\n\t   * Reports whether the BHeap contains the given data\n\t   * @param {*} [data=null] - The data to search for\n\t   * @returns {boolean} True if the heap contains @param data and false otherwise\n\t   *\n\t   * @example\n\t   * heap.insert(1).insert(2);\n\t   * heap.contains(2) // true\n\t   */\n\n\n\t  BHeap.prototype.contains = function contains(data) {\n\t    return this.toArray().indexOf(data) !== -1;\n\t  };\n\n\t  /**\n\t   * Retrieves the element staged to be removed next but does not remove it\n\t   * @returns {* | undefined} The set to be removed data or undefined if empty heap\n\t   *\n\t   * @example\n\t   * heap.insert(9);\n\t   * heap.peek() // returns 9 and heap is still of size 1\n\t   */\n\n\n\t  BHeap.prototype.peek = function peek() {\n\t    return this.heap[1];\n\t  };\n\n\t  /**\n\t   * Transforms the BHeap into an array\n\t   * @returns {Array} The heap instance as an array\n\t   *\n\t   * @example\n\t   * heap.insert(1).insert(2);\n\t   * heap.toArray() // will be [2, 1]\n\t   */\n\n\n\t  BHeap.prototype.toArray = function toArray() {\n\t    return this.heap.slice(1);\n\t  };\n\n\t  /**\n\t   * Reports the number of elements in the BHeap.\n\t   * @returns The BHeap instance's number of elements\n\t   *\n\t   * @example\n\t   * heap.size() // would be 0\n\t   */\n\n\n\t  BHeap.prototype.size = function size() {\n\t    return this.heap.length - 1;\n\t  };\n\n\t  /**\n\t   * Empties the Heap\n\t   * @returns {undefined}\n\t   */\n\n\n\t  BHeap.prototype.clear = function clear() {\n\t    this.heap.length = 1;\n\t  };\n\n\t  return BHeap;\n\t}();\n\n\texports['default'] = BHeap;\n\n/***/ },\n/* 6 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\n\texports.__esModule = true;\n\n\tvar _BHeap = __webpack_require__(5);\n\n\tvar _BHeap2 = _interopRequireDefault(_BHeap);\n\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { 'default': obj }; }\n\n\tfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\n\t/**\n\t * Custom comparator for min heap\n\t * @private\n\t * @param {valueA} objectA - First value to compare\n\t * @param {valueB} objectB- Second value to compare\n\t * @returns {number} 1 if @param objectA's priority is less than\n\t * objectB's priority, -1 if opposite and 0 if the two priorities are equal.\n\t */\n\tfunction minHeapComparator(objectA, objectB) {\n\t  if (objectA.priority < objectB.priority) {\n\t    return 1;\n\t  }\n\t  if (objectA.priority === objectB.priority) {\n\t    return 0;\n\t  }\n\t  return -1;\n\t}\n\n\t/**\n\t * Priority Queue Representation\n\t * @class\n\t *\n\t * @example\n\t * const pq = new Collections.PriorityQueue();\n\t * // FOR ALL EXAMPLES BELOW. ASSUME pq IS CLEARED BEFORE EACH EXAMPLE\n\t */\n\n\tvar PriorityQueue = function () {\n\t  function PriorityQueue() {\n\t    _classCallCheck(this, PriorityQueue);\n\n\t    this.queue = new _BHeap2['default'](minHeapComparator);\n\t  }\n\n\t  /**\n\t   * Inserts given data into queue with a certain priority\n\t   * Lower numbers are removed from queue first.\n\t   * @param {number} data - The data to queue\n\t   * @param {priority} priority - The relative Importance of @param data\n\t   * to othe data in the queue\n\t   *\n\t   * @example\n\t   * pq.enqueue(\"wakeup\", 1);\n\t   * pq.enqueue(\"wash dishes\", 2);\n\t   *\n\t   */\n\n\n\t  PriorityQueue.prototype.enqueue = function enqueue(data, priority) {\n\t    return this.queue.insert({ data: data, priority: priority });\n\t  };\n\n\t  /**\n\t   * Removes The element with the lowest priority from the queue\n\t   * @returns {*} The element with the lowest priority in the queue\n\t   * pq.dequeue()\n\t   * // from the example above, this operation returns \"wakeup\", then\n\t   * \"wash dishes\" on second dequeue\n\t   */\n\n\n\t  PriorityQueue.prototype.dequeue = function dequeue() {\n\t    var queue = this.queue;\n\n\t    return queue.extractRoot().data;\n\t  };\n\n\t  /**\n\t   * Reports the size of the priorityqueue\n\t   * @returns {number} The size of the queue\n\t   */\n\n\n\t  PriorityQueue.prototype.size = function size() {\n\t    return this.queue.size();\n\t  };\n\n\t  /**\n\t   * Removes all elements from the PriorityQueue\n\t   * @returns {undefined}\n\t   */\n\n\n\t  PriorityQueue.prototype.clear = function clear() {\n\t    return this.queue.clear();\n\t  };\n\n\t  return PriorityQueue;\n\t}();\n\n\texports['default'] = PriorityQueue;\n\n/***/ },\n/* 7 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\n\texports.__esModule = true;\n\n\tvar _HashTable = __webpack_require__(8);\n\n\tvar _HashTable2 = _interopRequireDefault(_HashTable);\n\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { 'default': obj }; }\n\n\tfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\n\t/**\n\t * HashMap representation\n\t * @class\n\t * @implements MapInterface\n\t * @param {number} [initialCapacity=13] - Initial size of the hashmap\n\t * IMPORTANT : It is not recommended that you choose a size that will be a\n\t * close or approximate upper bound on your data, so that number\n\t * of rehashes of the inner hashtable will be small. For example, if\n\t * you know you only need 100,000 inserts, a good initial capacity would not be\n\t * approximately 100,000 as the inner hastable will resize once 75,000\n\t * (75% of size) to 75,000 * 2 = 150,000. Next resize will be 0.75 * 150,000\n\t * which is 112,500 , greater than your space needed.\n\t * So, try something around 150,000. Or you can just rehash a lot :)\n\t *\n\t * @example\n\t * const map = new Collections.HashMap(37);\n\t */\n\tvar HashMap = function () {\n\t  function HashMap(initialCapacity) {\n\t    _classCallCheck(this, HashMap);\n\n\t    this.map = new _HashTable2['default'](initialCapacity);\n\t  }\n\n\t  HashMap.prototype.put = function put(key, value) {\n\t    var self = this;\n\t    self.map.put(key, value);\n\t    return self;\n\t  };\n\n\t  HashMap.prototype.getVal = function getVal(key) {\n\t    return this.map.getVal(key);\n\t  };\n\n\t  HashMap.prototype.clear = function clear() {\n\t    return this.map.clear();\n\t  };\n\n\t  HashMap.prototype.remove = function remove(key) {\n\t    return this.map.remove(key);\n\t  };\n\n\t  HashMap.prototype.keys = function keys() {\n\t    return this.map.keys();\n\t  };\n\n\t  HashMap.prototype.values = function values() {\n\t    return this.map.values();\n\t  };\n\n\t  HashMap.prototype.contains = function contains(key) {\n\t    return this.map.contains(key);\n\t  };\n\n\t  HashMap.prototype.size = function size() {\n\t    return this.map.size();\n\t  };\n\n\t  return HashMap;\n\t}();\n\n\texports['default'] = HashMap;\n\n/***/ },\n/* 8 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\n\texports.__esModule = true;\n\n\tvar _typeof = typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\" ? function (obj) { return typeof obj; } : function (obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; };\n\n\tvar _Util = __webpack_require__(2);\n\n\tfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\n\t/**\n\t * From immutable.js implementation of java hashcode\n\t * https://github.com/facebook/immutable-js/blob/master/src/Hash.js\n\t *\n\t * Returns the hashcode for the given string\n\t * @private\n\t * @param {string} str - The string to hash\n\t * @returns {number} @param str's hashcode\n\t */\n\tfunction hashString(string) {\n\t  var hash = 0;\n\t  for (var i = 0, len = string.length; i < len; i += 1) {\n\t    hash = 31 * hash + string.charCodeAt(i) | 0;\n\t  }\n\t  return hash;\n\t}\n\n\t/**\n\t * Returns the modulo of two numbers\n\t * @private\n\t * @param {number} dividend - The dividend\n\t * @param {number} divisor - The divisor\n\t * @returns {number} Positive number when (dividend mod divisor) is calculated\n\t */\n\tfunction mod(dividend, divisor) {\n\t  var modulo = dividend % divisor;\n\t  return dividend < 0 ? modulo * -1 : modulo;\n\t}\n\n\t/**\n\t * Creates a 2 dimensional array of the given size\n\t * @private\n\t * @param {number} size - The size of the 2d array\n\t * @returns {Array} A 1d array with @param size inner arrays\n\t */\n\tfunction createTable(size) {\n\t  var newTable = [];\n\t  for (var i = 0; i < size; i += 1) {\n\t    newTable.push([]);\n\t  }\n\t  return newTable;\n\t}\n\n\t/**\n\t * Gets the proper index the given key should be hashed to in the given array\n\t * @private\n\t * @param {*} key - The key\n\t * @param {Array} Associative Array\n\t * @returns {number} The index that @param key hashes to\n\t */\n\tfunction getLocationInTable(key, table) {\n\t  var keyHash = hashString((0, _Util.toString)(key) + (typeof key === 'undefined' ? 'undefined' : _typeof(key)));\n\t  return mod(keyHash, table.length);\n\t}\n\n\t/**\n\t * Inserts into an Associative Array based on the hashcode of the given key\n\t * @private\n\t * @param {*} key - The key\n\t * @param {*} value - The value mapped to by @param key\n\t * @param {Array} table - Associative Array\n\t * @returns {number} 1 for true\n\t */\n\tfunction insert(key, value, table) {\n\t  var location = getLocationInTable(key, table);\n\t  var bucket = table[location];\n\t  return bucket.push(key, value);\n\t}\n\n\t/**\n\t * Gets the keys or the values in the given table\n\t * @private\n\t * @param {string} query - The partial of the pair wanted either key or value\n\t * @param {Array} table - The associative array\n\t * @returns {Array} Array filled with keys or values\n\t */\n\tfunction getKeysOrValues(query, table) {\n\t  var start = query === 'keys' ? 0 : 1;\n\t  var result = [];\n\t  var tableLen = table.length;\n\t  for (var i = 0; i < tableLen; i += 1) {\n\t    var currentBucket = table[i];\n\t    for (var j = start; j < currentBucket.length; j += 2) {\n\t      result.push(currentBucket[j]);\n\t    }\n\t  }\n\t  return result;\n\t}\n\n\t/**\n\t * Searches an Associative Array based on the hashcode of the given key\n\t * @private\n\t * @param {*} key - The key to look for\n\t * @param {Array} table - Associative Array\n\t * @returns {Object} Object literal with the bucket where @param key is found\n\t * and the index of @param key in that bucket or undefined and -1 if not found\n\t */\n\tfunction search(key, table) {\n\t  var location = getLocationInTable(key, table);\n\t  var bucket = table[location];\n\t  // skip values [k1, v1, k2, v2]\n\t  for (var index = 0; index < bucket.length; index += 2) {\n\t    if (key === bucket[index]) {\n\t      return { bucket: bucket, index: index };\n\t    }\n\t  }\n\t  return { bucket: undefined, index: -1 };\n\t}\n\n\t/**\n\t * Figures out if the given Associative Array should grow larger\n\t * @private\n\t * @param {number} inserts - The number of items in the table\n\t * @param {Array} table - Associative Array\n\t * @returns {boolean} True if @param table should rehash and false otherwise\n\t */\n\tfunction shouldRehash(inserts, table) {\n\t  var load = inserts / table.length;\n\t  return load >= 0.75 ? true : false;\n\t}\n\n\t/**\n\t * HashTable representation\n\t * @class\n\t * @private\n\t * @implements MapInterface\n\t * @param {number} [initialCapacity=13] - Initial size of the hashtable\n\t * IMPORTANT : It is not recommended that you choose a size that will be a\n\t * close or approximate upper bound on your data, so that number\n\t * of rehashes of the hashtable will be small. For example, if\n\t * you know you only need 100,000 inserts, a good initial capacity would not be\n\t * approximately 100,000 as the hastable will resize once 75,000\n\t * (75% of size) to 75,000 * 2 = 150,000. Next resize will be 0.75 * 150,000\n\t * which is 112,500 , greater than your space needed.\n\t */\n\n\tvar HashTable = function () {\n\t  function HashTable() {\n\t    var initialCapacity = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : 13;\n\n\t    _classCallCheck(this, HashTable);\n\n\t    this.inserts = 0;\n\t    this.table = createTable(initialCapacity);\n\t  }\n\n\t  HashTable.prototype.put = function put() {\n\t    var key = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : null;\n\t    var value = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : null;\n\n\t    var self = this;\n\t    var table = self.table,\n\t        inserts = self.inserts;\n\n\t    var searchResult = search(key, table);\n\t    var bucket = searchResult.bucket,\n\t        index = searchResult.index;\n\n\t    if (index === -1) {\n\t      insert(key, value, table);\n\t      self.inserts += 1;\n\t      if (shouldRehash(inserts + 1, table)) {\n\t        self.rehash();\n\t      }\n\t    } else {\n\t      bucket[index + 1] = value;\n\t    }\n\t    return self;\n\t  };\n\n\t  HashTable.prototype.getVal = function getVal(key) {\n\t    var searchResult = search(key, this.table);\n\t    var bucket = searchResult.bucket,\n\t        index = searchResult.index;\n\n\t    return index !== -1 ? bucket[index + 1] : undefined;\n\t  };\n\n\t  HashTable.prototype.remove = function remove(key) {\n\t    var self = this;\n\t    var searchResult = search(key, self.table);\n\t    var bucket = searchResult.bucket,\n\t        index = searchResult.index;\n\n\t    if (index !== -1) {\n\t      self.inserts -= 1;\n\t      bucket.splice(index, 2);\n\t      return true;\n\t    }\n\t    return false;\n\t  };\n\n\t  HashTable.prototype.contains = function contains(key) {\n\t    return this.getVal(key) !== undefined;\n\t  };\n\n\t  /**\n\t   * Resizes (2x) and rehashes all keys in HashTable\n\t   * @returns {undefined}\n\t   */\n\n\n\t  HashTable.prototype.rehash = function rehash() {\n\t    var oldTable = this.table;\n\t    var newTable = createTable(oldTable.length * 2);\n\t    var oldLen = oldTable.length;\n\n\t    for (var i = 0; i < oldLen; i += 1) {\n\t      var currentBucket = oldTable[i];\n\t      for (var j = 0; j < currentBucket.length; j += 2) {\n\t        var oldKey = currentBucket[j];\n\t        var oldValue = currentBucket[j + 1];\n\t        insert(oldKey, oldValue, newTable);\n\t      }\n\t    }\n\t    oldTable.length = 0;\n\t    this.table = newTable;\n\t  };\n\n\t  HashTable.prototype.keys = function keys() {\n\t    return getKeysOrValues('keys', this.table);\n\t  };\n\n\t  HashTable.prototype.values = function values() {\n\t    return getKeysOrValues('values', this.table);\n\t  };\n\n\t  /**\n\t   * Returns the number of buckets in the Associative Array\n\t   * @returns {number} Size of inner Associative Array\n\t   */\n\n\n\t  HashTable.prototype.tableSize = function tableSize() {\n\t    return this.table.length;\n\t  };\n\n\t  HashTable.prototype.clear = function clear() {\n\t    var self = this;\n\t    self.table.length = 0;\n\t    self.inserts = 0;\n\t    self.table = createTable(13);\n\t  };\n\n\t  HashTable.prototype.size = function size() {\n\t    return this.inserts;\n\t  };\n\n\t  return HashTable;\n\t}();\n\n\texports['default'] = HashTable;\n\n/***/ },\n/* 9 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\n\texports.__esModule = true;\n\n\tvar _HashTable = __webpack_require__(8);\n\n\tvar _HashTable2 = _interopRequireDefault(_HashTable);\n\n\tvar _SetInterface2 = __webpack_require__(10);\n\n\tvar _SetInterface3 = _interopRequireDefault(_SetInterface2);\n\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { 'default': obj }; }\n\n\tfunction _defaults(obj, defaults) { var keys = Object.getOwnPropertyNames(defaults); for (var i = 0; i < keys.length; i++) { var key = keys[i]; var value = Object.getOwnPropertyDescriptor(defaults, key); if (value && value.configurable && obj[key] === undefined) { Object.defineProperty(obj, key, value); } } return obj; }\n\n\tfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\n\tfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\n\tfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? _defaults(subClass, superClass) : _defaults(subClass, superClass); }\n\n\t/**\n\t * HashSet representation\n\t * @class\n\t * @implements {SetInterface}\n\t * @param {number} [initialCapacity=13] - The initial size of the hashset\n\t *\n\t * @example\n\t * const set = new Collections.HashSet();\n\t */\n\tvar HashSet = function (_SetInterface) {\n\t  _inherits(HashSet, _SetInterface);\n\n\t  function HashSet(initialCapacity) {\n\t    _classCallCheck(this, HashSet);\n\n\t    var _this = _possibleConstructorReturn(this, _SetInterface.call(this));\n\n\t    _this.set = new _HashTable2['default'](initialCapacity);\n\t    return _this;\n\t  }\n\n\t  HashSet.prototype.add = function add(element) {\n\t    this.set.put(element, 1);\n\t    return this;\n\t  };\n\n\t  HashSet.prototype.has = function has(element) {\n\t    return this.set.contains(element);\n\t  };\n\n\t  HashSet.prototype.remove = function remove(element) {\n\t    this.set.remove(element);\n\t    return this;\n\t  };\n\n\t  HashSet.prototype.entries = function entries() {\n\t    return this.set.keys();\n\t  };\n\n\t  HashSet.prototype.cardinality = function cardinality() {\n\t    return this.set.size();\n\t  };\n\n\t  HashSet.prototype.union = function union(thatSet) {\n\t    return _SetInterface.prototype.union.call(this, thatSet);\n\t  };\n\n\t  HashSet.prototype.diff = function diff(thatSet) {\n\t    return _SetInterface.prototype.diff.call(this, thatSet);\n\t  };\n\n\t  HashSet.prototype.intersect = function intersect(thatSet) {\n\t    return _SetInterface.prototype.intersect.call(this, thatSet);\n\t  };\n\n\t  return HashSet;\n\t}(_SetInterface3['default']);\n\n\texports['default'] = HashSet;\n\n/***/ },\n/* 10 */\n/***/ function(module, exports) {\n\n\t\"use strict\";\n\n\texports.__esModule = true;\n\n\tfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\n\t/**\n\t * Collection of elements that contain no duplicates\n\t *\n\t * @interface\n\t *\n\t */\n\tvar SetInterface = function () {\n\t  function SetInterface() {\n\t    _classCallCheck(this, SetInterface);\n\t  }\n\n\t  /**\n\t   * Adds an element to the set if already in set\n\t   * @param {*} element - The element to add to the set\n\t   * @returns {Set} The instance that this method was called\n\t   *\n\t   * @example\n\t   * set.add(1);\n\t   * set.add(2);\n\t   * set.add(1);\n\t   * // set contains [1, 2] order might not be guareenteed\n\t   */\n\n\n\t  SetInterface.prototype.add = function add(element) {};\n\n\t  /**\n\t   * Returns the set difference (not symmetric) of 'this' set and\n\t   * another set x such that x is in A and x is not in B, where A and B\n\t   * are two sets\n\t   * @param {Set} thatSet - another set instance\n\t   * @returns {Array} The difference of this and @param thatSet\n\t   *\n\t   * @example\n\t   * set.add(1);\n\t   * set.add(2);\n\t   * set2 = new <Another Set>\n\t   * set2.add(2);\n\t   * set.diff(set2); // [1]\n\t   */\n\n\n\t  SetInterface.prototype.diff = function diff(thatSet) {\n\t    var thisKeys = this.entries();\n\t    var result = [];\n\t    var thisLen = thisKeys.length;\n\t    var curElement = void 0;\n\t    for (var i = 0; i < thisLen; i += 1) {\n\t      curElement = thisKeys[i];\n\t      if (!thatSet.has(curElement)) {\n\t        result.push(curElement);\n\t      }\n\t    }\n\t    return result;\n\t  };\n\n\t  /**\n\t   * Returns the mathematical set union of 'this' set and\n\t   * another set\n\t   * @param {Set} thatSet - another set instance\n\t   * @returns {Array} An array containing the union of this and @param thatSet\n\t   *\n\t   * @example\n\t   * set.add(1);\n\t   * set.add(2);\n\t   * set2 = new <Another Set>\n\t   * set2.add(2);\n\t   * set.union(set2); // [1, 2]\n\t   */\n\n\n\t  SetInterface.prototype.union = function union(thatSet) {\n\t    var thatKeys = thatSet.entries();\n\t    var self = this;\n\t    var thisKeys = self.entries();\n\t    var curElement = void 0;\n\t    var thatLen = thatKeys.length;\n\t    for (var i = 0; i < thatLen; i += 1) {\n\t      curElement = thatKeys[i];\n\t      if (!self.has(curElement)) {\n\t        thisKeys.push(curElement);\n\t      }\n\t    }\n\t    return thisKeys;\n\t  };\n\n\t  /**\n\t   * Reports whether the set contains a given value\n\t   * @param {*} element - The element to find\n\t   * @returns {boolean} True if set contains @param element and false otherwise\n\t   *\n\t   * @example\n\t   * set.add(1);\n\t   * set.add(2);\n\t   * set.has(3); // false\n\t   */\n\n\n\t  SetInterface.prototype.has = function has(element) {};\n\n\t  /**\n\t   * Returns all elements in the set\n\t   * @returns {Array} Array with all elements in the set\n\t   */\n\n\n\t  SetInterface.prototype.entries = function entries() {};\n\n\t  /**\n\t   * Removes an element from the set\n\t   * @returns {Set} the instance that this method was called\n\t   */\n\n\n\t  SetInterface.prototype.remove = function remove(element) {};\n\n\t  /**\n\t   * Returns the mathematical set intersection of 'this' set and\n\t   * another set\n\t   * @param {Set} thatSet - another Set instance\n\t   * @returns {Array} The array containing the set intersection of this and\n\t   * @param thatSet\n\t   *\n\t   * @example\n\t   * set.add(1);\n\t   * set.add(2);\n\t   * set2 = new Collections.HashSet();\n\t   * set2.add(2);\n\t   * set.intersect(set2); // [2]\n\t   */\n\n\n\t  SetInterface.prototype.intersect = function intersect(thatSet) {\n\t    var largerSet = void 0,\n\t        smallerSet = void 0;\n\t    var self = this;\n\t    var result = [];\n\t    if (self.cardinality() > thatSet.cardinality()) {\n\t      largerSet = self;\n\t      smallerSet = thatSet.entries();\n\t    } else {\n\t      largerSet = thatSet;\n\t      smallerSet = self.entries();\n\t    }\n\t    var smallLen = smallerSet.length;\n\t    var curElement = void 0;\n\t    for (var i = 0; i < smallLen; i += 1) {\n\t      curElement = smallerSet[i];\n\t      if (largerSet.has(curElement)) {\n\t        result.push(curElement);\n\t      }\n\t    }\n\t    return result;\n\t  };\n\n\t  /**\n\t   * Returns the number of elements in the set\n\t   *\n\t   * @example\n\t   * set.add(1);\n\t   * set.add(2);\n\t   * set.cardinality() ; // 2\n\t   */\n\n\n\t  SetInterface.prototype.cardinality = function cardinality() {};\n\n\t  return SetInterface;\n\t}();\n\n\texports[\"default\"] = SetInterface;\n\n/***/ },\n/* 11 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\n\texports.__esModule = true;\n\n\tvar _BSTNode = __webpack_require__(12);\n\n\tvar _BSTNode2 = _interopRequireDefault(_BSTNode);\n\n\tvar _BSTPrototype = __webpack_require__(13);\n\n\tvar _Util = __webpack_require__(2);\n\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { 'default': obj }; }\n\n\tfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\n\t/**\n\t * Binary search tree representation\n\t * @class\n\t * @implements {MapInterface}\n\t * @param {function} comparator - @see Global#defaultComp for examples\n\t * @example\n\t * const bst = new Collections.BST();\n\t * // FOR ALL EXAMPLES BELOW. ASSUME bst IS CLEARED BEFORE EACH EXAMPLE\n\t */\n\tvar BST = function () {\n\t  function BST(comparator) {\n\t    _classCallCheck(this, BST);\n\n\t    this.root = new _BSTNode2['default']();\n\t    this.comparator = comparator || _Util.defaultComparator;\n\t    this.inserts = 0;\n\t  }\n\n\t  /**\n\t   * puts the given key and value into the BST\n\t   * @param {*} [key=null] - The key to insert into the BST\n\t   * @param {*} [value=null] - The value that is mapped to by @param key\n\t   * @returns {BST} The instance that this method was called with\n\t   *\n\t   * @example\n\t   * bst.put(\"ed\", \"jones\").put(\"george\", \"james\").put(\"ed\", \"kane\");\n\t   * // ed now maps to kane because ed already existed before.\n\t   */\n\n\n\t  BST.prototype.put = function put() {\n\t    var key = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : null;\n\t    var value = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : null;\n\n\t    var self = this;\n\t    var inserted = _BSTPrototype.BSTInsert.call(self, key, value, _BSTNode2['default']);\n\t    if (inserted) {\n\t      self.inserts += 1;\n\t    }\n\t    return self;\n\t  };\n\n\t  /**\n\t   * Removes the given key and its associated value from the BST\n\t   * @param {*} key - The key to search fo\n\t   * @returns {boolean} True if the key existed before and false otherwise\n\t   *\n\t   * @example\n\t   * bst.put(1, 5).put(5, 10);\n\t   * bst.remove(1); // 1 and it's associated value are removed from BST\n\t   * bst.remove(\"dog\");// this call fails silently as dog never existed in BST\n\t   */\n\n\n\t  BST.prototype.remove = function remove(key) {\n\t    var self = this;\n\t    var removed = _BSTPrototype.BSTRemove.call(self, key);\n\t    if (removed) {\n\t      self.inserts -= 1;\n\t      return true;\n\t    }\n\t    return false;\n\t  };\n\n\t  /**\n\t   * Finds the value associated with the given key\n\t   * @param {*} key - The key to search for in the BST\n\t   * @returns {(*|undefined)} The value associated with @param key or undefined\n\t   * if not found.\n\t   *\n\t   * @example\n\t   * bst.put(1, 5).put(5, 10);\n\t   * bst.find(5); // returns 10\n\t   * bst.find(67); // returns undefined\n\t   */\n\n\n\t  BST.prototype.getVal = function getVal(key) {\n\t    var self = this;\n\t    var node = _BSTPrototype.BSTSearch.call(self, self.root, key);\n\t    return node ? node.value : undefined;\n\t  };\n\n\t  /**\n\t   * Determines if the BST contains the given key\n\t   * @param {*} key - The key to search for\n\t   * @returns {boolean} True if the BST contains @param key and false otherwise\n\t   *\n\t   * @example\n\t   * bst.put(1, 5).put(5, 10);\n\t   * bst.contains(5); // returns true\n\t   * bst.contains(67); // returns false\n\t   */\n\n\n\t  BST.prototype.contains = function contains(key) {\n\t    return this.getVal(key) !== undefined;\n\t  };\n\n\t  /**\n\t   * Gives the inorder traversal of the BST\n\t   * @returns {Array} Array of objects representing the BST\n\t   */\n\n\n\t  BST.prototype.inorder = function inorder() {\n\t    var result = [];\n\t    (0, _BSTPrototype.BSTInorder)(this.root, result);\n\t    return result;\n\t  };\n\n\t  /**\n\t   * Returns the smallest value in the BST according to it's ordering function\n\t   * @returns {*} The smallest value in the BST\n\t   */\n\n\n\t  BST.prototype.min = function min() {\n\t    return (0, _BSTPrototype.minOrMax)('min', this.root);\n\t  };\n\n\t  /**\n\t   * Returns the greatest value in the tree according to it's ordering function\n\t   * @returns {*} The greatest value in the BST\n\t   */\n\n\n\t  BST.prototype.max = function max() {\n\t    return (0, _BSTPrototype.minOrMax)('max', this.root);\n\t  };\n\n\t  /**\n\t   * Returns all keys less than the given key in the BST\n\t   * @param {*} value - The value used as the upper bound\n\t   * @returns {Array} Array of keys less than @param key\n\t   */\n\n\n\t  BST.prototype.keysLess = function keysLess(value) {\n\t    var self = this;\n\t    var result = [];\n\t    (0, _BSTPrototype.less)(self.root, value, self.comparator, result);\n\t    return result;\n\t  };\n\n\t  /**\n\t   * Returns all keys greater than the given key in the BST\n\t   * @param {*} value - The value used as the lower bound\n\t   * @returns {Array} Array of keys greater than @param key\n\t   */\n\n\n\t  BST.prototype.keysGreater = function keysGreater(value) {\n\t    var self = this;\n\t    var result = [];\n\t    (0, _BSTPrototype.greater)(self.root, value, self.comparator, result);\n\t    return result;\n\t  };\n\n\t  /**\n\t   * Empties the BST\n\t   * @returns {undefined}\n\t   */\n\n\n\t  BST.prototype.clear = function clear() {\n\t    this.root = null;\n\t    this.inserts = 0;\n\t  };\n\n\t  /**\n\t   * Reports the number of elements in the BST\n\t   * @returns {number} Number of elements in the BST\n\t   */\n\n\n\t  BST.prototype.size = function size() {\n\t    return this.inserts;\n\t  };\n\n\t  /**\n\t   * Gives the keys in the BST\n\t   * @returns {Array} The key set\n\t   */\n\n\n\t  BST.prototype.keys = function keys() {\n\t    var result = [];\n\t    (0, _BSTPrototype.getKeysOrValues)(this.root, 'key', result);\n\t    return result;\n\t  };\n\n\t  /**\n\t   * Gives the values in the BST\n\t   * @returns {Array} The value set\n\t   */\n\n\n\t  BST.prototype.values = function values() {\n\t    var result = [];\n\t    (0, _BSTPrototype.getKeysOrValues)(this.root, 'value', result);\n\t    return result;\n\t  };\n\n\t  /**\n\t   * Returns an array of all keys in the given range\n\t   * @param {*} lower - The lower bound\n\t   * @param {*} upper - The upper bound\n\t   * @returns {Array} An array containing the keyRange [lower, upper]\n\t   */\n\n\n\t  BST.prototype.keyRange = function keyRange(lower, upper) {\n\t    var self = this;\n\t    if (lower === undefined || upper === undefined) {\n\t      throw new TypeError('Both a lower and upper bound are required');\n\t    }\n\t    if (self.comparator(lower, upper) !== -1) {\n\t      throw new RangeError('Lower bound must be strictly less than upper bound');\n\t    }\n\t    var res = [];\n\t    (0, _BSTPrototype.keysBetween)(self.root, lower, upper, self.comparator, res);\n\t    return res;\n\t  };\n\n\t  return BST;\n\t}();\n\n\texports['default'] = BST;\n\n/***/ },\n/* 12 */\n/***/ function(module, exports) {\n\n\t\"use strict\";\n\n\texports.__esModule = true;\n\n\tfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\n\tvar BSTNode = function () {\n\t  function BSTNode(key, value) {\n\t    _classCallCheck(this, BSTNode);\n\n\t    this.parent = null;\n\t    this.left = null;\n\t    this.right = null;\n\t    this.key = key;\n\t    this.value = value;\n\t  }\n\n\t  BSTNode.prototype.isNil = function isNil() {\n\t    return this.key === undefined;\n\t  };\n\n\t  BSTNode.prototype.isLeftChild = function isLeftChild() {\n\t    return this.parent.left === this;\n\t  };\n\n\t  BSTNode.prototype.hasLeftChild = function hasLeftChild() {\n\t    return this.left.key !== undefined;\n\t  };\n\n\t  BSTNode.prototype.hasRightChild = function hasRightChild() {\n\t    return this.right.key !== undefined;\n\t  };\n\n\t  BSTNode.prototype.isRightChild = function isRightChild() {\n\t    return this.parent.right === this;\n\t  };\n\n\t  return BSTNode;\n\t}();\n\n\texports[\"default\"] = BSTNode;\n\n/***/ },\n/* 13 */\n/***/ function(module, exports) {\n\n\t'use strict';\n\n\texports.__esModule = true;\n\texports.BSTInsert = BSTInsert;\n\texports.BSTSearch = BSTSearch;\n\texports.BSTRemove = BSTRemove;\n\texports.BSTInorder = BSTInorder;\n\texports.getKeysOrValues = getKeysOrValues;\n\texports.less = less;\n\texports.greater = greater;\n\texports.minOrMax = minOrMax;\n\texports.keysBetween = keysBetween;\n\t/**\n\t * Adjusts references for parent and child post insert\n\t * @private\n\t */\n\tfunction adjustParentAndChildrenOfNewNode(newNode, oldRoot, comparator, NodeType) {\n\t  newNode.parent = oldRoot;\n\t  if (oldRoot.isNil()) {\n\t    this.root = newNode;\n\t  } else if (comparator(newNode.key, oldRoot.key) === -1) {\n\t    oldRoot.left = newNode;\n\t  } else {\n\t    oldRoot.right = newNode;\n\t  }\n\t  newNode.left = new NodeType();\n\t  newNode.right = new NodeType();\n\t}\n\t/**\n\t * Inserts the given key and value into bst (maps key to value)\n\t * @private\n\t * @param {*} key - The key to insert into the bst\n\t * @param {*} value - The value that is mapped to by @param key\n\t * @param {BSTNode} Node - The Node type to insert into the tree\n\t * @returns {(BSTNode|undefined)} undefined if the node was already in tree,\n\t * thus not inserted or the new node that was just inserted successfully.\n\t */\n\tfunction BSTInsert(key, value, NodeType) {\n\t  var comparator = this.comparator;\n\t  var root = this.root;\n\t  var newNode = new NodeType(key, value);\n\t  var oldRoot = new NodeType();\n\t  while (!root.isNil()) {\n\t    var comparatorResult = comparator(newNode.key, root.key);\n\t    oldRoot = root;\n\t    if (comparatorResult === -1) {\n\t      root = root.left;\n\t    } else if (comparatorResult === 1) {\n\t      root = root.right;\n\t    } else {\n\t      root.value = value;\n\t      return;\n\t    }\n\t  }\n\t  adjustParentAndChildrenOfNewNode.call(this, newNode, oldRoot, comparator, NodeType);\n\t  return newNode;\n\t}\n\n\t/**\n\t * Searches for the given key in tree\n\t * @private\n\t * @param {BSTNode} root - The root node to start search\n\t * @param {*} key - The key to search for in bst\n\t * @returns {(undefined|BSTNode)} undefined if not found. Or the actual node if found\n\t */\n\tfunction BSTSearch(root, key) {\n\t  var currentRoot = root;\n\t  var comparator = this.comparator;\n\t  while (!currentRoot.isNil()) {\n\t    var comparatorResult = comparator(currentRoot.key, key);\n\t    if (comparatorResult === 0) {\n\t      return currentRoot;\n\t    } else if (comparatorResult === -1) {\n\t      currentRoot = currentRoot.right;\n\t    } else {\n\t      currentRoot = currentRoot.left;\n\t    }\n\t  }\n\t}\n\n\t/**\n\t * Finds the inorder successor of the given node that has 2 children\n\t * @private\n\t * @param {BSTNode} node - The Node to find the successor for\n\t * @returns {BSTNode} The inorder successor of @param node\n\t */\n\tfunction successor(node) {\n\t  var nodeSuccessor = node.right;\n\t  while (nodeSuccessor.hasLeftChild()) {\n\t    nodeSuccessor = nodeSuccessor.left;\n\t  }\n\t  return nodeSuccessor;\n\t}\n\n\t/**\n\t * @private\n\t */\n\tfunction swapPropsWithSucccessor(nodeSuccessor, node) {\n\t  if (nodeSuccessor !== node) {\n\t    node.key = nodeSuccessor.key;\n\t    node.value = nodeSuccessor.value;\n\t  }\n\t}\n\t/**\n\t * Searches for a node with given key and removes it from tree\n\t * @private\n\t * @param {*} key - The key to search for in the tree\n\t * @returns {boolean|BSTNode} Returns false if node doesn't exist with @param key\n\t * or the successor and successor child of the node to remove\n\t */\n\tfunction BSTRemove(key) {\n\t  var node = BSTSearch.call(this, this.root, key);\n\t  if (!node) {\n\t    return false;\n\t  }\n\t  var nodeSuccessor = void 0;\n\t  var successorChild = void 0;\n\t  if (!node.hasLeftChild() || !node.hasRightChild()) {\n\t    nodeSuccessor = node;\n\t  } else {\n\t    nodeSuccessor = successor(node);\n\t  }\n\t  if (nodeSuccessor.hasLeftChild()) {\n\t    successorChild = nodeSuccessor.left;\n\t  } else {\n\t    successorChild = nodeSuccessor.right;\n\t  }\n\t  successorChild.parent = nodeSuccessor.parent;\n\t  if (nodeSuccessor.parent.isNil()) {\n\t    this.root = successorChild;\n\t  } else if (nodeSuccessor.isLeftChild()) {\n\t    nodeSuccessor.parent.left = successorChild;\n\t  } else {\n\t    nodeSuccessor.parent.right = successorChild;\n\t  }\n\t  swapPropsWithSucccessor(nodeSuccessor, node);\n\t  return { successorChild: successorChild, nodeSuccessor: nodeSuccessor };\n\t}\n\n\t/**\n\t * Gets the inorder traversal starting at given root\n\t * @private\n\t * @param {BSTNode} root - The root of tree\n\t * @param {string} propWanted - The property of each node wanted\n\t * @param {Array} array - The Array to be updated with the result\n\t * @returns {undefined}\n\t */\n\tfunction BSTInorder(root, array) {\n\t  if (root && !root.isNil()) {\n\t    BSTInorder(root.left, array);\n\t    array.push(root);\n\t    BSTInorder(root.right, array);\n\t  }\n\t}\n\n\tfunction getKeysOrValues(root, prop, array) {\n\t  if (root && !root.isNil()) {\n\t    getKeysOrValues(root.left, prop, array);\n\t    array.push(root[prop]);\n\t    getKeysOrValues(root.right, prop, array);\n\t  }\n\t}\n\n\t/**\n\t * Returns all keys less than the given value\n\t * @private\n\t * @param {BSTNode} root - The root of the tree\n\t * @param {*} key - The upper bound value\n\t * @param {function} comparator - The function used to compare keys to @param value\n\t * @param {Array} array - The array that holds the result\n\t * @returns {undefined}\n\t */\n\tfunction less(root, value, comparator, array) {\n\t  if (!root || root.isNil()) {\n\t    return;\n\t  }\n\t  var rootKey = root.key;\n\t  var comparatorResult = comparator(rootKey, value);\n\t  if (comparatorResult === -1) {\n\t    array.push(rootKey);\n\t    less(root.left, value, comparator, array);\n\t    return less(root.right, value, comparator, array);\n\t  }\n\t  return less(root.left, value, comparator, array);\n\t}\n\n\t/**\n\t * Returns all keys greater than the given value\n\t * @private\n\t * @param {BSTNode} root - The root of the tree\n\t * @param {*} key - The lower bound value\n\t * @param {function} comparator - The function used to compare keys to @param value\n\t * @param {Array} array - The array that holds the result\n\t * @returns {undefined}\n\t */\n\tfunction greater(root, value, comparator, array) {\n\t  if (!root || root.isNil()) {\n\t    return;\n\t  }\n\t  var rootKey = root.key;\n\t  var comparatorResult = comparator(rootKey, value);\n\t  if (comparatorResult === 1) {\n\t    array.push(rootKey);\n\t    greater(root.left, value, comparator, array);\n\t    return greater(root.right, value, comparator, array);\n\t  }\n\t  return greater(root.right, value, comparator, array);\n\t}\n\n\t/**\n\t * Returns the max or min based on the given query\n\t * @private\n\t * @param {string} query - The value wanted either min or max\n\t * @param {BSTNode} root - The root of the tree\n\t * @returns {*|undefined} The min or max value in the tree or undefined for empty tree\n\t */\n\tfunction minOrMax(query, root) {\n\t  var currentRoot = root;\n\t  var direction = query === 'min' ? 'left' : 'right';\n\t  if (currentRoot.isNil()) {\n\t    return;\n\t  }\n\t  while (currentRoot[direction].key !== undefined) {\n\t    currentRoot = currentRoot[direction];\n\t  }\n\t  return currentRoot.key;\n\t}\n\n\t/**\n\t * Returns all keys in the given range\n\t * @private\n\t * @param {BSTNode} root - The root of the tree\n\t * @param {*} lower - The lower bound\n\t * @param {*} upper - The upper bound\n\t * @param {function} comparator - The compare function\n\t * @param {Array} array - The result array\n\t * @returns {undefined}\n\t */\n\tfunction keysBetween(root, lower, upper, comparator, array) {\n\t  if (!root || root.isNil()) {\n\t    return;\n\t  }\n\t  var rootKey = root.key;\n\t  var lowerRootComp = comparator(lower, rootKey);\n\t  if (lowerRootComp >= 0) {\n\t    if (lowerRootComp === 0) {\n\t      array.push(rootKey);\n\t    }\n\t    return keysBetween(root.right, lower, upper, comparator, array);\n\t  }\n\t  if (comparator(rootKey, upper) <= 0) {\n\t    array.push(rootKey);\n\t  }\n\t  keysBetween(root.left, lower, upper, comparator, array);\n\t  return keysBetween(root.right, lower, upper, comparator, array);\n\t}\n\n/***/ },\n/* 14 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\n\texports.__esModule = true;\n\n\tvar _Queue = __webpack_require__(4);\n\n\tvar _Queue2 = _interopRequireDefault(_Queue);\n\n\tvar _Stack = __webpack_require__(3);\n\n\tvar _Stack2 = _interopRequireDefault(_Stack);\n\n\tvar _RedBlackTree = __webpack_require__(15);\n\n\tvar _RedBlackTree2 = _interopRequireDefault(_RedBlackTree);\n\n\tvar _HashSet = __webpack_require__(9);\n\n\tvar _HashSet2 = _interopRequireDefault(_HashSet);\n\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { 'default': obj }; }\n\n\tfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\n\tfunction FirstSearch(graph, startingVertex, structure, BFS) {\n\t  var add = BFS ? _Queue2['default'].prototype.enqueue.bind(structure) : _Stack2['default'].prototype.push.bind(structure);\n\t  var remove = BFS ? _Queue2['default'].prototype.dequeue.bind(structure) : _Stack2['default'].prototype.pop.bind(structure);\n\t  var res = [];\n\t  var visited = new _HashSet2['default'](graph.size());\n\t  add(startingVertex);\n\t  while (structure.size() !== 0) {\n\t    var currentVertex = remove();\n\n\t    if (!visited.has(currentVertex)) {\n\t      visited.add(currentVertex);\n\t      res.push(currentVertex);\n\t      var currentVertexNeighbors = graph.getVal(currentVertex).length;\n\t      for (var i = 0; i < currentVertexNeighbors; i += 1) {\n\t        var curNeighbor = graph.getVal(currentVertex)[i].vertex;\n\t        if (!visited.has(curNeighbor)) {\n\t          add(curNeighbor);\n\t        }\n\t      }\n\t    }\n\t  }\n\t  return res;\n\t}\n\n\t/**\n\t * Undirected, weighted graph representation\n\t * @class\n\t * @param {number} numVerticies - Number of expected verticies for the graph\n\t *\n\t * @example\n\t * const graph = new Collections.Graph(97);\n\t * // FOR ALL EXAMPLES BELOW. ASSUME graph IS CLEARED BEFORE EACH EXAMPLE\n\t */\n\n\tvar Graph = function () {\n\t  function Graph() {\n\t    _classCallCheck(this, Graph);\n\n\t    this.graph = new _RedBlackTree2['default']();\n\t  }\n\n\t  /**\n\t   * Adds a vertex to the graph\n\t   * @param {*} vertex - The vertex to place into graph\n\t   * @returns {undefined}\n\t   *\n\t   * @example\n\t   * graph.addVertex(\"A\");\n\t   * graph.addVertex(\"B\");\n\t   * // two verticies with id \"A\" and \"B\" are added to graph\n\t   */\n\n\n\t  Graph.prototype.addVertex = function addVertex(vertex) {\n\t    var graph = this.graph;\n\t    // so user does not accidentally overwrite values array\n\n\t    if (!graph.contains(vertex)) {\n\t      graph.put(vertex, []);\n\t    }\n\t  };\n\n\t  /**\n\t   * Connects two verticies to create an undirected edge\n\t   * @param {*} vertex1 - The first vertex\n\t   * @param {*} vertex2 - The second vertex\n\t   * @param {number} [weight=0] - Optional cost of\n\t   * edge between @param vertex1, vertex2\n\t   * @returns {undefined}\n\t   *\n\t   * @example\n\t   * graph.addVertex(\"A\");\n\t   * graph.addVertex(\"B\");\n\t   * graph.addEdge(\"A\", \"B\", 4); // adds edge between \"A\" & \"B\" of weight 4\n\t   */\n\n\n\t  Graph.prototype.addEdge = function addEdge(vertex1, vertex2, weight) {\n\t    // TODO: replace with PQ for Prim's\n\t    var graph = this.graph;\n\n\t    var v1neighbors = graph.getVal(vertex1);\n\t    var v2neighbors = graph.getVal(vertex2);\n\t    // they both exist as verticies\n\t    if (v1neighbors && v2neighbors) {\n\t      // make sure edge does not already exist\n\t      if (v1neighbors.indexOf(vertex2) === -1 && v2neighbors.indexOf(vertex2) === -1) {\n\t        // body\n\t        v1neighbors.push({ vertex: vertex2, weight: weight });\n\t        v2neighbors.push({ vertex: vertex1, weight: weight });\n\t      }\n\t    }\n\t  };\n\n\t  /**\n\t   * Performs Breadth First Search\n\t   * @param {*} startingVertex - The vertex to start Search from\n\t   * @returns {Array} An Array containing verticies in order visited\n\t   * through BFS\n\t   */\n\n\n\t  Graph.prototype.BFS = function BFS(startingVertex) {\n\t    var graph = this.graph;\n\n\t    if (!graph.contains(startingVertex)) {\n\t      return [];\n\t    }\n\t    return FirstSearch(graph, startingVertex, new _Queue2['default'](), true);\n\t  };\n\n\t  /**\n\t   * Performs Depth First Search\n\t   * @param {*} startingVertex - The vertex to start Search from\n\t   * @returns {Array} An Array containing verticies in order visited\n\t   * through DFS\n\t   */\n\n\n\t  Graph.prototype.DFS = function DFS(startingVertex) {\n\t    var graph = this.graph;\n\t    if (!graph.contains(startingVertex)) {\n\t      return [];\n\t    }\n\t    return FirstSearch(graph, startingVertex, new _Stack2['default'](), false);\n\t  };\n\n\t  /**\n\t   * Reports whether the graph is connected\n\t   * @returns {boolean} True if connected and false otherwise\n\t   */\n\n\n\t  Graph.prototype.isConnected = function isConnected() {\n\t    var graph = this.graph;\n\t    var verticies = graph.keys();\n\t    var firstKey = verticies[0];\n\t    return this.BFS(firstKey).length === verticies.length;\n\t  };\n\n\t  return Graph;\n\t}();\n\n\texports['default'] = Graph;\n\n/***/ },\n/* 15 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\n\texports.__esModule = true;\n\n\tvar _BSTNode2 = __webpack_require__(12);\n\n\tvar _BSTNode3 = _interopRequireDefault(_BSTNode2);\n\n\tvar _BSTPrototype = __webpack_require__(13);\n\n\tvar _BST2 = __webpack_require__(11);\n\n\tvar _BST3 = _interopRequireDefault(_BST2);\n\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { 'default': obj }; }\n\n\tfunction _defaults(obj, defaults) { var keys = Object.getOwnPropertyNames(defaults); for (var i = 0; i < keys.length; i++) { var key = keys[i]; var value = Object.getOwnPropertyDescriptor(defaults, key); if (value && value.configurable && obj[key] === undefined) { Object.defineProperty(obj, key, value); } } return obj; }\n\n\tfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\n\tfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\n\tfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? _defaults(subClass, superClass) : _defaults(subClass, superClass); }\n\n\tvar BLACK = 'black';\n\tvar RED = 'red';\n\n\tvar RBNode = function (_BSTNode) {\n\t  _inherits(RBNode, _BSTNode);\n\n\t  function RBNode(key, value) {\n\t    _classCallCheck(this, RBNode);\n\n\t    var _this = _possibleConstructorReturn(this, _BSTNode.call(this, key, value));\n\n\t    _this.color = BLACK;\n\t    return _this;\n\t  }\n\n\t  RBNode.prototype.isRed = function isRed() {\n\t    return this.color === RED;\n\t  };\n\n\t  RBNode.prototype.isBlack = function isBlack() {\n\t    return this.color === BLACK;\n\t  };\n\n\t  return RBNode;\n\t}(_BSTNode3['default']);\n\n\t/**\n\t * Left rotates the given node\n\t * @private\n\t * @param {BSTNode} node - The node to rotate\n\t * @returns {undefined}\n\t */\n\n\n\tfunction leftRotate(node) {\n\t  var oldRight = node.right;\n\t  var nodeParent = node.parent;\n\t  node.right = oldRight.left;\n\t  oldRight.left.parent = node;\n\t  oldRight.parent = nodeParent;\n\t  // root\n\t  if (nodeParent.isNil()) {\n\t    this.root = oldRight;\n\t  } else if (node.isLeftChild()) {\n\t    nodeParent.left = oldRight;\n\t  } else {\n\t    nodeParent.right = oldRight;\n\t  }\n\t  oldRight.left = node;\n\t  node.parent = oldRight;\n\t}\n\n\t/**\n\t * Right rotates the given node\n\t * @private\n\t * @param {BSTNode} node - The node to rotate\n\t * @returns {undefined}\n\t */\n\tfunction rightRotate(node) {\n\t  var oldLeft = node.left;\n\t  var nodeParent = node.parent;\n\t  node.left = oldLeft.right;\n\t  oldLeft.right.parent = node;\n\t  oldLeft.parent = nodeParent;\n\t  // root\n\t  if (nodeParent.isNil()) {\n\t    this.root = oldLeft;\n\t  } else if (node.isLeftChild()) {\n\t    nodeParent.left = oldLeft;\n\t  } else {\n\t    nodeParent.right = oldLeft;\n\t  }\n\t  oldLeft.right = node;\n\t  node.parent = oldLeft;\n\t}\n\n\t/**\n\t * Performs the re coloring stage upon insert, based on uncle color\n\t * @private\n\t * @param {RBNode} uncle - The uncle of the current node\n\t * @param {RBNode} currentNode - The current node being fixed in the tree\n\t * @returns {undefined}\n\t */\n\tfunction insertFixRecolor(uncle, currentNode) {\n\t  currentNode.parent.color = BLACK;\n\t  uncle.color = BLACK;\n\t  currentNode.parent.parent.color = RED;\n\t}\n\n\t/**\n\t * @private\n\t * Performs the rotation stage on insert, based on uncle color and if current\n\t * right child\n\t * @param {RBNode} currentNode - The current node being fixed in the tree\n\t * @param {RBNode} context - The RBTree instance\n\t * @returns {undefined}\n\t */\n\tfunction insertFixRotate1(node, context) {\n\t  var currentNode = node;\n\t  if (currentNode.isRightChild()) {\n\t    currentNode = currentNode.parent;\n\t    leftRotate.call(context, currentNode);\n\t  }\n\t  currentNode.parent.color = BLACK;\n\t  currentNode.parent.parent.color = RED;\n\t  rightRotate.call(context, currentNode.parent.parent);\n\t}\n\n\t/**\n\t * @private\n\t * Performs the rotation stage on insert, based on uncle color and if current\n\t * node is left child\n\t * @param {RBNode} currentNode - The current node being fixed in the tree\n\t * @param {RBNode} context - The RBTree instance\n\t * @returns {undefined}\n\t */\n\tfunction insertFixRotate2(node, context) {\n\t  var currentNode = node;\n\t  if (currentNode.isLeftChild()) {\n\t    currentNode = currentNode.parent;\n\t    rightRotate.call(context, currentNode);\n\t  }\n\t  currentNode.parent.color = BLACK;\n\t  currentNode.parent.parent.color = RED;\n\t  leftRotate.call(context, currentNode.parent.parent);\n\t}\n\n\t/**\n\t * Performs the recoloring stage when the node's sibling is red\n\t * @private\n\t */\n\tfunction deleteRedSiblingCaseRecolor(currentNode, sibling) {\n\t  sibling.color = BLACK;\n\t  currentNode.parent.color = RED;\n\t}\n\n\t/**\n\t * Fixes up the rb tree after insertion\n\t * @private\n\t * @param {BSTNode} node - The node to begin fixing\n\t * @returns {undefined}\n\t */\n\tfunction insertFix(nodeToFix) {\n\t  var currentNode = nodeToFix;\n\t  var context = this;\n\t  var uncle = void 0;\n\t  while (currentNode.parent.isRed()) {\n\t    if (currentNode.parent.isLeftChild()) {\n\t      uncle = currentNode.parent.parent.right;\n\t      if (uncle.isRed()) {\n\t        insertFixRecolor(uncle, currentNode);\n\t        currentNode = currentNode.parent.parent;\n\t      } else {\n\t        insertFixRotate1(currentNode, context);\n\t      }\n\t    } else {\n\t      uncle = currentNode.parent.parent.left;\n\t      if (uncle.isRed()) {\n\t        insertFixRecolor(uncle, currentNode);\n\t        currentNode = currentNode.parent.parent;\n\t      } else {\n\t        insertFixRotate2(currentNode, context);\n\t      }\n\t    }\n\t  }\n\t  context.root.color = BLACK;\n\t}\n\n\t/**\n\t * Fixes up the rb tree after deletion\n\t * @private\n\t * @param {BSTNode} node - The node to begin fixing\n\t * @returns {undefined}\n\t */\n\tfunction deletefixUp(nodeToFix) {\n\t  var currentNode = nodeToFix;\n\t  var context = this;\n\t  while (!currentNode.parent.isNil() && currentNode.isBlack()) {\n\t    var sibling = void 0;\n\t    if (currentNode.isLeftChild()) {\n\t      sibling = currentNode.parent.right;\n\t      if (sibling.isRed()) {\n\t        deleteRedSiblingCaseRecolor(currentNode, sibling);\n\t        leftRotate.call(context, currentNode.parent);\n\t        sibling = currentNode.parent.right;\n\t      }\n\t      if (sibling.left.isBlack() && sibling.right.isBlack()) {\n\t        sibling.color = RED;\n\t        currentNode = currentNode.parent;\n\t      } else {\n\t        if (sibling.right.isBlack()) {\n\t          sibling.left.color = BLACK;\n\t          sibling.color = RED;\n\t          rightRotate.call(context, sibling);\n\t          sibling = currentNode.parent.right;\n\t        }\n\t        sibling.color = currentNode.parent.color;\n\t        currentNode.parent.color = BLACK;\n\t        sibling.right.color = BLACK;\n\t        leftRotate.call(context, currentNode.parent);\n\t        currentNode = context.root;\n\t      }\n\t    } else {\n\t      sibling = currentNode.parent.left;\n\t      if (sibling.isRed()) {\n\t        deleteRedSiblingCaseRecolor(currentNode, sibling);\n\t        rightRotate.call(context, currentNode.parent);\n\t        sibling = currentNode.parent.left;\n\t      }\n\t      if (sibling.right.isBlack() && sibling.left.isBlack()) {\n\t        sibling.color = RED;\n\t        currentNode = currentNode.parent;\n\t      } else {\n\t        if (sibling.left.isBlack()) {\n\t          sibling.right.color = BLACK;\n\t          sibling.color = RED;\n\t          leftRotate.call(context, sibling);\n\t          sibling = currentNode.parent.left;\n\t        }\n\t        sibling.color = currentNode.parent.color;\n\t        currentNode.parent.color = BLACK;\n\t        sibling.left.color = BLACK;\n\t        rightRotate.call(context, currentNode.parent);\n\t        currentNode = context.root;\n\t      }\n\t    }\n\t  }\n\t  currentNode.color = BLACK;\n\t}\n\n\t/**\n\t * Red-Black Tree representation\n\t * @class\n\t * @extends {BST}\n\t * @param {function} comparator - @see Global#defaultComp for examples\n\t * @example\n\t * const bst = new Collections.RBTree();\n\t */\n\n\tvar RBTree = function (_BST) {\n\t  _inherits(RBTree, _BST);\n\n\t  function RBTree(comparator) {\n\t    _classCallCheck(this, RBTree);\n\n\t    var _this2 = _possibleConstructorReturn(this, _BST.call(this, comparator));\n\n\t    _this2.root = new RBNode();\n\t    return _this2;\n\t  }\n\n\t  RBTree.prototype.put = function put(key, value) {\n\t    var self = this;\n\t    var insertedNode = _BSTPrototype.BSTInsert.call(self, key, value, RBNode);\n\t    if (insertedNode) {\n\t      insertedNode.color = RED;\n\t      insertFix.call(self, insertedNode);\n\t      self.inserts += 1;\n\t    }\n\t    return self;\n\t  };\n\n\t  RBTree.prototype.remove = function remove(key) {\n\t    var self = this;\n\t    // successor and child\n\t    var didRemove = _BSTPrototype.BSTRemove.call(self, key);\n\t    if (didRemove) {\n\t      var successorChild = didRemove.successorChild,\n\t          nodeSuccessor = didRemove.nodeSuccessor;\n\n\t      if (nodeSuccessor.isBlack()) {\n\t        deletefixUp.call(self, successorChild);\n\t      }\n\t      self.inserts -= 1;\n\t      return true;\n\t    }\n\t    return false;\n\t  };\n\n\t  return RBTree;\n\t}(_BST3['default']);\n\n\texports['default'] = RBTree;\n\n/***/ },\n/* 16 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\n\texports.__esModule = true;\n\n\tvar _Util = __webpack_require__(2);\n\n\tfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\n\t/**\n\t * Converts the given data to a lowercase string\n\t * @private\n\t * @param {*} data - The data to convert\n\t * @returns @param data to a string\n\t */\n\tfunction toLowerCaseString(data) {\n\t  return (0, _Util.toString)(data).toLowerCase();\n\t}\n\t/**\n\t * Returns a reference to the tail of the prefix if trie contains it\n\t * @private\n\t * @param {TrieNode} root - The root of the trie\n\t * @param {string} prefix - The prefix to search for\n\t * @returns {(TrieNode|boolean)} Returns a reference to the prefix's last word\n\t * or false if prefix not found in trie\n\t */\n\tfunction getNode(root, pattern) {\n\t  if (pattern.length === 0) {\n\t    return false;\n\t  }\n\t  var currentNode = root.children;\n\t  var currentChar = void 0;\n\t  for (var i = 0; i < pattern.length - 1; i += 1) {\n\t    currentChar = pattern.charAt(i);\n\t    if (!currentNode[currentChar]) {\n\t      return false;\n\t    }\n\t    currentNode = currentNode[currentChar].children;\n\t  }\n\t  return currentNode;\n\t}\n\n\t/**\n\t * Recursively searches a trie to find all words starting at root\n\t * @private\n\t * @param {TrieNode} node - The starting node\n\t * @param {Array} array - The array to add words to\n\t * @returns {undefined}\n\t */\n\tfunction recurseTree(trieNode, array) {\n\t  if (!trieNode) {\n\t    return;\n\t  }\n\t  // all character children\n\t  var keys = Object.keys(trieNode);\n\t  for (var i = 0; i < keys.length; i += 1) {\n\t    var currentNode = trieNode[keys[i]];\n\t    if (currentNode.endOfWord) {\n\t      array.push(currentNode.word);\n\t    }\n\t    recurseTree(currentNode.children, array);\n\t  }\n\t}\n\n\t/**\n\t * Nodes for Trie\n\t * @class\n\t * @private\n\t */\n\n\tvar TrieNode = function () {\n\t  function TrieNode() {\n\t    _classCallCheck(this, TrieNode);\n\n\t    this.children = {};\n\t    this.endOfWord = false;\n\t    this.word = null;\n\t  }\n\n\t  TrieNode.prototype.hasChildren = function hasChildren() {\n\t    /**\n\t     *Using this instead of Object.keys because I only need existence of one child\n\t     *not all\n\t     */\n\t    var children = this.children;\n\t    // eslint-disable-next-line no-restricted-syntax\n\n\t    for (var prop in children) {\n\t      if (Object.prototype.hasOwnProperty.call(children, prop)) {\n\t        return true;\n\t      }\n\t    }\n\t    return false;\n\t  };\n\n\t  return TrieNode;\n\t}();\n\n\t/**\n\t * Trie (prefix tree) representation\n\t * @class\n\t *\n\t * @example\n\t * const trie = new Collections.Trie();\n\t * // FOR ALL EXAMPLES BELOW. ASSUME trie IS CLEARED BEFORE EACH EXAMPLE\n\t */\n\n\n\tvar Trie = function () {\n\t  function Trie() {\n\t    _classCallCheck(this, Trie);\n\n\t    this.root = new TrieNode();\n\t  }\n\n\t  /**\n\t   * Converts the given data to string and adds it to trie\n\t   * @param {*} word - The word to add into trie\n\t   * @returns {undefined}\n\t   */\n\n\n\t  Trie.prototype.addWord = function addWord() {\n\t    var data = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : '';\n\n\t    var currentNode = this.root.children;\n\t    var word = toLowerCaseString(data);\n\t    var currentChar = void 0;\n\t    for (var i = 0; i < word.length; i += 1) {\n\t      currentChar = word.charAt(i);\n\t      // path does not exist currently in trie\n\t      if (!currentNode[currentChar]) {\n\t        currentNode[currentChar] = new TrieNode();\n\t      }\n\t      // add end of word and word flags\n\t      if (i === word.length - 1) {\n\t        currentNode[currentChar].endOfWord = true;\n\t        currentNode[currentChar].word = word;\n\t      }\n\t      // trickle down the tree\n\t      currentNode = currentNode[currentChar].children;\n\t    }\n\t  };\n\n\t  /**\n\t   * Reports whether the trie contains the given word\n\t   * @param {*} data - The data to search for\n\t   * @returns {boolean} True if the trie contains @param data.toString()\n\t   * or false if it does not\n\t   */\n\n\n\t  Trie.prototype.containsWord = function containsWord() {\n\t    var data = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : '';\n\n\t    var word = toLowerCaseString(data);\n\t    var foundNode = getNode(this.root, word);\n\t    if (foundNode) {\n\t      var lastChar = word.charAt(word.length - 1);\n\t      if (foundNode[lastChar] && foundNode[lastChar].word === word) {\n\t        return true;\n\t      }\n\t    }\n\t    return false;\n\t  };\n\n\t  /*\n\t  * Reports whether the trie contains the given prefix\n\t  * @param {string} prefix - The prefix string\n\t  * @returns {boolean} True or false if prefix does not exist\n\t  *\n\t  * @example\n\t  * trie.addWord(\"apple\");\n\t  * trie.addWord.(\"app\");\n\t  * trie.containsPrefix(\"apple\"); // false\n\t  * trie.containsPrefix(\"app\"); // true\n\t  */\n\n\n\t  Trie.prototype.containsPrefix = function containsPrefix() {\n\t    var prefix = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : '';\n\n\t    var root = this.root;\n\t    var str = toLowerCaseString(prefix);\n\t    var foundNode = getNode(root, str);\n\t    if (foundNode) {\n\t      var lastChar = str.charAt(str.length - 1);\n\t      if (foundNode[lastChar]) {\n\t        return foundNode[lastChar].hasChildren();\n\t      }\n\t    }\n\t    return false;\n\t  };\n\n\t  /**\n\t   * Gives all of the words in the trie with the given prefix\n\t   * @param {*} prefix - The prefix to search for\n\t   * @returns {Array} An array with all the words that are prefixed by\n\t   * @param prefix\n\t   *\n\t   * @example\n\t   * trie.addWord(\"apple\");\n\t   * trie.addWord.(\"app\");\n\t   * trie.prefixAll(\"app\"); // returns only apple because app is equal to prefix\n\t   */\n\n\n\t  Trie.prototype.prefixAll = function prefixAll() {\n\t    var prefix = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : '';\n\n\t    if (!this.containsPrefix(prefix)) {\n\t      return [];\n\t    }\n\t    var word = toLowerCaseString(prefix);\n\t    var prefixTail = getNode(this.root, word);\n\t    var lastChar = word.charAt(word.length - 1);\n\t    var prefixes = [];\n\t    recurseTree(prefixTail[lastChar].children, prefixes);\n\t    return prefixes;\n\t  };\n\n\t  return Trie;\n\t}();\n\n\texports['default'] = Trie;\n\n/***/ },\n/* 17 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\n\texports.__esModule = true;\n\n\tvar _Util = __webpack_require__(2);\n\n\tfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\n\t/**\n\t * Various utility methods that can be used on arrays\n\t * @class\n\t * @static\n\t *\n\t * @example\n\t * const arrayMethods = Collections.ArrayUtils;\n\t */\n\tvar ArrayUtils = function () {\n\t  // eslint-disable-next-line no-empty-function\n\t  function ArrayUtils() {\n\t    _classCallCheck(this, ArrayUtils);\n\t  }\n\n\t  /**\n\t   * Removes the element at the given position in the given array\n\t   * @static\n\t   * @param {Array} array - The array to remove elements from\n\t   * @param {number} [index=0] - The index to remove from @param array\n\t   * @returns {Array} Array of removed elements\n\t   *\n\t   * @example\n\t   * const myArray = [1, 2, 3, 4];\n\t   * let removedItems = arrayMethods.remove(myArray, 1);\n\t   * // removedItems contains [2] and myArray is [1, 3, 4]\n\t   */\n\n\n\t  ArrayUtils.remove = function remove() {\n\t    var array = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : [];\n\t    var index = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 0;\n\n\t    return index >= 0 ? array.splice(index, 1) : [];\n\t  };\n\n\t  /**\n\t   * Removes the first occurence of the given value from the array\n\t   * @static\n\t   * @param {Array} array - The array to remove elements from\n\t   * @param {function} predicate - The function used to compare values\n\t   * @returns {Array} Array of removed elements\n\t   *\n\t   * @example\n\t   * const myArray = [1, 2, 3, 4];\n\t   * let removedItems = arrayMethods.removeElement(myArray, 3);\n\t   * // changedArray contains [3] and myArray is [1, 2, 4]\n\t   */\n\n\n\t  ArrayUtils.removeElement = function removeElement() {\n\t    var array = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : [];\n\t    var predicate = arguments[1];\n\n\t    var indexToRemove = ArrayUtils.findIndex(array, predicate);\n\t    return ArrayUtils.remove(array, indexToRemove);\n\t  };\n\n\t  /**\n\t   * Rotates the given array left(negative number) or right(positive number)\n\t   * @static\n\t   * @param {Array} array - The array to rotate\n\t   * @param {number} [times=0] - The number of times to rotate @param array\n\t   * @throws {TypeError} If @param times is not a primitive number\n\t   * @returns {Array} A new Array with rotations applied\n\t   *\n\t   * @example\n\t   * const myArray = [1, 2, 3, 4];\n\t   * let B = arrayMethods.rotate(myArray, 2);\n\t   * // myArray is [1, 2, 3, 4]\n\t   * // B is [3, 4, 1, 2]\n\t   * B = arrayMethods.rotate(B, -2);\n\t   * // B is back to original positioning of myArray [1, 2, 3, 4]\n\t   */\n\n\n\t  ArrayUtils.rotate = function rotate() {\n\t    var array = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : [];\n\t    var times = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 0;\n\n\t    var len = array.length;\n\t    if (times > 0) {\n\t      var upperBound = len - times;\n\t      return array.slice(upperBound).concat(array.slice(0, upperBound));\n\t    }\n\t    var timesToPositiveInt = Math.abs(times);\n\t    return array.slice(timesToPositiveInt).concat(array.slice(0, timesToPositiveInt));\n\t  };\n\n\t  /**\n\t   * Removes the last element from the given array\n\t   * @static\n\t   * @param {Array} array - The array to pop\n\t   * @param {number} [times=0] - The number of times to pop @param array\n\t   * @returns {Array} A new array equal to\n\t   * [@param array - popped elements]\n\t   *\n\t   * @example\n\t   * const myArray = [1, 2, 3, 4];\n\t   * const altered = arrayMethods.popMany(myArray, 3);\n\t   * // myArray is [1, 2, 3, 4] ; altered is [1]\n\t   */\n\n\n\t  ArrayUtils.popMany = function popMany() {\n\t    var array = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : [];\n\t    var times = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 0;\n\n\t    var upperBound = array.length - times;\n\t    return upperBound > 0 ? array.slice(0, upperBound) : [];\n\t  };\n\n\t  /**\n\t   * Adds elements to the end of the given array\n\t   * @static\n\t   * @param {Array} [array=empty array] - The array to push elements into\n\t   * @param {*} args - Consecutive arguments to push into array\n\t   * @returns {Array} A new array equal to [@param array + pushed elements]\n\t   *\n\t   * @example\n\t   * const myArray = [1, 2];\n\t   * const altered = arrayMethods.pushMany(myArray, \"push\", \"me\");\n\t   * // myArray is unchanged ; altered = [1, 2, \"push\", \"me\"]\n\t   */\n\n\n\t  ArrayUtils.pushMany = function pushMany() {\n\t    var array = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : [];\n\n\t    for (var _len = arguments.length, args = Array(_len > 1 ? _len - 1 : 0), _key = 1; _key < _len; _key++) {\n\t      args[_key - 1] = arguments[_key];\n\t    }\n\n\t    return array.concat(args);\n\t  };\n\n\t  /**\n\t   * Removes the first element from the given array\n\t   * @static\n\t   * @param {Array} array - The array to shift\n\t   * @param {number} [times=0] - The number of times to shift @param array\n\t   * @returns {Array} A new array equal to\n\t   * [@param array - shifted elements]\n\t   *\n\t   * @example\n\t   * const myArray = [1, 2, 3, 4];\n\t   * const altered = arrayMethods.shiftMany(myArray, 3);\n\t   * // myArray is [1, 2, 3, 4] ; altered is [4]\n\t   */\n\n\n\t  ArrayUtils.shiftMany = function shiftMany() {\n\t    var array = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : [];\n\t    var times = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 0;\n\n\t    return times > 0 ? array.slice(times) : array;\n\t  };\n\n\t  /**\n\t   * Adds elements to the front of the given array\n\t   * @static\n\t   * @param {Array} [array=empty array] - The array to add elements into\n\t   * @param {*} args - Consecutive arguments to push into array\n\t   * @returns {Array} A new array equal to\n\t   * [unshifted elements + @param array ]\n\t   *\n\t   * @example\n\t   * const myArray = [1, 2, 3, 4];\n\t   * const altered = arrayMethods.unshiftMany(myArray, \"hi\");\n\t   * // myArray is [1, 2, 3, 4] ; altered is [\"hi\", 1, 2, 3, 4]\n\t   */\n\n\n\t  ArrayUtils.unshiftMany = function unshiftMany() {\n\t    var array = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : [];\n\n\t    for (var _len2 = arguments.length, args = Array(_len2 > 1 ? _len2 - 1 : 0), _key2 = 1; _key2 < _len2; _key2++) {\n\t      args[_key2 - 1] = arguments[_key2];\n\t    }\n\n\t    return args.concat(array);\n\t  };\n\n\t  /**\n\t   * Returns a random index in the given array\n\t   * @static\n\t   * @param {Array} array - The array to get random index from\n\t   * @returns {*} Random element in @param array\n\t   *\n\t   * @example\n\t   * const myArray = [1, 2];\n\t   * const altered = arrayMethods.getRand(myArray);\n\t   * // altered could be 1 or 2\n\t   */\n\n\n\t  ArrayUtils.getRand = function getRand() {\n\t    var array = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : [];\n\n\t    var randomIndex = (0, _Util.generateRandomInt)(array.length);\n\t    return array[randomIndex];\n\t  };\n\n\t  /**\n\t   * Removes a random element from the given array\n\t   * @static\n\t   * @param {Array} array - The array to remove a random element from\n\t   * @returns {Array} An array of length 1 containing the element removed\n\t   * from @param array\n\t   *\n\t   * @example\n\t   * const myArray = [1, 2];\n\t   * const altered = arrayMethods.removeRand(myArray);\n\t   * // altered could be 1 or 2 ; myArray's length decreases by 1\n\t   */\n\n\n\t  ArrayUtils.removeRand = function removeRand() {\n\t    var array = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : [];\n\n\t    var randomIndex = (0, _Util.generateRandomInt)(array.length);\n\t    return ArrayUtils.remove(array, randomIndex);\n\t  };\n\n\t  /**\n\t   * Shuffles the given array\n\t   * @static\n\t   * @param {Array} array - The array to shuffle\n\t   * @returns {undefined}\n\t   */\n\n\n\t  ArrayUtils.shuffle = function shuffle() {\n\t    var array = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : [];\n\n\t    var arrayLength = array.length;\n\t    for (var i = arrayLength - 1; i > 0; i -= 1) {\n\t      var randomIndex = (0, _Util.generateRandomInt)(i + 1);\n\t      (0, _Util.swap)(array, randomIndex, i);\n\t    }\n\t  };\n\n\t  /**\n\t   * Turns an n dimensional array into a 1 dimensional array\n\t   * @param {Array} array - The array to flatten\n\t   * @returns {Array} @param array to a one dimensional array\n\t   *\n\t   * @example\n\t   * const myArray = [[2], [3], [4, 5]];\n\t   * const altered = arrayMethods.flatten(myArray);\n\t   * // altered will be [2, 3, 4, 5] ; myArray is unchanged\n\t   */\n\n\n\t  ArrayUtils.flatten = function flatten(array) {\n\t    var res = [];\n\t    (0, _Util.flat)(array, res);\n\t    return res;\n\t  };\n\n\t  /**\n\t   * Splits the given array into chunks\n\t   * @param {Array} array - The array to chunk\n\t   * @param {number} [bits=0] - The size of each nested array\n\t   * @throws {TypeError} If @param bits is not a primitive number\n\t   * @returns {Array} A new array split into @param bits\n\t   *\n\t   * @example\n\t   * const myArray = [1, 2, 3, 4];\n\t   * const altered = arrayMethods.chunk(myArray, 2);\n\t   * // altered is [[1, 2], [3, 4]] ; myArray is unchanged\n\t   */\n\n\n\t  ArrayUtils.chunk = function chunk() {\n\t    var array = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : [];\n\t    var bits = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 0;\n\n\t    var newArr = [];\n\t    if (bits <= 0) {\n\t      return newArr;\n\t    }\n\t    for (var i = 0, len = array.length; i < len; i += bits) {\n\t      var newChunk = array.slice(i, i + bits);\n\t      newArr.push(newChunk);\n\t    }\n\t    return newArr;\n\t  };\n\n\t  /**\n\t   * Finds the first occurrence in the given array where a given callback evaluates to truthy\n\t   * @param {Array} array - The array to search through\n\t   * @param {function(curElement, index)} callback - The function used to evaluate each element\n\t   * @returns {number|undefined} The element @callback is truthy or undefined if none passed\n\t   */\n\n\n\t  ArrayUtils.find = function find(array, callback) {\n\t    var len = array.length;\n\t    var index = 0;\n\t    while (index < len) {\n\t      var data = array[index];\n\t      if (callback(data, index)) {\n\t        return data;\n\t      }\n\t      index += 1;\n\t    }\n\t  };\n\n\t  /**\n\t   * Finds the index in the given array that passes the given testing function\n\t   * @param {Array} array - The array to search through\n\t   * @param {function(curElement, index)} callback - The function used to evaluate each element\n\t   * @returns {number} The index where @callback is truthy or -1 if none passed\n\t   */\n\n\n\t  ArrayUtils.findIndex = function findIndex(array, callback) {\n\t    var len = array.length;\n\t    var index = 0;\n\t    while (index < len) {\n\t      if (callback(array[index], index)) {\n\t        return index;\n\t      }\n\t      index += 1;\n\t    }\n\t    return -1;\n\t  };\n\n\t  /**\n\t   * Returns a new array with elements that give non-truthy values for the given testing function\n\t   * @param {Array} array - The array to filter\n\t   * @param {function(curElement, index)} callback - The function used to evaluate each element\n\t   * @returns {Array} A new Array filled wit only elements that did not pass the test\n\t   */\n\n\n\t  ArrayUtils.filterNot = function filterNot(array, callback) {\n\t    var len = array.length;\n\t    var res = [];\n\t    var index = 0;\n\t    while (index < len) {\n\t      var data = array[index];\n\t      if (!callback(data, index)) {\n\t        res.push(data);\n\t      }\n\t      index += 1;\n\t    }\n\t    return res;\n\t  };\n\n\t  /**\n\t   * Returns a new Array with elements mapped only if they pass a testing function first\n\t   * @param {Array} array - The array to map to another array\n\t   * @param {function(curElement, index)} test - The testing function\n\t   * @param {function(curElement, index)} mapper - The mappping function\n\t   * @return {Array} A new Array with mapped elements that pass the @param test\n\t   */\n\n\n\t  ArrayUtils.mapIf = function mapIf(array, test, mapper) {\n\t    var len = array.length;\n\t    var index = 0;\n\t    var res = [];\n\t    while (index < len) {\n\t      var data = array[index];\n\t      if (test(data, index)) {\n\t        var mappedElement = mapper(data, index);\n\t        res.push(mappedElement);\n\t      }\n\t      index += 1;\n\t    }\n\t    return res;\n\t  };\n\n\t  return ArrayUtils;\n\t}();\n\n\texports['default'] = ArrayUtils;\n\n/***/ },\n/* 18 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\n\texports.__esModule = true;\n\n\tvar _SetInterface2 = __webpack_require__(10);\n\n\tvar _SetInterface3 = _interopRequireDefault(_SetInterface2);\n\n\tvar _RedBlackTree = __webpack_require__(15);\n\n\tvar _RedBlackTree2 = _interopRequireDefault(_RedBlackTree);\n\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { 'default': obj }; }\n\n\tfunction _defaults(obj, defaults) { var keys = Object.getOwnPropertyNames(defaults); for (var i = 0; i < keys.length; i++) { var key = keys[i]; var value = Object.getOwnPropertyDescriptor(defaults, key); if (value && value.configurable && obj[key] === undefined) { Object.defineProperty(obj, key, value); } } return obj; }\n\n\tfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\n\tfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\n\tfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? _defaults(subClass, superClass) : _defaults(subClass, superClass); }\n\n\t/**\n\t * Set representaion\n\t * @class\n\t * @implements {SetInterface}\n\t * @param {function} comparator - @see Global#defaultComparator\n\t *\n\t * @example\n\t * const set = new Collections.Set();\n\t */\n\tvar Set = function (_SetInterface) {\n\t  _inherits(Set, _SetInterface);\n\n\t  function Set(comparator) {\n\t    _classCallCheck(this, Set);\n\n\t    var _this = _possibleConstructorReturn(this, _SetInterface.call(this));\n\n\t    _this.set = new _RedBlackTree2['default'](comparator);\n\t    return _this;\n\t  }\n\n\t  Set.prototype.add = function add(element) {\n\t    this.set.put(element, 1);\n\t    return this;\n\t  };\n\n\t  Set.prototype.has = function has(element) {\n\t    return this.set.contains(element);\n\t  };\n\n\t  Set.prototype.remove = function remove(element) {\n\t    return this.set.remove(element);\n\t  };\n\n\t  Set.prototype.entries = function entries() {\n\t    return this.set.keys();\n\t  };\n\n\t  Set.prototype.cardinality = function cardinality() {\n\t    return this.set.size();\n\t  };\n\n\t  Set.prototype.min = function min() {\n\t    return this.map.min();\n\t  };\n\n\t  Set.prototype.max = function max() {\n\t    return this.map.max();\n\t  };\n\n\t  Set.prototype.union = function union(thatSet) {\n\t    return _SetInterface.prototype.union.call(this, thatSet);\n\t  };\n\n\t  Set.prototype.intersect = function intersect(thatSet) {\n\t    return _SetInterface.prototype.intersect.call(this, thatSet);\n\t  };\n\n\t  Set.prototype.diff = function diff(thatSet) {\n\t    return _SetInterface.prototype.diff.call(this, thatSet);\n\t  };\n\n\t  return Set;\n\t}(_SetInterface3['default']);\n\n\texports['default'] = Set;\n\n/***/ },\n/* 19 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\n\texports.__esModule = true;\n\n\tvar _RedBlackTree = __webpack_require__(15);\n\n\tvar _RedBlackTree2 = _interopRequireDefault(_RedBlackTree);\n\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { 'default': obj }; }\n\n\tfunction _defaults(obj, defaults) { var keys = Object.getOwnPropertyNames(defaults); for (var i = 0; i < keys.length; i++) { var key = keys[i]; var value = Object.getOwnPropertyDescriptor(defaults, key); if (value && value.configurable && obj[key] === undefined) { Object.defineProperty(obj, key, value); } } return obj; }\n\n\tfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\n\tfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\n\tfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? _defaults(subClass, superClass) : _defaults(subClass, superClass); }\n\n\t/**\n\t * MultiMap representation\n\t * @class\n\t * @implements {MultiMapInterface}\n\t */\n\tvar MultiMap = function (_RBTree) {\n\t  _inherits(MultiMap, _RBTree);\n\n\t  function MultiMap(comparator) {\n\t    _classCallCheck(this, MultiMap);\n\n\t    return _possibleConstructorReturn(this, _RBTree.call(this, comparator));\n\t  }\n\n\t  MultiMap.prototype.put = function put(key, value) {\n\t    var foundValues = _RBTree.prototype.getVal.call(this, key);\n\t    if (foundValues) {\n\t      if (foundValues.indexOf(value) === -1) {\n\t        foundValues.push(value);\n\t      }\n\t    } else {\n\t      _RBTree.prototype.put.call(this, key, [value]);\n\t    }\n\t    return this;\n\t  };\n\n\t  MultiMap.prototype.removeVal = function removeVal(key, value) {\n\t    var foundValues = _RBTree.prototype.getVal.call(this, key);\n\t    var removedValue = [];\n\t    if (foundValues && foundValues.length > 0) {\n\t      var indexOfValue = foundValues.indexOf(value);\n\t      if (indexOfValue !== -1) {\n\t        removedValue = foundValues.splice(indexOfValue, 1);\n\t      }\n\t    }\n\t    return removedValue;\n\t  };\n\n\t  MultiMap.prototype.containsEntry = function containsEntry(key, value) {\n\t    var foundValues = _RBTree.prototype.getVal.call(this, key);\n\t    if (foundValues && foundValues.length > 0) {\n\t      return foundValues.indexOf(value) !== -1;\n\t    }\n\t    return false;\n\t  };\n\n\t  MultiMap.prototype.replaceVal = function replaceVal(key, oldValue, newValue) {\n\t    var foundValues = _RBTree.prototype.getVal.call(this, key);\n\t    if (foundValues && foundValues.length > 0) {\n\t      var index = foundValues.indexOf(oldValue);\n\t      if (index !== -1) {\n\t        return foundValues.splice(index, 1, newValue);\n\t      }\n\t    }\n\t    return [];\n\t  };\n\n\t  return MultiMap;\n\t}(_RedBlackTree2['default']);\n\n\texports['default'] = MultiMap;\n\n/***/ }\n/******/ ])\n});\n;","<template>\r\n  <span class=\"file-uploads\">\r\n  </span>\r\n</template>\r\n<style>\r\n.file-uploads {\r\n  /* overflow: hidden; */\r\n  position: relative;\r\n  text-align: center;\r\n  display: none;\r\n  /* display: inline-block; */\r\n}\r\n</style>\r\n<script>\r\n// import ChunkUploadDefaultHandler from '../chunk/ChunkUploadHandler'\r\nimport LanChunkUploadHandler from '../chunk/LanChunkUploadHandler'\r\nimport { getFilePartMD5 } from '../utils/utils.js'\r\nimport Collections from 'js_data-collections'\r\n\r\nconst CHUNK_DEFAULT_OPTIONS = {\r\n  headers: {},\r\n  action: '',\r\n  minSize: 1048576,\r\n  maxActive: 3,\r\n  maxRetries: 5,\r\n\r\n  handler: LanChunkUploadHandler\r\n}\r\n\r\nconst EVENT_ENUM = {\r\n  ADD: 'add',\r\n  UPDATE: 'update',\r\n  REMOVE: 'remove'\r\n}\r\n\r\nexport default {\r\n  name: 'lan-uploader',\r\n  props: {\r\n    name: {\r\n      type: String,\r\n      default: 'file',\r\n    },\r\n\r\n    multiple: {\r\n      type: Boolean,\r\n      default: false\r\n    },\r\n\r\n    maximum: {\r\n      type: Number,\r\n      default() {\r\n        return this.multiple ? 0 : 1\r\n      }\r\n    },\r\n\r\n    addIndex: {\r\n      type: [Boolean, Number],\r\n    },\r\n\r\n    postAction: {\r\n      type: String,\r\n    },\r\n\r\n    putAction: {\r\n      type: String,\r\n    },\r\n\r\n    customAction: {\r\n      type: Function,\r\n    },\r\n\r\n    /**\r\n     * check的url\r\n     */\r\n    checkAction: {\r\n      type: String,\r\n    },\r\n\r\n    /**\r\n     * 是否需要将数据入库\r\n     */\r\n    db: {\r\n      type: Boolean,\r\n      default: false\r\n    },\r\n\r\n    headers: {\r\n      type: Object,\r\n      default: Object,\r\n    },\r\n\r\n    data: {\r\n      type: Object,\r\n      default: Object,\r\n    },\r\n\r\n    timeout: {\r\n      type: Number,\r\n      default: 0,\r\n    },\r\n\r\n    drop: {\r\n      default: false,\r\n    },\r\n\r\n    dropDirectory: {\r\n      type: Boolean,\r\n      default: true,\r\n    },\r\n\r\n    size: {\r\n      type: Number,\r\n      default: 0,\r\n    },\r\n\r\n    extensions: {\r\n      default: Array,\r\n    },\r\n\r\n    value: {\r\n      type: Array,\r\n      default: Array,\r\n    },\r\n\r\n    thread: {\r\n      type: Number,\r\n      default: 1,\r\n    },\r\n\r\n    // Chunk upload enabled\r\n    chunkEnabled: {\r\n      type: Boolean,\r\n      default: false\r\n    },\r\n\r\n    // Chunk upload properties\r\n    chunk: {\r\n      type: Object,\r\n      default: () => {\r\n        return CHUNK_DEFAULT_OPTIONS\r\n      }\r\n    },\r\n\r\n    autoUpload: {\r\n      type: Boolean,\r\n      default: false\r\n    },\r\n\r\n    /**\r\n     * 修改value时是否触发事件\r\n     */\r\n    evtOnChangeValue: {\r\n      type: Boolean,\r\n      default: true\r\n    }\r\n  },\r\n\r\n  data() {\r\n    return {\r\n      files: this.value,\r\n      features: {\r\n        html5: true,\r\n        directory: false,\r\n        drag: false,\r\n      },\r\n      needUploadFileIdSet: new Collections.HashSet(),\r\n      uploadSuccessFileMap: new Collections.HashMap(),\r\n      uploadFailFileMap: new Collections.HashMap(),\r\n\r\n      active: false,\r\n      dropActive: false,\r\n\r\n      uploading: 0,\r\n\r\n      destroy: false,\r\n\r\n      progress: 0.00, // 总体上传进度\r\n    }\r\n  },\r\n\r\n\r\n  /**\r\n   * mounted\r\n   * @return {[type]} [description]\r\n   */\r\n  mounted() {\r\n    let input = document.createElement('input')\r\n    input.type = 'file'\r\n    input.multiple = true\r\n\r\n    // html5 特征\r\n    if (window.FormData && input.files) {\r\n      // 上传目录特征\r\n      if (typeof input.webkitdirectory === 'boolean' || typeof input.directory === 'boolean') {\r\n        this.features.directory = true\r\n      }\r\n\r\n      // 拖拽特征\r\n      if (this.features.html5 && typeof input.ondrop !== 'undefined') {\r\n        this.features.drop = true\r\n      }\r\n    } else {\r\n      this.features.html5 = false\r\n    }\r\n\r\n    // files 定位缓存\r\n    this.maps = {}\r\n    if (this.files) {\r\n      for (let i = 0; i < this.files.length; i++) {\r\n        let file = this.files[i]\r\n        this.maps[file.id] = file\r\n      }\r\n    }\r\n\r\n    this.$nextTick(function () {\r\n\r\n      // 更新下父级\r\n      if (this.$parent) {\r\n        this.$parent.$forceUpdate()\r\n      }\r\n\r\n      // 拖拽渲染\r\n      this.watchDrop(this.drop)\r\n    })\r\n  },\r\n\r\n  /**\r\n   * beforeDestroy\r\n   * @return {[type]} [description]\r\n   */\r\n  beforeDestroy() {\r\n    // 已销毁\r\n    this.destroy = true\r\n\r\n    // 设置成不激活\r\n    this.active = false\r\n  },\r\n\r\n  computed: {\r\n    /**\r\n     * uploading 正在上传的线程\r\n     * @return {[type]} [description]\r\n     */\r\n\r\n    /**\r\n     * uploaded 文件列表是否全部已上传\r\n     * @return {[type]} [description]\r\n     */\r\n    uploaded() {\r\n      let file\r\n      for (let i = 0; i < this.files.length; i++) {\r\n        file = this.files[i]\r\n        if (file.fileObject && !file.error && !file.success) {\r\n          return false\r\n        }\r\n      }\r\n      return true\r\n    },\r\n\r\n    chunkOptions() {\r\n      return Object.assign(CHUNK_DEFAULT_OPTIONS, this.chunk)\r\n    }\r\n  },\r\n\r\n\r\n  watch: {\r\n    active(active) {\r\n      this.watchActive(active)\r\n    },\r\n\r\n    dropActive() {\r\n      if (this.$parent) {\r\n        this.$parent.$forceUpdate()\r\n      }\r\n    },\r\n\r\n    drop(value) {\r\n      this.watchDrop(value)\r\n    },\r\n\r\n    /**\r\n     * 外部修改 :value v-model\r\n     */\r\n    value(files) {\r\n      if (this.files === files) {\r\n        return\r\n      }\r\n      this.files = files\r\n\r\n      let oldMaps = this.maps\r\n\r\n      // 重写 maps 缓存\r\n      this.maps = {}\r\n      for (let i = 0; i < this.files.length; i++) {\r\n        let file = this.files[i]\r\n        this.maps[file.id] = file\r\n      }\r\n\r\n      if (this.evtOnChangeValue) {\r\n        // add, update\r\n        for (let key in this.maps) {\r\n          let newFile = this.maps[key]\r\n          let oldFile = oldMaps[key]\r\n          if (newFile !== oldFile) {\r\n            if (newFile && oldFile) {\r\n              this.emitFile(newFile, oldFile, EVENT_ENUM.UPDATE)\r\n            } else if (newFile && !oldFile) {\r\n              this.emitFile(newFile, oldFile, EVENT_ENUM.ADD)\r\n            }\r\n          }\r\n        }\r\n\r\n        // delete\r\n        for (let key in oldMaps) {\r\n          if (!this.maps[key]) {\r\n            this.emitFile(undefined, oldMaps[key], EVENT_ENUM.REMOVE)\r\n          }\r\n        }\r\n      }\r\n    },\r\n  },\r\n\r\n  methods: {\r\n    // 清空\r\n    clear(triggerEvt = true) {\r\n      if (this.files.length) {\r\n        let files = this.files\r\n        this.files = []\r\n\r\n        // 定位\r\n        this.maps = {}\r\n\r\n        // 事件\r\n        this.emitInput()\r\n\r\n        this.needUploadFileIdSet = new Collections.HashSet()\r\n        this.uploadSuccessFileMap.clear()\r\n        this.uploadFailFileMap.clear()\r\n        if (triggerEvt) {\r\n          for (let i = 0; i < files.length; i++) {\r\n            this.emitFile(undefined, files[i], EVENT_ENUM.REMOVE)\r\n          }\r\n        }\r\n\r\n      }\r\n      return true\r\n    },\r\n\r\n    // 选择\r\n    get(id) {\r\n      if (!id) {\r\n        return false\r\n      }\r\n\r\n      if (typeof id === 'object') {\r\n        return this.maps[id.id] || false\r\n      }\r\n\r\n      return this.maps[id] || false\r\n    },\r\n\r\n    // 添加\r\n    // 2018-11-08 将此方法改为async\r\n    async add(_files, index = this.addIndex) {\r\n      // console.time('add')\r\n      let files = _files\r\n      let isArray = files instanceof Array\r\n\r\n      // 不是数组整理成数组\r\n      if (!isArray) {\r\n        files = [files]\r\n      }\r\n\r\n      // 遍历规范对象\r\n      let addFiles = []\r\n      for (let i = 0; i < files.length; i++) {\r\n        let file = files[i]\r\n        if (this.features.html5 && file instanceof Blob) {\r\n          let relativePath = ''\r\n          if (file.webkitRelativePath) {\r\n            relativePath = file.webkitRelativePath.replace(file.name, '')\r\n          }\r\n          if (file.relativePath) {\r\n            relativePath = file.relativePath.replace(file.name, '')\r\n          }\r\n          file = {\r\n            file,\r\n            size: file.size,\r\n            relativePath,\r\n            name: file.name || '',\r\n            type: file.type,\r\n          }\r\n        }\r\n        let fileObject = false\r\n        if (file.fileObject === false) {\r\n          // false\r\n        } else if (file.fileObject) {\r\n          fileObject = true\r\n        } else if (typeof Element !== 'undefined' && file.el instanceof Element) {\r\n          fileObject = true\r\n        } else if (typeof Blob !== 'undefined' && file.file instanceof Blob) {\r\n          fileObject = true\r\n        }\r\n        if (fileObject) {\r\n          file = {\r\n            fileObject: true,\r\n            size: -1,\r\n            name: 'Filename',\r\n            relativePath: '',\r\n            type: '',\r\n            active: false,\r\n            error: '',\r\n            success: false,\r\n            putAction: this.putAction,\r\n            postAction: this.postAction,\r\n            timeout: this.timeout,\r\n            ...file,\r\n            response: {},\r\n\r\n            uploader: this,\r\n            progress: '0.00',          // 只读\r\n            speed: 0,                  // 只读\r\n            // xhr: false,                // 只读\r\n            // iframe: false,             // 只读\r\n          }\r\n\r\n          // 必须包含 id\r\n          if (!file.id) {\r\n            file.id = Math.random().toString(36).substr(2)\r\n          }\r\n\r\n          file.data = {\r\n            ...this.data,\r\n            ...file.data ? file.data : {},\r\n            id: file.id,\r\n            db: this.db,\r\n            name: file.name,\r\n            relativePath: file.relativePath,\r\n            lastModified: file.file.lastModified\r\n          }\r\n\r\n          file.headers = {\r\n            ...this.headers,\r\n            ...file.headers ? file.headers : {},\r\n          }\r\n        }\r\n\r\n        if (this.emitFilter(file, undefined, EVENT_ENUM.ADD)) {\r\n          continue\r\n        } else {\r\n          this.needUploadFileIdSet.add(file.id)\r\n        }\r\n\r\n        // 最大数量限制\r\n        if (this.maximum > 1 && (addFiles.length + this.files.length) >= this.maximum) {\r\n          break\r\n        }\r\n\r\n        addFiles.push(file)\r\n\r\n        // 最大数量限制\r\n        if (this.maximum === 1) {\r\n          break\r\n        }\r\n      }\r\n      // 没有文件\r\n      if (!addFiles.length) {\r\n        return false\r\n      }\r\n\r\n      // 如果是 1 清空\r\n      if (this.maximum === 1) {\r\n        this.clear()\r\n      }\r\n\r\n      // 添加进去 files\r\n      let newFiles\r\n      if (index === true || index === 0) {\r\n        newFiles = addFiles.concat(this.files)\r\n      } else if (index) {\r\n        newFiles = this.files.concat([])\r\n        newFiles.splice(index, 0, ...addFiles)\r\n      } else {\r\n        newFiles = this.files.concat(addFiles)\r\n      }\r\n\r\n      this.files = newFiles\r\n\r\n      // 定位\r\n      for (let i = 0; i < addFiles.length; i++) {\r\n        let file = addFiles[i]\r\n        this.maps[file.id] = file\r\n      }\r\n\r\n      // 事件\r\n      this.emitInput()\r\n      this.emitAllIn()\r\n      // for (let i = 0; i < addFiles.length; i++) {\r\n      //   this.emitFile(addFiles[i], undefined, EVENT_ENUM.ADD)\r\n      // }\r\n\r\n      // console.timeEnd('add')\r\n      return isArray ? addFiles : addFiles[0]\r\n    },\r\n\r\n    // 添加表单文件\r\n    addInputFile(el) {\r\n      // console.time('addInputFile')\r\n      let files = []\r\n      if (el.files) {\r\n        for (let i = 0; i < el.files.length; i++) {\r\n          let file = el.files[i]\r\n          let relativePath = ''\r\n          if (file.webkitRelativePath) {\r\n            relativePath = file.webkitRelativePath.replace(file.name, '')\r\n          }\r\n          if (file.relativePath) {\r\n            relativePath = file.relativePath.replace(file.name, '')\r\n          }\r\n          files.push({\r\n            size: file.size,\r\n            relativePath,\r\n            name: file.name || '',\r\n            type: file.type,\r\n            file,\r\n          })\r\n        }\r\n      } else {\r\n        var names = el.value.replace(/\\\\/g, '/').split('/')\r\n        delete el.__vuex__\r\n        files.push({\r\n          name: names[names.length - 1],\r\n          el,\r\n        })\r\n      }\r\n      // console.timeEnd('addInputFile')\r\n      return this.add(files)\r\n    },\r\n\r\n\r\n    // 添加 DataTransfer\r\n    addDataTransfer(dataTransfer) {\r\n      let files = []\r\n      if (dataTransfer.items && dataTransfer.items.length) {\r\n        let items = []\r\n        for (let i = 0; i < dataTransfer.items.length; i++) {\r\n          let item = dataTransfer.items[i]\r\n          if (item.getAsEntry) {\r\n            item = item.getAsEntry() || item.getAsFile()\r\n          } else if (item.webkitGetAsEntry) {\r\n            item = item.webkitGetAsEntry() || item.getAsFile()\r\n          } else {\r\n            item = item.getAsFile()\r\n          }\r\n          if (item) {\r\n            items.push(item)\r\n          }\r\n        }\r\n\r\n        return new Promise((resolve, reject) => {\r\n          let forEach = (i) => {\r\n            let item = items[i]\r\n            // 结束 文件数量大于 最大数量\r\n            if (!item || (this.maximum > 0 && files.length >= this.maximum)) {\r\n              this.add(files).then((res) => {\r\n                return resolve(res)\r\n              })\r\n              // return resolve(this.add(files))\r\n            }\r\n            this.getEntry(item).then(function (results) {\r\n              files.push(...results)\r\n              forEach(i + 1)\r\n            })\r\n          }\r\n          forEach(0)\r\n        })\r\n      }\r\n\r\n      if (dataTransfer.files.length) {\r\n        for (let i = 0; i < dataTransfer.files.length; i++) {\r\n          files.push(dataTransfer.files[i])\r\n          if (this.maximum > 0 && files.length >= this.maximum) {\r\n            break\r\n          }\r\n        }\r\n        // return Promise.resolve(this.add(files))\r\n        return this.add(files)\r\n      }\r\n\r\n      return Promise.resolve([])\r\n    },\r\n\r\n\r\n    // 获得 entry\r\n    getEntry(entry, path = '') {\r\n      return new Promise((resolve, reject) => {\r\n        if (entry.isFile) {\r\n          entry.file(function (file) {\r\n            resolve([\r\n              {\r\n                size: file.size,\r\n                relativePath: path,\r\n                name: file.name || '',\r\n                type: file.type,\r\n                file,\r\n              }\r\n            ])\r\n          })\r\n        } else if (entry.isDirectory && this.dropDirectory) {\r\n          let files = []\r\n          let dirReader = entry.createReader()\r\n          let readEntries = () => {\r\n            dirReader.readEntries((entries) => {\r\n              let forEach = (i) => {\r\n                if ((!entries[i] && i === 0) || (this.maximum > 0 && files.length >= this.maximum)) {\r\n                  return resolve(files)\r\n                }\r\n                if (!entries[i]) {\r\n                  return readEntries()\r\n                }\r\n                this.getEntry(entries[i], path + entry.name + '/').then((results) => {\r\n                  files.push(...results)\r\n                  forEach(i + 1)\r\n                })\r\n              }\r\n              forEach(0)\r\n            })\r\n          }\r\n          readEntries()\r\n        } else {\r\n          resolve([])\r\n        }\r\n      })\r\n    },\r\n\r\n\r\n    replace(id1, id2) {\r\n      let file1 = this.get(id1)\r\n      let file2 = this.get(id2)\r\n      if (!file1 || !file2 || file1 === file2) {\r\n        return false\r\n      }\r\n      let files = this.files.concat([])\r\n      let index1 = files.indexOf(file1)\r\n      let index2 = files.indexOf(file2)\r\n      if (index1 === -1 || index2 === -1) {\r\n        return false\r\n      }\r\n      files[index1] = file2\r\n      files[index2] = file1\r\n      this.files = files\r\n      this.emitInput()\r\n      return true\r\n    },\r\n\r\n    // 移除\r\n    remove(id, triggerEvt = true) {\r\n      let file = this.get(id)\r\n      if (file) {\r\n        if (triggerEvt && this.emitFilter(undefined, file, EVENT_ENUM.REMOVE)) {\r\n          return false\r\n        } else {\r\n          this.needUploadFileIdSet.remove(file.id)\r\n        }\r\n        let files = this.files.concat([])\r\n        let index = files.indexOf(file)\r\n        if (index === -1) {\r\n          console.error('remove', file)\r\n          return false\r\n        }\r\n        files.splice(index, 1)\r\n        this.files = files\r\n\r\n        // 定位\r\n        delete this.maps[file.id]\r\n\r\n        // 事件\r\n        this.emitInput()\r\n        triggerEvt && this.emitFile(undefined, file, EVENT_ENUM.REMOVE)\r\n      }\r\n      return file\r\n    },\r\n\r\n    // 更新\r\n    update(id, data, triggerEvt = true) {\r\n      // console.log('update', id, data)\r\n      // console.log('更新进度条', this.progress)\r\n      this.refreshProgress()\r\n      // console.log('ok: ', this.progress)\r\n      let file = this.get(id)\r\n      if (file) {\r\n        let newFile = {\r\n          ...file,\r\n          ...data\r\n        }\r\n        // 停用必须加上错误\r\n        if (file.fileObject && file.active && !newFile.active && !newFile.error && !newFile.success) {\r\n          newFile.error = 'abort'\r\n        }\r\n\r\n        if (triggerEvt && this.emitFilter(newFile, file, EVENT_ENUM.UPDATE)) {\r\n          return false\r\n        }\r\n\r\n        let files = this.files.concat([])\r\n        let index = files.indexOf(file)\r\n        if (index === -1) {\r\n          console.error('update', file)\r\n          return false\r\n        }\r\n        files.splice(index, 1, newFile)\r\n        this.files = files\r\n\r\n        // 删除  旧定位 写入 新定位 （已便支持修改id)\r\n        delete this.maps[file.id]\r\n        this.maps[newFile.id] = newFile\r\n\r\n        // 事件\r\n        this.emitInput()\r\n\r\n        if (triggerEvt) {\r\n          // 上传成功\r\n          if (newFile.success && !file.success && data.success) {\r\n            this.emitFileSuccess(newFile)\r\n          }\r\n          if (newFile.error && data.error) {\r\n            this.emitFileError(newFile)\r\n          }\r\n          if (this.uploadSuccessFileMap.size() + this.uploadFailFileMap.size() === this.needUploadFileIdSet.cardinality()) {\r\n            this.emitAlldone()\r\n          }\r\n          this.emitFile(newFile, file, EVENT_ENUM.UPDATE)\r\n        }\r\n        return newFile\r\n      }\r\n      return false\r\n    },\r\n\r\n    /**\r\n     * 刷新总进度\r\n     */\r\n    refreshProgress() {\r\n      // 进度\r\n      let allProgress = 0.00\r\n      let item\r\n      for (let i = 0, len = this.files.length; i < len; ++i) {\r\n        item = this.files[i]\r\n        if (this.needUploadFileIdSet.has(item.id)) {\r\n          allProgress += Number(item.progress)\r\n        }\r\n      }\r\n      const allNumber = this.needUploadFileIdSet.cardinality()\r\n      // console.log('allNumber', allNumber)\r\n      // console.log('allProgress', allProgress)\r\n      this.progress = allNumber === 0 ? 0 : allProgress / allNumber\r\n    },\r\n\r\n    // 预处理 事件 过滤器\r\n    emitFilter(newFile, oldFile, evt) {\r\n      let isPrevent = false\r\n      this.$emit('input-filter', newFile, oldFile, function () {\r\n        isPrevent = true\r\n        return isPrevent\r\n      }, evt)\r\n      return isPrevent\r\n    },\r\n\r\n    // 处理后 事件 分发\r\n    emitFile(newFile, oldFile, evt) {\r\n      // console.log('length', oldLength, newLength)\r\n      // 自动上传\r\n      this.$emit('input-file', newFile, oldFile, evt)\r\n\r\n      if (newFile && newFile.fileObject && newFile.active && (!oldFile || !oldFile.active)) {\r\n        this.uploading++\r\n        // 激活\r\n        this.$nextTick(function () {\r\n          setTimeout(() => {\r\n            this.upload(newFile).then(() => {\r\n              // eslint-disable-next-line\r\n              newFile = this.get(newFile)\r\n              if (newFile && newFile.fileObject) {\r\n                this.update(newFile, {\r\n                  active: false,\r\n                  success: !newFile.error\r\n                })\r\n              }\r\n            }).catch((e) => {\r\n              this.update(newFile, {\r\n                active: false,\r\n                success: false,\r\n                error: e.code || e.error || e.message || e\r\n              })\r\n            })\r\n          }, parseInt(Math.random() * 50 + 50, 10))\r\n        })\r\n      } else if ((!newFile || !newFile.fileObject || !newFile.active) && oldFile && oldFile.fileObject && oldFile.active) {\r\n        // 停止\r\n        this.uploading--\r\n      }\r\n\r\n      // 自动延续激活\r\n      if (this.active && (Boolean(newFile) !== Boolean(oldFile) || newFile.active !== oldFile.active)) {\r\n        this.watchActive(true)\r\n      }\r\n    },\r\n\r\n    emitInput() {\r\n      this.$emit('input', this.files)\r\n    },\r\n\r\n    emitAllIn() {\r\n      this.$emit('all-in', this.files)\r\n      if (!this.active && this.autoUpload) {\r\n        this.active = true\r\n      }\r\n    },\r\n\r\n    emitFileSuccess(file) {\r\n      this.$emit('file-success', file)\r\n      this.uploadSuccessFileMap.put(file.id, file)\r\n    },\r\n\r\n    emitFileError(file) {\r\n      this.$emit('file-error', file)\r\n      this.uploadFailFileMap.put(file.id, file)\r\n    },\r\n\r\n    emitAlldone() {\r\n      this.$emit('all-done', this.uploadSuccessFileMap.values(), this.uploadFailFileMap.values())\r\n      this.needUploadFileIdSet = new Collections.HashSet()\r\n      this.uploadSuccessFileMap.clear()\r\n      this.uploadFailFileMap.clear()\r\n    },\r\n\r\n    /**\r\n     * 获取文件md5\r\n     */\r\n    md5Action(file) {\r\n      return new Promise((resolve, reject) => {\r\n        // console.log('获取md5')\r\n        getFilePartMD5(file).then(res => {\r\n          // console.log('获取成功,更新文件信息', res)\r\n          // this.update(file, { md5: res })\r\n          // console.log('更新成功')\r\n          resolve(res)\r\n        }).catch(e => {\r\n          reject(e)\r\n        })\r\n      })\r\n    },\r\n\r\n    /**\r\n     * check is there has file or chunk on server\r\n     * if there is file on server, return file\r\n     * if there is chunks on server\r\n     * 文件秒传 与 断点续传\r\n     */\r\n    check(id) {\r\n      let file = this.get(id)\r\n      // 融合 文件data\r\n      // 生成查询串\r\n      let querys = []\r\n      let value\r\n      for (let key in file.data) {\r\n        value = file.data[key]\r\n        if (value !== null && value !== undefined) {\r\n          querys.push(encodeURIComponent(key) + '=' + encodeURIComponent(value))\r\n        }\r\n      }\r\n      let queryString = querys.length ? (this.checkAction.indexOf('?') === -1 ? '?' : '&') + querys.join('&') : ''\r\n      let xhr = new XMLHttpRequest()\r\n      xhr.open('GET', this.checkAction + queryString)\r\n\r\n      return new Promise((resolve, reject) => {\r\n        let complete\r\n        let fn = (e) => {\r\n          // 已经处理过了\r\n          if (complete) {\r\n            return\r\n          }\r\n          complete = true\r\n          file = this.get(file)\r\n\r\n          // 不存在直接响应\r\n          if (!file) {\r\n            return reject('not_exists')\r\n          }\r\n\r\n          // 不是文件对象\r\n          if (!file.fileObject) {\r\n            return reject('file_object')\r\n          }\r\n\r\n          // 有错误自动响应\r\n          if (file.error) {\r\n            return reject(file.error)\r\n          }\r\n\r\n          // 未激活\r\n          if (!file.active) {\r\n            return reject('abort')\r\n          }\r\n\r\n          // 已完成 直接相应\r\n          if (file.success) {\r\n            return resolve({ status: 'success' })\r\n          }\r\n\r\n          let data = {}\r\n\r\n          // console.log('evt', e)\r\n          switch (e.type) {\r\n            case 'timeout':\r\n            case 'abort':\r\n              data.error = e.type\r\n              break\r\n            case 'error':\r\n              if (!xhr.status) {\r\n                data.error = 'network'\r\n              } else if (xhr.status >= 500) {\r\n                data.error = 'server'\r\n              } else if (xhr.status >= 400) {\r\n                data.error = 'denied'\r\n              }\r\n              break\r\n            default:\r\n              if (xhr.status >= 500) {\r\n                data.error = 'server'\r\n              } else if (xhr.status >= 400) {\r\n                data.error = 'denied'\r\n              } else {\r\n                data.progress = 100.0\r\n              }\r\n          }\r\n\r\n          if (xhr.responseText) {\r\n            let contentType = xhr.getResponseHeader('Content-Type')\r\n            if (contentType && contentType.indexOf('/json') !== -1) {\r\n              data.response = JSON.parse(xhr.responseText)\r\n            } else {\r\n              data.response = xhr.responseText\r\n            }\r\n          }\r\n\r\n          // 相应错误\r\n          if (file.error) {\r\n            return reject(file.error)\r\n          }\r\n\r\n          // 响应\r\n          return resolve(data)\r\n        }\r\n\r\n        // 事件\r\n        xhr.onload = fn\r\n        xhr.onerror = fn\r\n        xhr.onabort = fn\r\n        xhr.ontimeout = fn\r\n\r\n        // 超时\r\n        if (file.timeout) {\r\n          xhr.timeout = file.timeout\r\n        }\r\n\r\n        // headers\r\n        for (let key in file.headers) {\r\n          xhr.setRequestHeader(key, file.headers[key])\r\n        }\r\n\r\n        // 更新 xhr\r\n        // file = this.update(file, { xhr })\r\n\r\n        // 开始上传\r\n        xhr.send()\r\n      })\r\n    },\r\n\r\n    // 上传\r\n    async upload(id) {\r\n      let file = this.get(id)\r\n\r\n      // 被删除\r\n      if (!file) {\r\n        throw new Error('not_exists')\r\n        // return Promise.reject('not_exists')\r\n      }\r\n\r\n      // 不是文件对象\r\n      if (!file.fileObject) {\r\n        throw new Error('file_object')\r\n        // return Promise.reject('file_object')\r\n      }\r\n\r\n      // 有错误直接响应\r\n      if (file.error) {\r\n        throw new Error(file.error)\r\n        // return Promise.reject(file.error)\r\n      }\r\n\r\n      // 已完成直接响应\r\n      if (file.success) {\r\n        return file\r\n        // return Promise.resolve(file)\r\n      }\r\n\r\n      // 后缀\r\n      let extensions = this.extensions\r\n      if (extensions && (extensions.length || typeof extensions.length === 'undefined')) {\r\n        if (typeof extensions !== 'object' || !(extensions instanceof RegExp)) {\r\n          if (typeof extensions === 'string') {\r\n            extensions = extensions.split(',').map(value => value.trim()).filter(value => value)\r\n          }\r\n          extensions = new RegExp('\\\\.(' + extensions.join('|').replace(/\\./g, '\\\\.') + ')$', 'i')\r\n        }\r\n        if (file.name.search(extensions) === -1) {\r\n          throw new Error('extension')\r\n          // return Promise.reject('extension')\r\n        }\r\n      }\r\n\r\n      // 大小\r\n      if (this.size > 0 && file.size >= 0 && file.size > this.size) {\r\n        throw new Error('size')\r\n        // return Promise.reject('size')\r\n      }\r\n\r\n      try {\r\n        const md5 = await this.md5Action(file.file)\r\n        file.data = {\r\n          ...file.data,\r\n          md5\r\n        }\r\n      } catch (e) {\r\n        throw new Error('md5')\r\n      }\r\n\r\n      if (this.checkAction) {\r\n        try {\r\n          const result = await this.check(file)\r\n          const res = result.response\r\n          if (res.status === 'success') {\r\n            // 文件已存在\r\n            this.update(file, result)\r\n            return true// 直接成功\r\n          } else if (res.status === 'chunks') {\r\n            // chunks 已存在\r\n            // this.update(file, { uploadedChunks: res.chunks })\r\n            file.uploadedChunks = res.chunks\r\n          } else if (res.status === 'upload') {\r\n            // 传文件并更新记录\r\n            // this.update(file, {\r\n            //   data: { pass_through: res.pass_through },\r\n            //   finishBody: { pass_through: res.pass_through }\r\n            // })\r\n            file.data = {\r\n              ...file.data,\r\n              pass_through: res.pass_through\r\n            }\r\n            file.finishBody = {\r\n              pass_through: res.pass_through\r\n            }\r\n          }\r\n        } catch (e) {\r\n          if (e === 'abort') {\r\n            throw new Error('abort')\r\n          }\r\n          throw new Error('check')\r\n        }\r\n      }\r\n\r\n      // 自定义action\r\n      if (this.customAction) {\r\n        try {\r\n          const tmp = await this.customAction(file, this)\r\n          return tmp\r\n        } catch (e) {\r\n          throw e\r\n        }\r\n      }\r\n\r\n      if (this.features.html5) {\r\n        if (this.shouldUseChunkUpload(file)) {\r\n          try {\r\n            const tmp = await this.uploadChunk(file)\r\n            return tmp\r\n          } catch (e) {\r\n            throw e\r\n          }\r\n        }\r\n        if (file.putAction) {\r\n          try {\r\n            const tmp = await this.uploadPut(file)\r\n            return tmp\r\n          } catch (e) {\r\n            throw e\r\n          }\r\n          // return this.uploadPut(file)\r\n        }\r\n        if (file.postAction) {\r\n          try {\r\n            const tmp = await this.uploadHtml5(file)\r\n            return tmp\r\n          } catch (e) {\r\n            throw e\r\n          }\r\n          // return this.uploadHtml5(file)\r\n        }\r\n      }\r\n      if (file.postAction) {\r\n        try {\r\n          const tmp = await this.uploadHtml4(file)\r\n          return tmp\r\n        } catch (e) {\r\n          throw e\r\n        }\r\n        // return this.uploadHtml4(file)\r\n      }\r\n\r\n      throw new Error('No action configured')\r\n      // return Promise.reject('No action configured')\r\n    },\r\n\r\n    /**\r\n     * Whether this file should be uploaded using chunk upload or not\r\n     *\r\n     * @param Object file\r\n     */\r\n    shouldUseChunkUpload(file) {\r\n      return this.chunkEnabled &&\r\n        !!this.chunkOptions.handler &&\r\n        file.size > this.chunkOptions.minSize\r\n    },\r\n\r\n    /**\r\n     * Upload a file using Chunk method\r\n     *\r\n     * @param File file\r\n     */\r\n    uploadChunk(file) {\r\n      const HandlerClass = this.chunkOptions.handler\r\n      file.chunk = new HandlerClass(file, this.chunkOptions)\r\n\r\n      return file.chunk.upload()\r\n    },\r\n\r\n    uploadPut(file) {\r\n      let querys = []\r\n      let value\r\n      for (let key in file.data) {\r\n        value = file.data[key]\r\n        if (value !== null && value !== undefined) {\r\n          querys.push(encodeURIComponent(key) + '=' + encodeURIComponent(value))\r\n        }\r\n      }\r\n      let queryString = querys.length ? (file.putAction.indexOf('?') === -1 ? '?' : '&') + querys.join('&') : ''\r\n      let xhr = new XMLHttpRequest()\r\n      xhr.open('PUT', file.putAction + queryString)\r\n      return this.uploadXhr(xhr, file, file.file)\r\n    },\r\n\r\n    uploadHtml5(file) {\r\n      let form = new window.FormData()\r\n      let value\r\n      for (let key in file.data) {\r\n        value = file.data[key]\r\n        if (value && typeof value === 'object' && typeof value.toString !== 'function') {\r\n          if (value instanceof File) {\r\n            form.append(key, value, value.name)\r\n          } else {\r\n            form.append(key, JSON.stringify(value))\r\n          }\r\n        } else if (value !== null && value !== undefined) {\r\n          form.append(key, value)\r\n        }\r\n      }\r\n      form.append(this.name, file.file, file.file.filename || file.name)\r\n      let xhr = new XMLHttpRequest()\r\n      xhr.open('POST', file.postAction)\r\n      return this.uploadXhr(xhr, file, form)\r\n    },\r\n\r\n    uploadXhr(xhr, _file, body) {\r\n      let file = _file\r\n      let speedTime = 0\r\n      let speedLoaded = 0\r\n\r\n      // 进度条\r\n      xhr.upload.onprogress = (e) => {\r\n        // 还未开始上传 已删除 未激活\r\n        file = this.get(file)\r\n        if (!e.lengthComputable || !file || !file.fileObject || !file.active) {\r\n          return\r\n        }\r\n\r\n        // 进度 速度 每秒更新一次\r\n        let speedTime2 = Math.round(Date.now() / 1000)\r\n        if (speedTime2 === speedTime) {\r\n          return\r\n        }\r\n        speedTime = speedTime2\r\n\r\n        file = this.update(file, {\r\n          progress: (e.loaded / e.total * 100).toFixed(2),\r\n          speed: e.loaded - speedLoaded,\r\n        })\r\n        speedLoaded = e.loaded\r\n      }\r\n\r\n      // 检查激活状态\r\n      let interval = setInterval(() => {\r\n        file = this.get(file)\r\n        if (file && file.fileObject && !file.success && !file.error && file.active) {\r\n          return\r\n        }\r\n\r\n        if (interval) {\r\n          clearInterval(interval)\r\n          interval = false\r\n        }\r\n\r\n        try {\r\n          xhr.abort()\r\n          xhr.timeout = 1\r\n        } catch (e) {\r\n        }\r\n      }, 100)\r\n\r\n      return new Promise((resolve, reject) => {\r\n        let complete\r\n        let fn = (e) => {\r\n          // 已经处理过了\r\n          if (complete) {\r\n            return\r\n          }\r\n          complete = true\r\n          if (interval) {\r\n            clearInterval(interval)\r\n            interval = false\r\n          }\r\n\r\n          file = this.get(file)\r\n\r\n          // 不存在直接响应\r\n          if (!file) {\r\n            return reject('not_exists')\r\n          }\r\n\r\n          // 不是文件对象\r\n          if (!file.fileObject) {\r\n            return reject('file_object')\r\n          }\r\n\r\n          // 有错误自动响应\r\n          if (file.error) {\r\n            return reject(file.error)\r\n          }\r\n\r\n          // 未激活\r\n          if (!file.active) {\r\n            return reject('abort')\r\n          }\r\n\r\n\r\n          // 已完成 直接相应\r\n          if (file.success) {\r\n            return resolve(file)\r\n          }\r\n\r\n          let data = {}\r\n\r\n          switch (e.type) {\r\n            case 'timeout':\r\n            case 'abort':\r\n              data.error = e.type\r\n              break\r\n            case 'error':\r\n              if (!xhr.status) {\r\n                data.error = 'network'\r\n              } else if (xhr.status >= 500) {\r\n                data.error = 'server'\r\n              } else if (xhr.status >= 400) {\r\n                data.error = 'denied'\r\n              }\r\n              break\r\n            default:\r\n              if (xhr.status >= 500) {\r\n                data.error = 'server'\r\n              } else if (xhr.status >= 400) {\r\n                data.error = 'denied'\r\n              } else {\r\n                data.progress = '100.00'\r\n              }\r\n          }\r\n\r\n          if (xhr.responseText) {\r\n            let contentType = xhr.getResponseHeader('Content-Type')\r\n            if (contentType && contentType.indexOf('/json') !== -1) {\r\n              data.response = JSON.parse(xhr.responseText)\r\n            } else {\r\n              data.response = xhr.responseText\r\n            }\r\n          }\r\n\r\n          // 更新\r\n          file = this.update(file, data)\r\n\r\n          // 相应错误\r\n          if (file.error) {\r\n            return reject(file.error)\r\n          }\r\n\r\n          // 响应\r\n          return resolve(file)\r\n        }\r\n\r\n        // 事件\r\n        xhr.onload = fn\r\n        xhr.onerror = fn\r\n        xhr.onabort = fn\r\n        xhr.ontimeout = fn\r\n\r\n        // 超时\r\n        if (file.timeout) {\r\n          xhr.timeout = file.timeout\r\n        }\r\n\r\n        // headers\r\n        for (let key in file.headers) {\r\n          xhr.setRequestHeader(key, file.headers[key])\r\n        }\r\n\r\n        // 更新 xhr\r\n        file = this.update(file, { xhr })\r\n\r\n        // 开始上传\r\n        xhr.send(body)\r\n      })\r\n    },\r\n\r\n\r\n\r\n\r\n    uploadHtml4(_file) {\r\n      let file = _file\r\n      let onKeydown = function (e) {\r\n        if (e.keyCode === 27) {\r\n          e.preventDefault()\r\n        }\r\n      }\r\n\r\n      let iframe = document.createElement('iframe')\r\n      iframe.id = 'upload-iframe-' + file.id\r\n      iframe.name = 'upload-iframe-' + file.id\r\n      iframe.src = 'about:blank'\r\n      iframe.setAttribute('style', 'width:1px;height:1px;top:-999em;position:absolute; margin-top:-999em;')\r\n\r\n\r\n      let form = document.createElement('form')\r\n\r\n      form.action = file.postAction\r\n\r\n      form.name = 'upload-form-' + file.id\r\n\r\n\r\n      form.setAttribute('method', 'POST')\r\n      form.setAttribute('target', 'upload-iframe-' + file.id)\r\n      form.setAttribute('enctype', 'multipart/form-data')\r\n\r\n      let value\r\n      let input\r\n      for (let key in file.data) {\r\n        value = file.data[key]\r\n        if (value && typeof value === 'object' && typeof value.toString !== 'function') {\r\n          value = JSON.stringify(value)\r\n        }\r\n        if (value !== null && value !== undefined) {\r\n          input = document.createElement('input')\r\n          input.type = 'hidden'\r\n          input.name = key\r\n          input.value = value\r\n          form.appendChild(input)\r\n        }\r\n      }\r\n      form.appendChild(file.el)\r\n\r\n      document.body.appendChild(iframe).appendChild(form)\r\n\r\n\r\n\r\n\r\n      let getResponseData = function () {\r\n        let doc\r\n        try {\r\n          if (iframe.contentWindow) {\r\n            doc = iframe.contentWindow.document\r\n          }\r\n        } catch (err) {\r\n        }\r\n        if (!doc) {\r\n          try {\r\n            doc = iframe.contentDocument ? iframe.contentDocument : iframe.document\r\n          } catch (err) {\r\n            doc = iframe.document\r\n          }\r\n        }\r\n        if (doc && doc.body) {\r\n          return doc.body.innerHTML\r\n        }\r\n        return null\r\n      }\r\n\r\n\r\n      return new Promise((resolve, reject) => {\r\n        setTimeout(() => {\r\n          file = this.update(file, { iframe })\r\n\r\n          // 不存在\r\n          if (!file) {\r\n            return reject('not_exists')\r\n          }\r\n\r\n          // 定时检查\r\n          let interval = setInterval(() => {\r\n            file = this.get(file)\r\n            if (file && file.fileObject && !file.success && !file.error && file.active) {\r\n              return\r\n            }\r\n\r\n            if (interval) {\r\n              clearInterval(interval)\r\n              interval = false\r\n            }\r\n\r\n            iframe.onabort({ type: file ? 'abort' : 'not_exists' })\r\n          }, 100)\r\n\r\n\r\n          let complete\r\n          let fn = (e) => {\r\n            // 已经处理过了\r\n            if (complete) {\r\n              return\r\n            }\r\n            complete = true\r\n\r\n\r\n            if (interval) {\r\n              clearInterval(interval)\r\n              interval = false\r\n            }\r\n\r\n            // 关闭 esc 事件\r\n            document.body.removeEventListener('keydown', onKeydown)\r\n\r\n            file = this.get(file)\r\n\r\n            // 不存在直接响应\r\n            if (!file) {\r\n              return reject('not_exists')\r\n            }\r\n\r\n            // 不是文件对象\r\n            if (!file.fileObject) {\r\n              return reject('file_object')\r\n            }\r\n\r\n            // 有错误自动响应\r\n            if (file.error) {\r\n              return reject(file.error)\r\n            }\r\n\r\n            // 未激活\r\n            if (!file.active) {\r\n              return reject('abort')\r\n            }\r\n\r\n            // 已完成 直接相应\r\n            if (file.success) {\r\n              return resolve(file)\r\n            }\r\n\r\n            let response = getResponseData()\r\n            let data = {}\r\n            switch (e.type) {\r\n              case 'abort':\r\n                data.error = 'abort'\r\n                break\r\n              case 'error':\r\n                if (file.error) {\r\n                  data.error = file.error\r\n                } else if (response === null) {\r\n                  data.error = 'network'\r\n                } else {\r\n                  data.error = 'denied'\r\n                }\r\n                break\r\n              default:\r\n                if (file.error) {\r\n                  data.error = file.error\r\n                } else if (data === null) {\r\n                  data.error = 'network'\r\n                } else {\r\n                  data.progress = '100.00'\r\n                }\r\n            }\r\n\r\n            if (response !== null) {\r\n              if (response && response.substr(0, 1) === '{' && response.substr(response.length - 1, 1) === '}') {\r\n                try {\r\n                  response = JSON.parse(response)\r\n                } catch (err) {\r\n                }\r\n              }\r\n              data.response = response\r\n            }\r\n\r\n            // 更新\r\n            file = this.update(file, data)\r\n\r\n            if (file.error) {\r\n              return reject(file.error)\r\n            }\r\n\r\n            // 响应\r\n            return resolve(file)\r\n          }\r\n\r\n\r\n          // 添加事件\r\n          iframe.onload = fn\r\n          iframe.onerror = fn\r\n          iframe.onabort = fn\r\n\r\n\r\n          // 禁止 esc 键\r\n          document.body.addEventListener('keydown', onKeydown)\r\n\r\n          // 提交\r\n          form.submit()\r\n        }, 50)\r\n      }).then(function (res) {\r\n        iframe.parentNode && iframe.parentNode.removeChild(iframe)\r\n        return res\r\n      }).catch(function (res) {\r\n        iframe.parentNode && iframe.parentNode.removeChild(iframe)\r\n        return res\r\n      })\r\n    },\r\n\r\n\r\n\r\n    watchActive(active) {\r\n      let file\r\n      let index = 0\r\n      while ((file = this.files[index])) {\r\n        index++\r\n        if (!file.fileObject) {\r\n          // 不是文件对象\r\n        } else if (active && !this.destroy) {\r\n          if (this.uploading >= this.thread || (this.uploading && !this.features.html5)) {\r\n            break\r\n          }\r\n          if (!file.active && !file.error && !file.success) {\r\n            this.update(file, { active: true })\r\n          }\r\n        } else {\r\n          if (file.active) {\r\n            this.update(file, { active: false })\r\n          }\r\n        }\r\n      }\r\n      if (this.uploading === 0) {\r\n        this.active = false\r\n      }\r\n    },\r\n\r\n\r\n    watchDrop(_el) {\r\n      let el = _el\r\n      if (!this.features.drop) {\r\n        return\r\n      }\r\n\r\n      // 移除挂载\r\n      if (this.dropElement) {\r\n        try {\r\n          document.removeEventListener('dragenter', this.onDragenter, false)\r\n          document.removeEventListener('dragleave', this.onDragleave, false)\r\n          document.removeEventListener('drop', this.onDocumentDrop, false)\r\n          this.dropElement.removeEventListener('dragover', this.onDragover, false)\r\n          this.dropElement.removeEventListener('drop', this.onDrop, false)\r\n        } catch (e) {\r\n        }\r\n      }\r\n\r\n      if (!el) {\r\n        el = false\r\n      } else if (typeof el === 'string') {\r\n        el = document.querySelector(el) || this.$root.$el.querySelector(el)\r\n      } else if (el === true) {\r\n        el = this.$parent.$el\r\n      }\r\n\r\n      this.dropElement = el\r\n\r\n      if (this.dropElement) {\r\n        document.addEventListener('dragenter', this.onDragenter, false)\r\n        document.addEventListener('dragleave', this.onDragleave, false)\r\n        document.addEventListener('drop', this.onDocumentDrop, false)\r\n        this.dropElement.addEventListener('dragover', this.onDragover, false)\r\n        this.dropElement.addEventListener('drop', this.onDrop, false)\r\n      }\r\n    },\r\n\r\n\r\n    onDragenter(e) {\r\n      e.preventDefault()\r\n      if (this.dropActive) {\r\n        return\r\n      }\r\n      if (!e.dataTransfer) {\r\n        return\r\n      }\r\n      let dt = e.dataTransfer\r\n      if (dt.files && dt.files.length) {\r\n        this.dropActive = true\r\n      } else if (!dt.types) {\r\n        this.dropActive = true\r\n      } else if (dt.types.indexOf && dt.types.indexOf('Files') !== -1) {\r\n        this.dropActive = true\r\n      } else if (dt.types.contains && dt.types.contains('Files')) {\r\n        this.dropActive = true\r\n      }\r\n    },\r\n\r\n    onDragleave(e) {\r\n      e.preventDefault()\r\n      if (!this.dropActive) {\r\n        return\r\n      }\r\n      if (e.target.nodeName === 'HTML' || e.target === e.explicitOriginalTarget || (!e.fromElement && (e.clientX <= 0 || e.clientY <= 0 || e.clientX >= window.innerWidth || e.clientY >= window.innerHeight))) {\r\n        this.dropActive = false\r\n      }\r\n    },\r\n\r\n    onDragover(e) {\r\n      e.preventDefault()\r\n    },\r\n\r\n    onDocumentDrop() {\r\n      this.dropActive = false\r\n    },\r\n\r\n    onDrop(e) {\r\n      e.preventDefault()\r\n      this.addDataTransfer(e.dataTransfer)\r\n    },\r\n  }\r\n}\r\n</script>\r\n","<template>\r\n  <!-- <input type=\"file\" :name=\"$parent.name\" :id=\"$parent.inputId || $parent.name\" :accept=\"$parent.accept\" :capture=\"$parent.capture\"\r\n    @change=\"change\" :webkitdirectory=\"$parent.directory && $parent.features.directory\" :directory=\"$parent.directory && $parent.features.directory\"\r\n    :multiple=\"$parent.multiple && $parent.features.html5\" /> -->\r\n  <!--  -->\r\n  <input type=\"file\" v-if=\"$parent.uploader\" @change=\"change\" :accept=\"$parent.accept\" :capture=\"$parent.capture\" :webkitdirectory=\"$parent.directory && $parent.uploader.features.directory\" :directory=\"$parent.directory && $parent.uploader.features.directory\"\r\n    :multiple=\"$parent.multiple && $parent.uploader.features.html5\" />\r\n</template>\r\n<script>\r\nexport default {\r\n  name: 'input-file',\r\n  methods: {\r\n    change(e) {\r\n      this.$parent.uploader.addInputFile(e.target).then(() => {\r\n        e.target.value = ''\r\n        if (!e.target.files) {\r\n          // ie9 fix #219\r\n          this.$destroy()\r\n          // eslint-disable-next-line\r\n          new this.constructor({\r\n            parent: this.$parent,\r\n            el: this.$el,\r\n          })\r\n        }\r\n      })\r\n    }\r\n  }\r\n}\r\n</script>\r\n","<template>\r\n  <button \r\n    class=\"el-button uploader-btn\" \r\n    @click=\"handleClick\" \r\n    :disabled=\"buttonDisabled || loading\"\r\n    :autofocus=\"autofocus\" \r\n    :type=\"nativeType\"\r\n    :class=\"[\r\n      type ? 'el-button--' + type : '',\r\n      buttonSize ? 'el-button--' + buttonSize : '',\r\n      {\r\n        'is-disabled': buttonDisabled,\r\n        'is-loading': loading,\r\n        'is-plain': plain,\r\n        'is-round': round,\r\n        'is-circle': circle\r\n      },\r\n      this.uploader.features.html5 ? 'file-uploads-html5' : 'file-uploads-html4',\r\n      this.uploader.features.directory && this.directory ? 'file-uploads-directory' : undefined,\r\n      this.uploader.features.drop && this.uploader.drop ? 'file-uploads-drop' : undefined,\r\n    ]\">\r\n    <i class=\"el-icon-loading\" v-if=\"loading\"></i>\r\n    <i :class=\"icon\" v-if=\"icon && !loading\"></i>\r\n    <span v-if=\"$slots.default\">\r\n      <slot></slot>\r\n    </span>\r\n    <input-file></input-file>\r\n  </button>\r\n</template>\r\n\r\n<script>\r\nimport { getUploader } from '../utils/utils.js'\r\nimport InputFile from './InputFile.vue'\r\n\r\nexport default {\r\n  name: 'uploader-btn',\r\n  components: {\r\n    InputFile\r\n  },\r\n  inject: {\r\n    elForm: {\r\n      default: ''\r\n    },\r\n    elFormItem: {\r\n      default: ''\r\n    }\r\n  },\r\n  props: {\r\n    bind: {\r\n      type: String,\r\n      default: 'upload'\r\n    },\r\n    directory: {\r\n      type: Boolean,\r\n      default: false\r\n    },\r\n    multiple: {\r\n      type: Boolean,\r\n      default: false\r\n    },\r\n    accept: {\r\n      type: String,\r\n    },\r\n    capture: {\r\n    },\r\n    // el-button ///////////////////\r\n    type: {\r\n      type: String,\r\n      default: 'default'\r\n    },\r\n    size: String,\r\n    icon: {\r\n      type: String,\r\n      default: ''\r\n    },\r\n    nativeType: {\r\n      type: String,\r\n      default: 'button'\r\n    },\r\n    loading: Boolean,\r\n    disabled: Boolean,\r\n    plain: Boolean,\r\n    autofocus: Boolean,\r\n    round: Boolean,\r\n    circle: Boolean\r\n  },\r\n  data() {\r\n    return {\r\n      uploader: getUploader(this, this.bind)\r\n    }\r\n  },\r\n  computed: {\r\n    _elFormItemSize() {\r\n      return (this.elFormItem || {}).elFormItemSize\r\n    },\r\n    buttonSize() {\r\n      return this.size || this._elFormItemSize || (this.$ELEMENT || {}).size\r\n    },\r\n    buttonDisabled() {\r\n      return this.disabled || (this.elForm || {}).disabled\r\n    }\r\n  },\r\n  methods: {\r\n    handleClick(evt) {\r\n      if (this.buttonDisabled) {\r\n        if (evt.preventDefault) {\r\n          evt.preventDefault()\r\n          return false\r\n        }\r\n        return false\r\n      }\r\n      let input = this.$el.querySelector('input')\r\n      input.click()\r\n      this.$emit('click', evt)\r\n    }\r\n  }\r\n}\r\n</script>\r\n<style>\r\n.uploader-btn.file-uploads-html4 input[type='file'],\r\n.uploader-btn.file-uploads-html5 label {\r\n  /* background fix ie  click */\r\n  background: #fff;\r\n  opacity: 0;\r\n  font-size: 20em;\r\n  z-index: 1;\r\n  top: 0;\r\n  left: 0;\r\n  right: 0;\r\n  bottom: 0;\r\n  position: absolute;\r\n  width: 100%;\r\n  height: 100%;\r\n}\r\n.uploader-btn.file-uploads-html5 input[type='file'],\r\n.uploader-btn.file-uploads-html4 label {\r\n  /* background fix ie  click */\r\n  background: rgba(255, 255, 255, 0);\r\n  overflow: hidden;\r\n  position: fixed;\r\n  width: 1px;\r\n  height: 1px;\r\n  z-index: -1;\r\n  opacity: 0;\r\n}\r\n</style>\r\n","import FileUpload from './components/FileUpload.vue'\r\nimport Button from './components/Button.vue'\r\n\r\nconst uploader = {\r\n  version: '2.8.20',\r\n  install,\r\n  FileUpload,\r\n  Button\r\n}\r\n\r\nif (typeof window !== 'undefined' && window.Vue) {\r\n  window.Vue.use(install)\r\n}\r\n\r\nexport default uploader\r\n\r\nfunction install(Vue) {\r\n  if (install.installed) {\r\n    return\r\n  }\r\n  Vue.component(FileUpload.name, FileUpload)\r\n  Vue.component(Button.name, Button)\r\n}\r\n\r\n// module.exports = require('./FileUpload.vue')\r\n"],"names":["createRequest","options","xhr","XMLHttpRequest","open","method","url","responseType","headers","Object","keys","forEach","setRequestHeader","key","sendRequest","body","Promise","resolve","reject","onload","status","response","JSON","parse","err","onerror","send","stringify","sendFormRequest","data","FormData","name","append","ChunkUploadHandler","file","chunks","start","end","chunkSize","fileSize","push","blob","slice","startOffset","active","retries","maxRetries","progress","stopChunks","chunksUploading","chunk","abort","startChunking","promise","request","assign","action","startBody","phase","mime_type","fileType","size","fileName","then","res","sessionId","session_id","Number","end_offset","createChunks","catch","i","maxActiveChunks","uploadNextChunk","hasChunksToUpload","uploadChunk","chunksToUpload","length","finish","updateFileProgress","upload","addEventListener","evt","lengthComputable","Math","round","loaded","total","uploadBody","start_offset","uploaded","finishBody","parseInt","maxActive","type","completedProgress","chunksUploaded","uploadingProgress","reduce","min","filter","LanChunkUploadHandler","uploader","refreshProgress","index","filterChunks","indexOf","uploadedChunks","join","getFilePartMD5","SparkMD5","require","spark","ArrayBuffer","fileReader","FileReader","blobSlice","File","prototype","mozSlice","webkitSlice","ceil","mid","currentChunk","e","target","result","load","readAsArrayBuffer","call","getUploader","component","bind","parent","$parent","$refs","webpackUniversalModuleDefinition","root","factory","module","this","modules","installedModules","__webpack_require__","moduleId","exports","id","m","c","p","__esModule","MultiMap","RBTree","Set","ArrayUtils","Trie","Graph","BST","HashSet","HashMap","PriorityQueue","BHeap","Queue","Stack","List","undefined","_List","_List2","_interopRequireDefault","_Stack","_Stack2","_Queue","_Queue2","_BHeap","_BHeap2","_PriorityQueue","_PriorityQueue2","_HashMap","_HashMap2","_HashSet","_HashSet2","_BST","_BST2","_Graph","_Graph2","_Trie","_Trie2","_ArrayUtils","_ArrayUtils2","_RedBlackTree","_RedBlackTree2","_Set","_Set2","_MultiMap","_MultiMap2","obj","_Util","_classCallCheck","instance","Constructor","TypeError","getNode","head","next","Node","prev","tail","addToFront","newNode","elementAtIndex","arguments","foundNode","addToBack","removeFront","removedData","newHead","removeBack","insert","parentNode","oldParentNext","remove","toRemove","toRemoveNext","comparator","cmp","defaultComparator","contains","clear","predicate","newList","every","some","toArray","temp","element","_typeof","Symbol","iterator","constructor","swap","flat","toString","isNumber","generateRandomInt","array","index1","index2","oldIndex1","newArr","curValue","len","Array","isArray","value","a","b","isFinite","limit","floor","random","stack","pop","peek","queue","enqueue","dequeue","heapify","leftChildIndex","rightChildIndex","numIndicies","largest","siftUp","heap","extractRoot","max","minHeapComparator","objectA","objectB","priority","_HashTable","_HashTable2","initialCapacity","map","put","self","getVal","values","hashString","string","hash","charCodeAt","mod","dividend","divisor","modulo","createTable","newTable","getLocationInTable","table","keyHash","location","bucket","getKeysOrValues","query","tableLen","currentBucket","j","search","shouldRehash","inserts","HashTable","searchResult","rehash","splice","oldTable","oldLen","oldKey","oldValue","tableSize","_SetInterface2","_SetInterface3","_defaults","defaults","getOwnPropertyNames","getOwnPropertyDescriptor","configurable","defineProperty","_possibleConstructorReturn","ReferenceError","_inherits","subClass","superClass","create","enumerable","writable","setPrototypeOf","_SetInterface","_this","set","add","has","entries","cardinality","union","thatSet","diff","intersect","SetInterface","thisKeys","thisLen","curElement","thatKeys","thatLen","largerSet","smallerSet","smallLen","_BSTNode","_BSTNode2","_BSTPrototype","inserted","BSTInsert","removed","BSTRemove","node","BSTSearch","inorder","BSTInorder","minOrMax","keysLess","less","keysGreater","greater","keyRange","lower","upper","RangeError","keysBetween","BSTNode","left","right","isNil","isLeftChild","hasLeftChild","hasRightChild","isRightChild","adjustParentAndChildrenOfNewNode","oldRoot","NodeType","comparatorResult","currentRoot","successor","nodeSuccessor","swapPropsWithSucccessor","successorChild","prop","rootKey","direction","lowerRootComp","FirstSearch","graph","startingVertex","structure","BFS","visited","currentVertex","currentVertexNeighbors","curNeighbor","vertex","addVertex","addEdge","vertex1","vertex2","weight","v1neighbors","v2neighbors","DFS","isConnected","verticies","firstKey","_BSTNode3","_BST3","BLACK","RED","RBNode","color","isRed","isBlack","leftRotate","oldRight","nodeParent","rightRotate","oldLeft","insertFixRecolor","uncle","currentNode","insertFixRotate1","context","insertFixRotate2","deleteRedSiblingCaseRecolor","sibling","insertFix","nodeToFix","deletefixUp","_this2","insertedNode","didRemove","toLowerCaseString","toLowerCase","pattern","children","currentChar","charAt","recurseTree","trieNode","endOfWord","word","TrieNode","hasChildren","hasOwnProperty","addWord","containsWord","lastChar","containsPrefix","prefix","str","prefixAll","prefixTail","prefixes","removeElement","indexToRemove","findIndex","rotate","times","upperBound","concat","timesToPositiveInt","abs","popMany","pushMany","_len","args","_key","shiftMany","unshiftMany","_len2","_key2","getRand","randomIndex","removeRand","shuffle","arrayLength","flatten","bits","newChunk","find","callback","filterNot","mapIf","test","mapper","mappedElement","_RBTree","foundValues","removeVal","removedValue","indexOfValue","containsEntry","replaceVal","newValue","version","install","FileUpload","Button","window","Vue","use","installed"],"mappings":"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;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;GAAA;;;EAhCY,2BAAA;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACMZ;;;;;;;;;;;;;;;;;;;;GAAA;;;EANY,+BAAA;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AC+BZ;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;GAAA;;;EA/BY,+BAAA;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;ECAZ,IAAMjD,WAAW;EACfuZ,WAAS,QADM;EAEfC,kBAFe;EAGfC,wBAHe;EAIfC;EAJe,CAAjB;;EAOA,IAAI,OAAOC,MAAP,KAAkB,WAAlB,IAAiCA,OAAOC,GAA5C,EAAiD;EAC/CD,SAAOC,GAAP,CAAWC,GAAX,CAAeL,OAAf;EACD;;EAID,SAASA,OAAT,CAAiBI,GAAjB,EAAsB;EACpB,MAAIJ,QAAQM,SAAZ,EAAuB;EACrB;EACD;EACDF,MAAI/X,SAAJ,CAAc4X,WAAWhe,IAAzB,EAA+Bge,UAA/B;EACAG,MAAI/X,SAAJ,CAAc6X,OAAOje,IAArB,EAA2Bie,MAA3B;EACD;;EAED;;;;;;;;"}