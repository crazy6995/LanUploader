/*!
 * Name: lan-uploader
 * Version: 2.8.38
 * Author: northlan
 */
!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?module.exports=t():"function"==typeof define&&define.amd?define(t):e.LanUploader=t()}(this,function(){"use strict";var i=function(t){var n=new XMLHttpRequest;return n.open(t.method||"GET",t.url),n.responseType="json",t.headers&&Object.keys(t.headers).forEach(function(e){n.setRequestHeader(e,t.headers[e])}),n};function e(e){var r,t,n=i(e);return r=n,t=e.body,new Promise(function(e,n){r.onload=function(){if(200<=r.status&&r.status<300){var t;try{t=JSON.parse(r.response)}catch(e){t=r.response}e(t)}else n(r.response)},r.onerror=function(){return n(r.response)},r.send(JSON.stringify(t))})}var t=function(){function r(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(e,t,n){return t&&r(e.prototype,t),n&&r(e,n),e}}();var n=function(){function n(e,t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,n),this.file=e,this.options=t}return t(n,[{key:"createChunks",value:function(){this.chunks=[];for(var e=0,t=this.chunkSize;e<this.fileSize;)this.chunks.push({blob:this.file.file.slice(e,t),startOffset:e,active:!1,retries:this.maxRetries}),t=(e=t)+this.chunkSize}},{key:"updateFileProgress",value:function(){this.file.progress=this.progress}},{key:"pause",value:function(){this.file.active=!1,this.stopChunks()}},{key:"stopChunks",value:function(){this.chunksUploading.forEach(function(e){e.xhr.abort(),e.active=!1})}},{key:"resume",value:function(){this.file.active=!0,this.startChunking()}},{key:"upload",value:function(){var n=this;return this.promise=new Promise(function(e,t){n.resolve=e,n.reject=t}),this.start(),this.promise}},{key:"start",value:function(){var t=this;e({method:"POST",headers:Object.assign({},this.headers,{"Content-Type":"application/json"}),url:this.action,body:Object.assign(this.startBody,{phase:"start",mime_type:this.fileType,size:this.fileSize,name:this.fileName})}).then(function(e){if("success"!==e.status)return t.file.response=e,t.reject("server");t.sessionId=e.data.session_id,t.chunkSize=Number(e.data.end_offset),t.createChunks(),t.startChunking()}).catch(function(e){t.file.response=e,t.reject("server")})}},{key:"startChunking",value:function(){for(var e=0;e<this.maxActiveChunks;e++)this.uploadNextChunk()}},{key:"uploadNextChunk",value:function(){if(this.file.active){if(this.hasChunksToUpload)return this.uploadChunk(this.chunksToUpload[0]);if(0===this.chunksUploading.length)return this.finish()}}},{key:"uploadChunk",value:function(t){var n=this;t.progress=0,t.active=!0,this.updateFileProgress(),t.xhr=i({method:"POST",headers:this.headers,url:this.action}),t.xhr.upload.addEventListener("progress",function(e){e.lengthComputable&&(t.progress=Math.round(e.loaded/e.total*100))},!1),function(r,e){var t=new FormData;for(var n in e)t.append(n,e[n]);return new Promise(function(e,n){r.onload=function(){if(200<=r.status&&r.status<300){var t;try{t=JSON.parse(r.response)}catch(e){t=r.response}e(t)}else n(r.response)},r.onerror=function(){return n(r.response)},r.send(t)})}(t.xhr,Object.assign(this.uploadBody,{phase:"upload",session_id:this.sessionId,start_offset:t.startOffset,chunk:t.blob})).then(function(e){if(t.active=!1,"success"===e.status)t.uploaded=!0;else if(t.retries--<=0)return n.stopChunks(),n.reject("upload");n.uploadNextChunk()}).catch(function(){if(t.active=!1,t.retries--<=0)return n.stopChunks(),n.reject("upload");n.uploadNextChunk()})}},{key:"finish",value:function(){var t=this;this.updateFileProgress(),e({method:"POST",headers:Object.assign({},this.headers,{"Content-Type":"application/json"}),url:this.action,body:Object.assign(this.finishBody,{phase:"finish",session_id:this.sessionId})}).then(function(e){if("success"!==(t.file.response=e).status)return t.reject("server");t.resolve(e)}).catch(function(e){t.file.response=e,t.reject("server")})}},{key:"maxRetries",get:function(){return parseInt(this.options.maxRetries)}},{key:"maxActiveChunks",get:function(){return parseInt(this.options.maxActive)}},{key:"fileType",get:function(){return this.file.type}},{key:"fileSize",get:function(){return this.file.size}},{key:"fileName",get:function(){return this.file.name}},{key:"action",get:function(){return this.options.action||null}},{key:"startBody",get:function(){return this.options.startBody||{}}},{key:"uploadBody",get:function(){return this.options.uploadBody||{}}},{key:"finishBody",get:function(){return this.options.finishBody||{}}},{key:"headers",get:function(){return this.options.headers||{}}},{key:"readyToUpload",get:function(){return!!this.chunks}},{key:"progress",get:function(){var n=this,e=this.chunksUploaded.length/this.chunks.length*100,t=this.chunksUploading.reduce(function(e,t){return e+(0|t.progress)/n.chunks.length},0);return Math.min(e+t,100)}},{key:"chunksToUpload",get:function(){return this.chunks.filter(function(e){return!e.active&&!e.uploaded})}},{key:"hasChunksToUpload",get:function(){return 0<this.chunksToUpload.length}},{key:"chunksUploading",get:function(){return this.chunks.filter(function(e){return!!e.xhr&&!!e.active})}},{key:"chunksUploaded",get:function(){return this.chunks.filter(function(e){return!!e.uploaded})}}]),n}(),r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},o=function(){function r(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(e,t,n){return t&&r(e.prototype,t),n&&r(e,n),e}}();var a=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,n),o(t,[{key:"updateFileProgress",value:function(){this.file.progress=this.progress,this.file.uploader.refreshProgress()}},{key:"createChunks",value:function(){this.chunks=[];for(var e=0,t=this.chunkSize,n=0;e<this.fileSize;)t=(-1===this.filterChunks.indexOf(n)&&this.chunks.push({blob:this.file.file.slice(e,t),startOffset:e,active:!1,retries:this.maxRetries,index:n}),(e=t)+this.chunkSize),n++}},{key:"startBody",get:function(){return r({},this.file.startBody,this.file.data)}},{key:"uploadBody",get:function(){return r({},this.file.uploadBody,this.file.data)}},{key:"finishBody",get:function(){return r({},this.file.finishBody,this.file.data,{size:this.fileSize})}},{key:"filterChunks",get:function(){return this.file.uploadedChunks?this.file.uploadedChunks.join(","):[]}}]),t}();"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self&&self;var s,u,b="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},l=(function(e,t){var n;n=function(){return function(n){var r={};function i(e){if(r[e])return r[e].exports;var t=r[e]={exports:{},id:e,loaded:!1};return n[e].call(t.exports,t,t.exports,i),t.loaded=!0,t.exports}return i.m=n,i.c=r,i.p="",i(0)}([function(e,t,n){t.__esModule=!0,t.MultiMap=t.RBTree=t.Set=t.ArrayUtils=t.Trie=t.Graph=t.BST=t.HashSet=t.HashMap=t.PriorityQueue=t.BHeap=t.Queue=t.Stack=t.List=void 0;var r=m(n(1)),i=m(n(3)),o=m(n(4)),a=m(n(5)),s=m(n(6)),u=m(n(7)),l=m(n(9)),c=m(n(11)),f=m(n(14)),p=m(n(16)),h=m(n(17)),d=m(n(15)),v=m(n(18)),y=m(n(19));function m(e){return e&&e.__esModule?e:{default:e}}t.List=r.default,t.Stack=i.default,t.Queue=o.default,t.BHeap=a.default,t.PriorityQueue=s.default,t.HashMap=u.default,t.HashSet=l.default,t.BST=c.default,t.Graph=f.default,t.Trie=p.default,t.ArrayUtils=h.default,t.Set=v.default,t.RBTree=d.default,t.MultiMap=y.default},function(e,t,n){t.__esModule=!0;var o=n(2);function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e){var t=this.head;if(!(e<0)&&t){for(var n=0;n<e;)if(n+=1,!(t=t.next))return;return t}}var s=function e(t){r(this,e),this.data=t,this.next=null,this.prev=null},i=function(){function i(){r(this,i),this.head=null,this.tail=null,this.length=0}return i.prototype.addToFront=function(e){var t=this.head,n=this.length,r=new s(e);return t?((this.head=r).next=t).prev=r:(this.head=r,this.tail=this.head),this.length=n+1,this},i.prototype.elementAtIndex=function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:0,t=a.call(this,e);return t?t.data:void 0},i.prototype.addToBack=function(e){var t=this.tail,n=this.length,r=new s(e);return t?((this.tail=r).prev=t).next=r:(this.head=r,this.tail=this.head),this.length=n+1,this},i.prototype.removeFront=function(){var e=this.head,t=this.length,n=void 0;if(e){n=e.data,this.length=t-1,this.head=e.next;var r=this.head;r?r.prev=null:(this.tail=null,this.head=this.tail)}return n},i.prototype.removeBack=function(){var e=this.tail,t=this.length,n=void 0;if(e){n=e.data;var r=e.prev;this.length=t-1,r?(r.next=null,this.tail=r):(this.tail=null,this.head=this.tail)}return n},i.prototype.insert=function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:0,t=arguments[1],n=this.length;if(0===e)return this.addToFront(t);if(n<=e)return this.addToBack(t);var r=a.call(this,e-1);if(r){var i=new s(t),o=r.next;(i.next=o).prev=i,(r.next=i).prev=r,this.length=n+1}return this},i.prototype.remove=function(e){var t=this.length,n=void 0;if(0===e)return this.removeFront();if(t-1<=e)return this.removeBack();var r=a.call(this,e-1);if(r){var i=r.next;n=i.data;var o=i.next;(r.next=o).prev=r,this.length=t-1}return n},i.prototype.indexOf=function(e,t){for(var n=t||o.defaultComparator,r=0,i=this.head;i;){if(0===n(e,i.data))return r;i=i.next,r+=1}return-1},i.prototype.contains=function(e,t){return-1!==this.indexOf(e,t)},i.prototype.clear=function(){this.head=null,this.tail=null,this.length=0},i.prototype.size=function(){return this.length},i.prototype.forEach=function(e){for(var t=this.head,n=0;t;)e(t.data,n),t=t.next,n+=1;return this},i.prototype.filter=function(e){for(var t=this.head,n=new i,r=void 0;t;)e(r=t.data)&&n.addToBack(r),t=t.next;return n},i.prototype.every=function(e){for(var t=this.head;t;){if(!e(t.data))return!1;t=t.next}return!0},i.prototype.some=function(e){for(var t=this.head;t;){if(e(t.data))return!0;t=t.next}return!1},i.prototype.toArray=function(){var t=[];return this.forEach(function(e){return t.push(e)}),t},i}();t.default=i},function(e,t){t.__esModule=!0;var n="function"==typeof Symbol&&"symbol"===b(Symbol.iterator)?function(e){return void 0===e?"undefined":b(e)}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":void 0===e?"undefined":b(e)};t.swap=function(e,t,n){var r=e[t];e[t]=e[n],e[n]=r},t.flat=function e(t,n){var r=[];var i=void 0;for(var o=0,a=t.length;o<a;o+=1)i=t[o],Array.isArray(i)?e(i,n):n.push(i);return r},t.toString=function(e){var t=void 0===e?"undefined":n(e);{if("string"===t)return e;if("number"===t||"boolean"===t||"function"===t)return e.toString()}return JSON.stringify(e)},t.defaultComparator=function(e,t){if(e<t)return-1;return e!==t?1:0},t.isNumber=function(e){if("number"!=typeof e||!isFinite(e))throw new TypeError("Argument must be of type number or Number")},t.generateRandomInt=function(e){return Math.floor(Math.random()*e)}},function(e,t,n){t.__esModule=!0;var r,i=n(1),o=(r=i)&&r.__esModule?r:{default:r};var a=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.stack=new o.default}return e.prototype.push=function(e){return this.stack.addToFront(e),this},e.prototype.pop=function(){return this.stack.removeFront()},e.prototype.peek=function(){return this.stack.elementAtIndex(0)},e.prototype.clear=function(){return this.stack.clear()},e.prototype.size=function(){return this.stack.size()},e}();t.default=a},function(e,t,n){t.__esModule=!0;var r,i=n(1),o=(r=i)&&r.__esModule?r:{default:r};var a=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.queue=new o.default}return e.prototype.enqueue=function(e){return this.queue.addToBack(e),this},e.prototype.dequeue=function(){return this.queue.removeFront()},e.prototype.peek=function(){return this.queue.elementAtIndex(0)},e.prototype.clear=function(){return this.queue.clear()},e.prototype.size=function(){return this.queue.size()},e}();t.default=a},function(e,t,n){t.__esModule=!0;var u=n(2);var r=function(){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),this.heap=[null],this.comparator=e||u.defaultComparator}return t.prototype.extractRoot=function(){var e=this.heap,t=this.comparator,n=e[1];return e[1]=e[e.length-1],e.length-=1,function e(t,n,r){var i=2*n,o=2*n+1,a=t.length-1,s=void 0;s=i<=a&&1===r(t[i],t[n])?i:n,o<=a&&1===r(t[o],t[s])&&(s=o),s!==n&&((0,u.swap)(t,n,s),e(t,s,r))}(e,1,t),n},t.prototype.insert=function(e){var t=this.heap,n=this.comparator;return t[t.length]=e,function e(t,n,r){if(1<n){var i=Math.floor(n/2);-1===r(t[i],t[n])&&((0,u.swap)(t,i,n),e(t,i,r))}}(t,t.length-1,n),this},t.prototype.contains=function(e){return-1!==this.toArray().indexOf(e)},t.prototype.peek=function(){return this.heap[1]},t.prototype.toArray=function(){return this.heap.slice(1)},t.prototype.size=function(){return this.heap.length-1},t.prototype.clear=function(){this.heap.length=1},t}();t.default=r},function(e,t,n){t.__esModule=!0;var r,i=n(5),o=(r=i)&&r.__esModule?r:{default:r};function a(e,t){return e.priority<t.priority?1:e.priority===t.priority?0:-1}var s=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.queue=new o.default(a)}return e.prototype.enqueue=function(e,t){return this.queue.insert({data:e,priority:t})},e.prototype.dequeue=function(){return this.queue.extractRoot().data},e.prototype.size=function(){return this.queue.size()},e.prototype.clear=function(){return this.queue.clear()},e}();t.default=s},function(e,t,n){t.__esModule=!0;var r,i=n(8),o=(r=i)&&r.__esModule?r:{default:r};var a=function(){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),this.map=new o.default(e)}return t.prototype.put=function(e,t){return this.map.put(e,t),this},t.prototype.getVal=function(e){return this.map.getVal(e)},t.prototype.clear=function(){return this.map.clear()},t.prototype.remove=function(e){return this.map.remove(e)},t.prototype.keys=function(){return this.map.keys()},t.prototype.values=function(){return this.map.values()},t.prototype.contains=function(e){return this.map.contains(e)},t.prototype.size=function(){return this.map.size()},t}();t.default=a},function(e,t,n){t.__esModule=!0;var a="function"==typeof Symbol&&"symbol"===b(Symbol.iterator)?function(e){return void 0===e?"undefined":b(e)}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":void 0===e?"undefined":b(e)},s=n(2);function u(e){for(var t=[],n=0;n<e;n+=1)t.push([]);return t}function i(e,t){var n,r,i,o=function(e){for(var t=0,n=0,r=e.length;n<r;n+=1)t=31*t+e.charCodeAt(n)|0;return t}((0,s.toString)(e)+(void 0===e?"undefined":a(e)));return n=o,r=t.length,i=n%r,n<0?-1*i:i}function l(e,t,n){return n[i(e,n)].push(e,t)}function r(e,t){for(var n="keys"===e?0:1,r=[],i=t.length,o=0;o<i;o+=1)for(var a=t[o],s=n;s<a.length;s+=2)r.push(a[s]);return r}function c(e,t){for(var n=t[i(e,t)],r=0;r<n.length;r+=2)if(e===n[r])return{bucket:n,index:r};return{bucket:void 0,index:-1}}var o=function(){function t(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:13;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),this.inserts=0,this.table=u(e)}return t.prototype.put=function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:null,t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:null,n=this,r=n.table,i=n.inserts,o=c(e,r),a=o.bucket,s=o.index;return-1===s?(l(e,t,r),n.inserts+=1,.75<=(i+1)/r.length&&n.rehash()):a[s+1]=t,n},t.prototype.getVal=function(e){var t=c(e,this.table),n=t.bucket,r=t.index;return-1!==r?n[r+1]:void 0},t.prototype.remove=function(e){var t=c(e,this.table),n=t.bucket,r=t.index;return-1!==r&&(this.inserts-=1,n.splice(r,2),!0)},t.prototype.contains=function(e){return void 0!==this.getVal(e)},t.prototype.rehash=function(){for(var e=this.table,t=u(2*e.length),n=e.length,r=0;r<n;r+=1)for(var i=e[r],o=0;o<i.length;o+=2){l(i[o],i[o+1],t)}e.length=0,this.table=t},t.prototype.keys=function(){return r("keys",this.table)},t.prototype.values=function(){return r("values",this.table)},t.prototype.tableSize=function(){return this.table.length},t.prototype.clear=function(){this.table.length=0,this.inserts=0,this.table=u(13)},t.prototype.size=function(){return this.inserts},t}();t.default=o},function(e,t,n){t.__esModule=!0;var i=r(n(8));function r(e){return e&&e.__esModule?e:{default:e}}function o(e,t){for(var n=Object.getOwnPropertyNames(t),r=0;r<n.length;r++){var i=n[r],o=Object.getOwnPropertyDescriptor(t,i);o&&o.configurable&&void 0===e[i]&&Object.defineProperty(e,i,o)}return e}var a=function(n){function r(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,r);var t=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==(void 0===t?"undefined":b(t))&&"function"!=typeof t?e:t}(this,n.call(this));return t.set=new i.default(e),t}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+(void 0===t?"undefined":b(t)));e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf,o(e,t))}(r,n),r.prototype.add=function(e){return this.set.put(e,1),this},r.prototype.has=function(e){return this.set.contains(e)},r.prototype.remove=function(e){return this.set.remove(e),this},r.prototype.entries=function(){return this.set.keys()},r.prototype.cardinality=function(){return this.set.size()},r.prototype.union=function(e){return n.prototype.union.call(this,e)},r.prototype.diff=function(e){return n.prototype.diff.call(this,e)},r.prototype.intersect=function(e){return n.prototype.intersect.call(this,e)},r}(r(n(10)).default);t.default=a},function(e,t){t.__esModule=!0;var n=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}return e.prototype.add=function(e){},e.prototype.diff=function(e){for(var t=this.entries(),n=[],r=t.length,i=void 0,o=0;o<r;o+=1)i=t[o],e.has(i)||n.push(i);return n},e.prototype.union=function(e){for(var t=e.entries(),n=this.entries(),r=void 0,i=t.length,o=0;o<i;o+=1)r=t[o],this.has(r)||n.push(r);return n},e.prototype.has=function(e){},e.prototype.entries=function(){},e.prototype.remove=function(e){},e.prototype.intersect=function(e){for(var t=void 0,n=void 0,r=[],i=(n=this.cardinality()>e.cardinality()?(t=this,e.entries()):(t=e,this.entries())).length,o=void 0,a=0;a<i;a+=1)o=n[a],t.has(o)&&r.push(o);return r},e.prototype.cardinality=function(){},e}();t.default=n},function(e,t,n){t.__esModule=!0;var r,i=n(12),o=(r=i)&&r.__esModule?r:{default:r},a=n(13),s=n(2);var u=function(){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),this.root=new o.default,this.comparator=e||s.defaultComparator,this.inserts=0}return t.prototype.put=function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:null,t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:null;return a.BSTInsert.call(this,e,t,o.default)&&(this.inserts+=1),this},t.prototype.remove=function(e){return!!a.BSTRemove.call(this,e)&&(this.inserts-=1,!0)},t.prototype.getVal=function(e){var t=a.BSTSearch.call(this,this.root,e);return t?t.value:void 0},t.prototype.contains=function(e){return void 0!==this.getVal(e)},t.prototype.inorder=function(){var e=[];return(0,a.BSTInorder)(this.root,e),e},t.prototype.min=function(){return(0,a.minOrMax)("min",this.root)},t.prototype.max=function(){return(0,a.minOrMax)("max",this.root)},t.prototype.keysLess=function(e){var t=[];return(0,a.less)(this.root,e,this.comparator,t),t},t.prototype.keysGreater=function(e){var t=[];return(0,a.greater)(this.root,e,this.comparator,t),t},t.prototype.clear=function(){this.root=null,this.inserts=0},t.prototype.size=function(){return this.inserts},t.prototype.keys=function(){var e=[];return(0,a.getKeysOrValues)(this.root,"key",e),e},t.prototype.values=function(){var e=[];return(0,a.getKeysOrValues)(this.root,"value",e),e},t.prototype.keyRange=function(e,t){if(void 0===e||void 0===t)throw new TypeError("Both a lower and upper bound are required");if(-1!==this.comparator(e,t))throw new RangeError("Lower bound must be strictly less than upper bound");var n=[];return(0,a.keysBetween)(this.root,e,t,this.comparator,n),n},t}();t.default=u},function(e,t){t.__esModule=!0;var n=function(){function n(e,t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,n),this.parent=null,this.left=null,this.right=null,this.key=e,this.value=t}return n.prototype.isNil=function(){return void 0===this.key},n.prototype.isLeftChild=function(){return this.parent.left===this},n.prototype.hasLeftChild=function(){return void 0!==this.left.key},n.prototype.hasRightChild=function(){return void 0!==this.right.key},n.prototype.isRightChild=function(){return this.parent.right===this},n}();t.default=n},function(e,t){function a(e,t){for(var n=e,r=this.comparator;!n.isNil();){var i=r(n.key,t);if(0===i)return n;n=-1===i?n.right:n.left}}t.__esModule=!0,t.BSTInsert=function(e,t,n){var r=this.comparator,i=this.root,o=new n(e,t),a=new n;for(;!i.isNil();){var s=r(o.key,i.key);if(a=i,-1===s)i=i.left;else{if(1!==s)return void(i.value=t);i=i.right}}return function(e,t,n,r){(e.parent=t).isNil()?this.root=e:-1===n(e.key,t.key)?t.left=e:t.right=e,e.left=new r,e.right=new r}.call(this,o,a,r,n),o},t.BSTSearch=a,t.BSTRemove=function(e){var t=a.call(this,this.root,e);if(!t)return!1;var n=void 0,r=void 0;n=t.hasLeftChild()&&t.hasRightChild()?function(e){var t=e.right;for(;t.hasLeftChild();)t=t.left;return t}(t):t;r=n.hasLeftChild()?n.left:n.right;r.parent=n.parent,n.parent.isNil()?this.root=r:n.isLeftChild()?n.parent.left=r:n.parent.right=r;return i=n,o=t,i!==o&&(o.key=i.key,o.value=i.value),{successorChild:r,nodeSuccessor:n};var i,o},t.BSTInorder=function e(t,n){t&&!t.isNil()&&(e(t.left,n),n.push(t),e(t.right,n))},t.getKeysOrValues=function e(t,n,r){t&&!t.isNil()&&(e(t.left,n,r),r.push(t[n]),e(t.right,n,r))},t.less=function e(t,n,r,i){if(!t||t.isNil())return;var o=t.key;var a=r(o,n);if(-1===a)return i.push(o),e(t.left,n,r,i),e(t.right,n,r,i);return e(t.left,n,r,i)},t.greater=function e(t,n,r,i){if(!t||t.isNil())return;var o=t.key;var a=r(o,n);if(1===a)return i.push(o),e(t.left,n,r,i),e(t.right,n,r,i);return e(t.right,n,r,i)},t.minOrMax=function(e,t){var n=t,r="min"===e?"left":"right";if(n.isNil())return;for(;void 0!==n[r].key;)n=n[r];return n.key},t.keysBetween=function e(t,n,r,i,o){if(!t||t.isNil())return;var a=t.key;var s=i(n,a);if(0<=s)return 0===s&&o.push(a),e(t.right,n,r,i,o);i(a,r)<=0&&o.push(a);e(t.left,n,r,i,o);return e(t.right,n,r,i,o)}},function(e,t,n){t.__esModule=!0;var p=i(n(4)),h=i(n(3)),r=i(n(15)),d=i(n(9));function i(e){return e&&e.__esModule?e:{default:e}}function o(e,t,n,r){var i=r?p.default.prototype.enqueue.bind(n):h.default.prototype.push.bind(n),o=r?p.default.prototype.dequeue.bind(n):h.default.prototype.pop.bind(n),a=[],s=new d.default(e.size());for(i(t);0!==n.size();){var u=o();if(!s.has(u)){s.add(u),a.push(u);for(var l=e.getVal(u).length,c=0;c<l;c+=1){var f=e.getVal(u)[c].vertex;s.has(f)||i(f)}}}return a}var a=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.graph=new r.default}return e.prototype.addVertex=function(e){var t=this.graph;t.contains(e)||t.put(e,[])},e.prototype.addEdge=function(e,t,n){var r=this.graph,i=r.getVal(e),o=r.getVal(t);i&&o&&-1===i.indexOf(t)&&-1===o.indexOf(t)&&(i.push({vertex:t,weight:n}),o.push({vertex:e,weight:n}))},e.prototype.BFS=function(e){var t=this.graph;return t.contains(e)?o(t,e,new p.default,!0):[]},e.prototype.DFS=function(e){var t=this.graph;return t.contains(e)?o(t,e,new h.default,!1):[]},e.prototype.isConnected=function(){var e=this.graph.keys(),t=e[0];return this.BFS(t).length===e.length},e}();t.default=a},function(e,t,n){t.__esModule=!0;var r=a(n(12)),i=n(13),o=a(n(11));function a(e){return e&&e.__esModule?e:{default:e}}function s(e,t){for(var n=Object.getOwnPropertyNames(t),r=0;r<n.length;r++){var i=n[r],o=Object.getOwnPropertyDescriptor(t,i);o&&o.configurable&&void 0===e[i]&&Object.defineProperty(e,i,o)}return e}function u(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function l(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==(void 0===t?"undefined":b(t))&&"function"!=typeof t?e:t}function c(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+(void 0===t?"undefined":b(t)));e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf,s(e,t))}var f="black",p="red",h=function(r){function i(e,t){u(this,i);var n=l(this,r.call(this,e,t));return n.color=f,n}return c(i,r),i.prototype.isRed=function(){return this.color===p},i.prototype.isBlack=function(){return this.color===f},i}(r.default);function d(e){var t=e.right,n=e.parent;e.right=t.left,t.left.parent=e,(t.parent=n).isNil()?this.root=t:e.isLeftChild()?n.left=t:n.right=t,(t.left=e).parent=t}function v(e){var t=e.left,n=e.parent;e.left=t.right,t.right.parent=e,(t.parent=n).isNil()?this.root=t:e.isLeftChild()?n.left=t:n.right=t,(t.right=e).parent=t}function y(e,t){t.parent.color=f,e.color=f,t.parent.parent.color=p}function m(e,t){t.color=f,e.parent.color=p}var g=function(n){function r(e){u(this,r);var t=l(this,n.call(this,e));return t.root=new h,t}return c(r,n),r.prototype.put=function(e,t){var n=i.BSTInsert.call(this,e,t,h);return n&&(n.color=p,function(e){for(var t,n,r,i,o=e,a=void 0;o.parent.isRed();)o.parent.isLeftChild()?(a=o.parent.parent.right).isRed()?(y(a,o),o=o.parent.parent):(r=this,i=void 0,(i=o).isRightChild()&&(i=i.parent,d.call(r,i)),i.parent.color=f,i.parent.parent.color=p,v.call(r,i.parent.parent)):(a=o.parent.parent.left).isRed()?(y(a,o),o=o.parent.parent):(t=this,n=void 0,(n=o).isLeftChild()&&(n=n.parent,v.call(t,n)),n.parent.color=f,n.parent.parent.color=p,d.call(t,n.parent.parent));this.root.color=f}.call(this,n),this.inserts+=1),this},r.prototype.remove=function(e){var t=i.BSTRemove.call(this,e);if(t){var n=t.successorChild;return t.nodeSuccessor.isBlack()&&function(e){for(var t=e,n=this;!t.parent.isNil()&&t.isBlack();){var r=void 0;t=t.isLeftChild()?((r=t.parent.right).isRed()&&(m(t,r),d.call(n,t.parent),r=t.parent.right),r.left.isBlack()&&r.right.isBlack()?(r.color=p,t.parent):(r.right.isBlack()&&(r.left.color=f,r.color=p,v.call(n,r),r=t.parent.right),r.color=t.parent.color,t.parent.color=f,r.right.color=f,d.call(n,t.parent),n.root)):((r=t.parent.left).isRed()&&(m(t,r),v.call(n,t.parent),r=t.parent.left),r.right.isBlack()&&r.left.isBlack()?(r.color=p,t.parent):(r.left.isBlack()&&(r.right.color=f,r.color=p,d.call(n,r),r=t.parent.left),r.color=t.parent.color,t.parent.color=f,r.left.color=f,v.call(n,t.parent),n.root))}t.color=f}.call(this,n),this.inserts-=1,!0}return!1},r}(o.default);t.default=g},function(e,t,n){t.__esModule=!0;var r=n(2);function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e){return(0,r.toString)(e).toLowerCase()}function a(e,t){if(0===t.length)return!1;for(var n=e.children,r=void 0,i=0;i<t.length-1;i+=1){if(!n[r=t.charAt(i)])return!1;n=n[r].children}return n}var s=function(){function e(){i(this,e),this.children={},this.endOfWord=!1,this.word=null}return e.prototype.hasChildren=function(){var e=this.children;for(var t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!0;return!1},e}(),u=function(){function e(){i(this,e),this.root=new s}return e.prototype.addWord=function(){for(var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:"",t=this.root.children,n=o(e),r=void 0,i=0;i<n.length;i+=1)t[r=n.charAt(i)]||(t[r]=new s),i===n.length-1&&(t[r].endOfWord=!0,t[r].word=n),t=t[r].children},e.prototype.containsWord=function(){var e=o(0<arguments.length&&void 0!==arguments[0]?arguments[0]:""),t=a(this.root,e);if(t){var n=e.charAt(e.length-1);if(t[n]&&t[n].word===e)return!0}return!1},e.prototype.containsPrefix=function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:"",t=this.root,n=o(e),r=a(t,n);if(r){var i=n.charAt(n.length-1);if(r[i])return r[i].hasChildren()}return!1},e.prototype.prefixAll=function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:"";if(!this.containsPrefix(e))return[];var t=o(e),n=[];return function e(t,n){if(t)for(var r=Object.keys(t),i=0;i<r.length;i+=1){var o=t[r[i]];o.endOfWord&&n.push(o.word),e(o.children,n)}}(a(this.root,t)[t.charAt(t.length-1)].children,n),n},e}();t.default=u},function(e,t,n){t.__esModule=!0;var i=n(2);var r=function(){function r(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,r)}return r.remove=function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:[],t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:0;return 0<=t?e.splice(t,1):[]},r.removeElement=function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:[],t=arguments[1],n=r.findIndex(e,t);return r.remove(e,n)},r.rotate=function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:[],t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:0,n=e.length;if(0<t){var r=n-t;return e.slice(r).concat(e.slice(0,r))}var i=Math.abs(t);return e.slice(i).concat(e.slice(0,i))},r.popMany=function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:[],t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:0,n=e.length-t;return 0<n?e.slice(0,n):[]},r.pushMany=function(){for(var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length,n=Array(1<t?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return e.concat(n)},r.shiftMany=function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:[],t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:0;return 0<t?e.slice(t):e},r.unshiftMany=function(){for(var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length,n=Array(1<t?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return n.concat(e)},r.getRand=function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:[];return e[(0,i.generateRandomInt)(e.length)]},r.removeRand=function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:[],t=(0,i.generateRandomInt)(e.length);return r.remove(e,t)},r.shuffle=function(){for(var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:[],t=e.length-1;0<t;t-=1){var n=(0,i.generateRandomInt)(t+1);(0,i.swap)(e,n,t)}},r.flatten=function(e){var t=[];return(0,i.flat)(e,t),t},r.chunk=function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:[],t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:0,n=[];if(t<=0)return n;for(var r=0,i=e.length;r<i;r+=t){var o=e.slice(r,r+t);n.push(o)}return n},r.find=function(e,t){for(var n=e.length,r=0;r<n;){var i=e[r];if(t(i,r))return i;r+=1}},r.findIndex=function(e,t){for(var n=e.length,r=0;r<n;){if(t(e[r],r))return r;r+=1}return-1},r.filterNot=function(e,t){for(var n=e.length,r=[],i=0;i<n;){var o=e[i];t(o,i)||r.push(o),i+=1}return r},r.mapIf=function(e,t,n){for(var r=e.length,i=0,o=[];i<r;){var a=e[i];if(t(a,i)){var s=n(a,i);o.push(s)}i+=1}return o},r}();t.default=r},function(e,t,n){t.__esModule=!0;var r=o(n(10)),i=o(n(15));function o(e){return e&&e.__esModule?e:{default:e}}function a(e,t){for(var n=Object.getOwnPropertyNames(t),r=0;r<n.length;r++){var i=n[r],o=Object.getOwnPropertyDescriptor(t,i);o&&o.configurable&&void 0===e[i]&&Object.defineProperty(e,i,o)}return e}var s=function(n){function r(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,r);var t=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==(void 0===t?"undefined":b(t))&&"function"!=typeof t?e:t}(this,n.call(this));return t.set=new i.default(e),t}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+(void 0===t?"undefined":b(t)));e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf,a(e,t))}(r,n),r.prototype.add=function(e){return this.set.put(e,1),this},r.prototype.has=function(e){return this.set.contains(e)},r.prototype.remove=function(e){return this.set.remove(e)},r.prototype.entries=function(){return this.set.keys()},r.prototype.cardinality=function(){return this.set.size()},r.prototype.min=function(){return this.map.min()},r.prototype.max=function(){return this.map.max()},r.prototype.union=function(e){return n.prototype.union.call(this,e)},r.prototype.intersect=function(e){return n.prototype.intersect.call(this,e)},r.prototype.diff=function(e){return n.prototype.diff.call(this,e)},r}(r.default);t.default=s},function(e,t,n){t.__esModule=!0;var r,i=n(15);function a(e,t){for(var n=Object.getOwnPropertyNames(t),r=0;r<n.length;r++){var i=n[r],o=Object.getOwnPropertyDescriptor(t,i);o&&o.configurable&&void 0===e[i]&&Object.defineProperty(e,i,o)}return e}var o=function(o){function t(e){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==(void 0===t?"undefined":b(t))&&"function"!=typeof t?e:t}(this,o.call(this,e))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+(void 0===t?"undefined":b(t)));e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf,a(e,t))}(t,o),t.prototype.put=function(e,t){var n=o.prototype.getVal.call(this,e);return n?-1===n.indexOf(t)&&n.push(t):o.prototype.put.call(this,e,[t]),this},t.prototype.removeVal=function(e,t){var n=o.prototype.getVal.call(this,e),r=[];if(n&&0<n.length){var i=n.indexOf(t);-1!==i&&(r=n.splice(i,1))}return r},t.prototype.containsEntry=function(e,t){var n=o.prototype.getVal.call(this,e);return!!(n&&0<n.length)&&-1!==n.indexOf(t)},t.prototype.replaceVal=function(e,t,n){var r=o.prototype.getVal.call(this,e);if(r&&0<r.length){var i=r.indexOf(t);if(-1!==i)return r.splice(i,1,n)}return[]},t}(((r=i)&&r.__esModule?r:{default:r}).default);t.default=o}])},e.exports=n()}(s={exports:{}},s.exports),s.exports),c=(u=l)&&u.__esModule&&Object.prototype.hasOwnProperty.call(u,"default")?u.default:u,v=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},h="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};function f(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}function y(e){return function(){var s=e.apply(this,arguments);return new Promise(function(o,a){return function t(e,n){try{var r=s[e](n),i=r.value}catch(e){return void a(e)}if(!r.done)return Promise.resolve(i).then(function(e){t("next",e)},function(e){t("throw",e)});o(i)}("next")})}}var p={headers:{},action:"",minSize:1048576,maxActive:3,maxRetries:5,handler:a},m="add",d="update",g="remove";var k=function(e,t,n,r,i,o,a,s){var u=("function"==typeof n?n.options:n)||{};u.__file="FileUpload.vue",u.render||(u.render=e.render,u.staticRenderFns=e.staticRenderFns,u._compiled=!0,i&&(u.functional=!0)),u._scopeId=r;var l=void 0;if(t&&(l=function(e){t.call(this,a(e))}),void 0!==l)if(u.functional){var c=u.render;u.render=function(e,t){return l.call(t),c(e,t)}}else{var f=u.beforeCreate;u.beforeCreate=f?[].concat(f,l):[l]}return u}({render:function(){var e=this.$createElement;return(this._self._c||e)("span",{staticClass:"file-uploads"})},staticRenderFns:[]},function(e){e&&e("data-v-03c48e60_0",{source:"\n.file-uploads{position:relative;text-align:center;display:none\n}",map:void 0,media:void 0})},{name:"lan-uploader",props:{name:{type:String,default:"file"},multiple:{type:Boolean,default:!1},maximum:{type:Number,default:function(){return this.multiple?0:1}},addIndex:{type:[Boolean,Number]},postAction:{type:String},putAction:{type:String},customAction:{type:Function},checkAction:{type:String},db:{type:Boolean,default:!1},headers:{type:Object,default:Object},data:{type:Object,default:Object},timeout:{type:Number,default:0},drop:{default:!1},dropDirectory:{type:Boolean,default:!0},size:{type:Number,default:0},extensions:{default:Array},value:{type:Array,default:Array},thread:{type:Number,default:1},chunkEnabled:{type:Boolean,default:!1},chunk:{type:Object,default:function(){return p}},autoUpload:{type:Boolean,default:!1},evtOnChangeValue:{type:Boolean,default:!0}},data:function(){return{files:this.value,features:{html5:!0,directory:!1,drag:!1},needUploadFileIdSet:new c.HashSet,uploadSuccessFileMap:new c.HashMap,uploadFailFileMap:new c.HashMap,active:!1,dropActive:!1,uploading:0,destroy:!1,progress:0}},mounted:function(){var e=document.createElement("input");if(e.type="file",e.multiple=!0,window.FormData&&e.files?("boolean"!=typeof e.webkitdirectory&&"boolean"!=typeof e.directory||(this.features.directory=!0),this.features.html5&&void 0!==e.ondrop&&(this.features.drop=!0)):this.features.html5=!1,this.maps={},this.files)for(var t=0;t<this.files.length;t++){var n=this.files[t];this.maps[n.id]=n}this.$nextTick(function(){this.$parent&&this.$parent.$forceUpdate(),this.watchDrop(this.drop)})},beforeDestroy:function(){this.destroy=!0,this.active=!1},computed:{uploaded:function(){for(var e=void 0,t=0;t<this.files.length;t++)if((e=this.files[t]).fileObject&&!e.error&&!e.success)return!1;return!0},chunkOptions:function(){return Object.assign(p,this.chunk)}},watch:{active:function(e){this.watchActive(e)},dropActive:function(){this.$parent&&this.$parent.$forceUpdate()},drop:function(e){this.watchDrop(e)},value:function(e){if(this.files!==e){this.files=e;var t=this.maps;this.maps={};for(var n=0;n<this.files.length;n++){var r=this.files[n];this.maps[r.id]=r}if(this.evtOnChangeValue){for(var i in this.maps){var o=this.maps[i],a=t[i];o!==a&&(o&&a?this.emitFile(o,a,d):o&&!a&&this.emitFile(o,a,m))}for(var s in t)this.maps[s]||this.emitFile(void 0,t[s],g)}}}},methods:{clear:function(){var e=!(0<arguments.length&&void 0!==arguments[0])||arguments[0];if(this.files.length){var t=this.files;if(this.files=[],this.maps={},this.emitInput(),e)for(var n=0;n<t.length;n++)this.emitFile(void 0,t[n],g)}return!0},get:function(e){return!!e&&("object"===(void 0===e?"undefined":h(e))?this.maps[e.id]||!1:this.maps[e]||!1)},add:function(p){var h=this,d=1<arguments.length&&void 0!==arguments[1]?arguments[1]:this.addIndex;return y(regeneratorRuntime.mark(function e(){var t,n,r,i,o,a,s,u,l,c,f;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:(n=(t=p)instanceof Array)||(t=[t]),r=[],i=0;case 5:if(!(i<t.length)){e.next=24;break}if(o=t[i],h.features.html5&&o instanceof Blob&&(a="",o.webkitRelativePath&&(a=o.webkitRelativePath.replace(o.name,"")),o.relativePath&&(a=o.relativePath.replace(o.name,"")),o={file:o,size:o.size,relativePath:a,name:o.name||"",type:o.type}),(s=!1)===o.fileObject||(o.fileObject?s=!0:"undefined"!=typeof Element&&o.el instanceof Element?s=!0:"undefined"!=typeof Blob&&o.file instanceof Blob&&(s=!0)),s&&((o=v({fileObject:!0,size:-1,name:"Filename",relativePath:"",type:"",active:!1,error:"",success:!1,putAction:h.putAction,postAction:h.postAction,timeout:h.timeout},o,{response:{},uploader:h,progress:"0.00",speed:0})).id||(o.id=Math.random().toString(36).substr(2)),o.data=v({},h.data,o.data?o.data:{},{id:o.id,db:h.db,name:o.name,relativePath:o.relativePath,lastModified:o.file.lastModified}),o.headers=v({},h.headers,o.headers?o.headers:{})),h.emitFilter(o,void 0,m))return e.abrupt("continue",21);e.next=15;break;case 15:h.needUploadFileIdSet.add(o.id);case 16:if(1<h.maximum&&r.length+h.files.length>=h.maximum)return e.abrupt("break",24);e.next=18;break;case 18:if(r.push(o),1===h.maximum)return e.abrupt("break",24);e.next=21;break;case 21:i++,e.next=5;break;case 24:if(r.length){e.next=26;break}return e.abrupt("return",!1);case 26:for(1===h.maximum&&h.clear(),!(u=void 0)===d||0===d?u=r.concat(h.files):d?(u=h.files.concat([]),(l=u).splice.apply(l,[d,0].concat(r))):u=h.files.concat(r),h.files=u,c=0;c<r.length;c++)f=r[c],h.maps[f.id]=f;return h.emitInput(),h.emitAllIn(),e.abrupt("return",n?r:r[0]);case 34:case"end":return e.stop()}},e,h)}))()},addInputFile:function(e){var t=[];if(e.files)for(var n=0;n<e.files.length;n++){var r=e.files[n],i="";r.webkitRelativePath&&(i=r.webkitRelativePath.replace(r.name,"")),r.relativePath&&(i=r.relativePath.replace(r.name,"")),t.push({size:r.size,relativePath:i,name:r.name||"",type:r.type,file:r})}else{var o=e.value.replace(/\\/g,"/").split("/");delete e.__vuex__,t.push({name:o[o.length-1],el:e})}return this.add(t)},addDataTransfer:function(e){var i=this,o=[];if(e.items&&e.items.length){for(var a=[],t=0;t<e.items.length;t++){var n=e.items[t];(n=n.getAsEntry?n.getAsEntry()||n.getAsFile():n.webkitGetAsEntry&&n.webkitGetAsEntry()||n.getAsFile())&&a.push(n)}return new Promise(function(r,e){!function t(n){var e=a[n];(!e||0<i.maximum&&o.length>=i.maximum)&&i.add(o).then(function(e){return r(e)}),i.getEntry(e).then(function(e){o.push.apply(o,f(e)),t(n+1)})}(0)})}if(e.files.length){for(var r=0;r<e.files.length&&(o.push(e.files[r]),!(0<this.maximum&&o.length>=this.maximum));r++);return this.add(o)}return Promise.resolve([])},getEntry:function(a){var s=this,u=1<arguments.length&&void 0!==arguments[1]?arguments[1]:"";return new Promise(function(i,e){if(a.isFile)a.file(function(e){i([{size:e.size,relativePath:u,name:e.name||"",type:e.type,file:e}])});else if(a.isDirectory&&s.dropDirectory){var o=[],t=a.createReader();!function r(){t.readEntries(function(e){!function t(n){return!e[n]&&0===n||0<s.maximum&&o.length>=s.maximum?i(o):e[n]?void s.getEntry(e[n],u+a.name+"/").then(function(e){o.push.apply(o,f(e)),t(n+1)}):r()}(0)})}()}else i([])})},replace:function(e,t){var n=this.get(e),r=this.get(t);if(!n||!r||n===r)return!1;var i=this.files.concat([]),o=i.indexOf(n),a=i.indexOf(r);return-1!==o&&-1!==a&&(i[o]=r,i[a]=n,this.files=i,this.emitInput(),!0)},remove:function(e){var t=!(1<arguments.length&&void 0!==arguments[1])||arguments[1],n=this.get(e);if(n){if(t&&this.emitFilter(void 0,n,g))return!1;this.needUploadFileIdSet.remove(n.id);var r=this.files.concat([]),i=r.indexOf(n);if(-1===i)return console.error("remove",n),!1;r.splice(i,1),this.files=r,delete this.maps[n.id],this.emitInput(),t&&this.emitFile(void 0,n,g)}return n},update:function(e,t){var n=!(2<arguments.length&&void 0!==arguments[2])||arguments[2];console.log("更新进度条",this.progress),this.refreshProgress(),console.log("ok: ",this.progress);var r=this.get(e);if(r){var i=v({},r,t);if(!r.fileObject||!r.active||i.active||i.error||i.success||(i.error="abort"),n&&this.emitFilter(i,r,d))return!1;var o=this.files.concat([]),a=o.indexOf(r);return-1===a?(console.error("update",r),!1):(o.splice(a,1,i),this.files=o,delete this.maps[r.id],this.maps[i.id]=i,this.emitInput(),n&&(i.success&&!r.success&&t.success&&this.emitFileSuccess(i),i.error&&t.error&&this.emitFileError(i),this.uploadSuccessFileMap.size()+this.uploadFailFileMap.size()===this.needUploadFileIdSet.cardinality()&&this.emitAlldone(),this.emitFile(i,r,d)),i)}return!1},refreshProgress:function(){for(var e=0,t=void 0,n=0,r=this.files.length;n<r;++n)t=this.files[n],this.needUploadFileIdSet.has(t.id)&&(e+=Number(t.progress));var i=this.needUploadFileIdSet.cardinality();console.log("allNumber",i),console.log("allProgress",e),this.progress=0===i?0:e/i},emitFilter:function(e,t,n){var r=!1;return this.$emit("input-filter",e,t,function(){return r=!0},n),r},emitFile:function(n,e,t){this.$emit("input-file",n,e,t),!(n&&n.fileObject&&n.active)||e&&e.active?n&&n.fileObject&&n.active||!e||!e.fileObject||!e.active||this.uploading--:(this.uploading++,this.$nextTick(function(){var t=this;setTimeout(function(){t.upload(n).then(function(){(n=t.get(n))&&n.fileObject&&t.update(n,{active:!1,success:!n.error})}).catch(function(e){t.update(n,{active:!1,success:!1,error:e.code||e.error||e.message||e})})},parseInt(50*Math.random()+50,10))})),!this.active||Boolean(n)===Boolean(e)&&n.active===e.active||this.watchActive(!0)},emitInput:function(){this.$emit("input",this.files)},emitAllIn:function(){this.$emit("all-in",this.files),!this.active&&this.autoUpload&&(this.active=!0)},emitFileSuccess:function(e){this.$emit("file-success",e),this.uploadSuccessFileMap.put(e.id,e)},emitFileError:function(e){this.$emit("file-error",e),this.uploadFailFileMap.put(e.id,e)},emitAlldone:function(){this.$emit("all-done",this.uploadSuccessFileMap.values(),this.uploadFailFileMap.values()),this.needUploadFileIdSet=new c.HashSet,this.uploadSuccessFileMap.clear(),this.uploadFailFileMap.clear()},md5Action:function(e){return new Promise(function(t,n){var c;(c=e,new Promise(function(t,n){var r=new(require("spark-md5").ArrayBuffer),i=new FileReader,o=File.prototype.slice||File.prototype.mozSlice||File.prototype.webkitSlice,a=Math.ceil(c.size/64),s=Math.ceil(a/2),u=0;i.onload=function(e){if(r.append(e.target.result),1===a)return t(r.end());if(2===a){if(u===a-1)return t(r.end());u=a-1}else{if(u===a-1)return t(r.end());u=u===s?a-1:s}l()},i.onerror=function(e){return n(e)};var l=function(){var e=64*u,t=e+64>=c.size?c.size:e+64;i.readAsArrayBuffer(o.call(c,e,t))};l()})).then(function(e){t(e)}).catch(function(e){n(e)})})},check:function(e){var a=this,s=this.get(e),t=[],n=void 0;for(var r in s.data)null!=(n=s.data[r])&&t.push(encodeURIComponent(r)+"="+encodeURIComponent(n));var i=t.length?(-1===this.checkAction.indexOf("?")?"?":"&")+t.join("&"):"",u=new XMLHttpRequest;return u.open("GET",this.checkAction+i),new Promise(function(r,i){var o=void 0,e=function(e){if(!o){if(o=!0,!(s=a.get(s)))return i("not_exists");if(!s.fileObject)return i("file_object");if(s.error)return i(s.error);if(!s.active)return i("abort");if(s.success)return r({status:"success"});var t={};switch(e.type){case"timeout":case"abort":t.error=e.type;break;case"error":u.status?500<=u.status?t.error="server":400<=u.status&&(t.error="denied"):t.error="network";break;default:500<=u.status?t.error="server":400<=u.status?t.error="denied":t.progress=100}if(u.responseText){var n=u.getResponseHeader("Content-Type");n&&-1!==n.indexOf("/json")?t.response=JSON.parse(u.responseText):t.response=u.responseText}return s.error?i(s.error):r(t)}};for(var t in u.onload=e,u.onerror=e,u.onabort=e,u.ontimeout=e,s.timeout&&(u.timeout=s.timeout),s.headers)u.setRequestHeader(t,s.headers[t]);u.send()})},upload:function(f){var p=this;return y(regeneratorRuntime.mark(function e(){var t,n,r,i,o,a,s,u,l,c;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(t=p.get(f)){e.next=3;break}throw new Error("not_exists");case 3:if(t.fileObject){e.next=5;break}throw new Error("file_object");case 5:if(t.error)throw new Error(t.error);e.next=7;break;case 7:if(t.success)return e.abrupt("return",t);e.next=9;break;case 9:if(!(n=p.extensions)||!n.length&&void 0!==n.length){e.next=14;break}if("object"===(void 0===n?"undefined":h(n))&&n instanceof RegExp||("string"==typeof n&&(n=n.split(",").map(function(e){return e.trim()}).filter(function(e){return e})),n=new RegExp("\\.("+n.join("|").replace(/\./g,"\\.")+")$","i")),-1===t.name.search(n))throw new Error("extension");e.next=14;break;case 14:if(0<p.size&&0<=t.size&&t.size>p.size)throw new Error("size");e.next=16;break;case 16:return e.prev=16,e.next=19,p.md5Action(t.file);case 19:r=e.sent,t.data=v({},t.data,{md5:r}),e.next=26;break;case 23:throw e.prev=23,e.t0=e.catch(16),new Error("md5");case 26:if(p.checkAction)return e.prev=27,e.next=30,p.check(t);e.next=45;break;case 30:if(i=e.sent,"success"===(o=i.response).status)return p.update(t,i),e.abrupt("return",!0);e.next=37;break;case 37:"chunks"===o.status?t.uploadedChunks=o.chunks:"upload"===o.status&&(t.data=v({},t.data,{pass_through:o.pass_through}),t.finishBody={pass_through:o.pass_through});case 38:e.next=45;break;case 40:if(e.prev=40,e.t1=e.catch(27),"abort"===e.t1)throw new Error("abort");e.next=44;break;case 44:throw new Error("check");case 45:if(p.customAction)return e.prev=46,e.next=49,p.customAction(t,p);e.next=56;break;case 49:return a=e.sent,e.abrupt("return",a);case 53:throw e.prev=53,e.t2=e.catch(46),e.t2;case 56:if(!p.features.html5){e.next=90;break}if(p.shouldUseChunkUpload(t))return e.prev=58,e.next=61,p.uploadChunk(t);e.next=68;break;case 61:return s=e.sent,e.abrupt("return",s);case 65:throw e.prev=65,e.t3=e.catch(58),e.t3;case 68:if(t.putAction)return e.prev=69,e.next=72,p.uploadPut(t);e.next=79;break;case 72:return u=e.sent,e.abrupt("return",u);case 76:throw e.prev=76,e.t4=e.catch(69),e.t4;case 79:if(t.postAction)return e.prev=80,e.next=83,p.uploadHtml5(t);e.next=90;break;case 83:return l=e.sent,e.abrupt("return",l);case 87:throw e.prev=87,e.t5=e.catch(80),e.t5;case 90:if(t.postAction)return e.prev=91,e.next=94,p.uploadHtml4(t);e.next=101;break;case 94:return c=e.sent,e.abrupt("return",c);case 98:throw e.prev=98,e.t6=e.catch(91),e.t6;case 101:throw new Error("No action configured");case 102:case"end":return e.stop()}},e,p,[[16,23],[27,40],[46,53],[58,65],[69,76],[80,87],[91,98]])}))()},shouldUseChunkUpload:function(e){return this.chunkEnabled&&!!this.chunkOptions.handler&&e.size>this.chunkOptions.minSize},uploadChunk:function(e){var t=this.chunkOptions.handler;return e.chunk=new t(e,this.chunkOptions),e.chunk.upload()},uploadPut:function(e){var t=[],n=void 0;for(var r in e.data)null!=(n=e.data[r])&&t.push(encodeURIComponent(r)+"="+encodeURIComponent(n));var i=t.length?(-1===e.putAction.indexOf("?")?"?":"&")+t.join("&"):"",o=new XMLHttpRequest;return o.open("PUT",e.putAction+i),this.uploadXhr(o,e,e.file)},uploadHtml5:function(e){var t=new window.FormData,n=void 0;for(var r in e.data)(n=e.data[r])&&"object"===(void 0===n?"undefined":h(n))&&"function"!=typeof n.toString?n instanceof File?t.append(r,n,n.name):t.append(r,JSON.stringify(n)):null!=n&&t.append(r,n);t.append(this.name,e.file,e.file.filename||e.name);var i=new XMLHttpRequest;return i.open("POST",e.postAction),this.uploadXhr(i,e,t)},uploadXhr:function(a,e,n){var s=this,u=e,r=0,i=0;a.upload.onprogress=function(e){if(u=s.get(u),e.lengthComputable&&u&&u.fileObject&&u.active){var t=Math.round(Date.now()/1e3);t!==r&&(r=t,u=s.update(u,{progress:(e.loaded/e.total*100).toFixed(2),speed:e.loaded-i}),i=e.loaded)}};var l=setInterval(function(){if(!(u=s.get(u))||!u.fileObject||u.success||u.error||!u.active){l&&(clearInterval(l),l=!1);try{a.abort(),a.timeout=1}catch(e){}}},100);return new Promise(function(r,i){var o=void 0,e=function(e){if(!o){if(o=!0,l&&(clearInterval(l),l=!1),!(u=s.get(u)))return i("not_exists");if(!u.fileObject)return i("file_object");if(u.error)return i(u.error);if(!u.active)return i("abort");if(u.success)return r(u);var t={};switch(e.type){case"timeout":case"abort":t.error=e.type;break;case"error":a.status?500<=a.status?t.error="server":400<=a.status&&(t.error="denied"):t.error="network";break;default:500<=a.status?t.error="server":400<=a.status?t.error="denied":t.progress="100.00"}if(a.responseText){var n=a.getResponseHeader("Content-Type");n&&-1!==n.indexOf("/json")?t.response=JSON.parse(a.responseText):t.response=a.responseText}return(u=s.update(u,t)).error?i(u.error):r(u)}};for(var t in a.onload=e,a.onerror=e,a.onabort=e,a.ontimeout=e,u.timeout&&(a.timeout=u.timeout),u.headers)a.setRequestHeader(t,u.headers[t]);u=s.update(u,{xhr:a}),a.send(n)})},uploadHtml4:function(e){var s=this,u=e,l=function(e){27===e.keyCode&&e.preventDefault()},c=document.createElement("iframe");c.id="upload-iframe-"+u.id,c.name="upload-iframe-"+u.id,c.src="about:blank",c.setAttribute("style","width:1px;height:1px;top:-999em;position:absolute; margin-top:-999em;");var t=document.createElement("form");t.action=u.postAction,t.name="upload-form-"+u.id,t.setAttribute("method","POST"),t.setAttribute("target","upload-iframe-"+u.id),t.setAttribute("enctype","multipart/form-data");var n=void 0,r=void 0;for(var i in u.data)(n=u.data[i])&&"object"===(void 0===n?"undefined":h(n))&&"function"!=typeof n.toString&&(n=JSON.stringify(n)),null!=n&&((r=document.createElement("input")).type="hidden",r.name=i,r.value=n,t.appendChild(r));t.appendChild(u.el),document.body.appendChild(c).appendChild(t);return new Promise(function(o,a){setTimeout(function(){if(!(u=s.update(u,{iframe:c})))return a("not_exists");var r=setInterval(function(){(u=s.get(u))&&u.fileObject&&!u.success&&!u.error&&u.active||(r&&(clearInterval(r),r=!1),c.onabort({type:u?"abort":"not_exists"}))},100),i=void 0,e=function(e){if(!i){if(i=!0,r&&(clearInterval(r),r=!1),document.body.removeEventListener("keydown",l),!(u=s.get(u)))return a("not_exists");if(!u.fileObject)return a("file_object");if(u.error)return a(u.error);if(!u.active)return a("abort");if(u.success)return o(u);var t=function(){var t=void 0;try{c.contentWindow&&(t=c.contentWindow.document)}catch(e){}if(!t)try{t=c.contentDocument?c.contentDocument:c.document}catch(e){t=c.document}return t&&t.body?t.body.innerHTML:null}(),n={};switch(e.type){case"abort":n.error="abort";break;case"error":u.error?n.error=u.error:n.error=null===t?"network":"denied";break;default:u.error?n.error=u.error:null===n?n.error="network":n.progress="100.00"}if(null!==t){if(t&&"{"===t.substr(0,1)&&"}"===t.substr(t.length-1,1))try{t=JSON.parse(t)}catch(e){}n.response=t}return(u=s.update(u,n)).error?a(u.error):o(u)}};c.onload=e,c.onerror=e,c.onabort=e,document.body.addEventListener("keydown",l),t.submit()},50)}).then(function(e){return c.parentNode&&c.parentNode.removeChild(c),e}).catch(function(e){return c.parentNode&&c.parentNode.removeChild(c),e})},watchActive:function(e){for(var t=void 0,n=0;t=this.files[n];)if(n++,t.fileObject)if(e&&!this.destroy){if(this.uploading>=this.thread||this.uploading&&!this.features.html5)break;t.active||t.error||t.success||this.update(t,{active:!0})}else t.active&&this.update(t,{active:!1});else;0===this.uploading&&(this.active=!1)},watchDrop:function(e){var t=e;if(this.features.drop){if(this.dropElement)try{document.removeEventListener("dragenter",this.onDragenter,!1),document.removeEventListener("dragleave",this.onDragleave,!1),document.removeEventListener("drop",this.onDocumentDrop,!1),this.dropElement.removeEventListener("dragover",this.onDragover,!1),this.dropElement.removeEventListener("drop",this.onDrop,!1)}catch(e){}t?"string"==typeof t?t=document.querySelector(t)||this.$root.$el.querySelector(t):!0===t&&(t=this.$parent.$el):t=!1,this.dropElement=t,this.dropElement&&(document.addEventListener("dragenter",this.onDragenter,!1),document.addEventListener("dragleave",this.onDragleave,!1),document.addEventListener("drop",this.onDocumentDrop,!1),this.dropElement.addEventListener("dragover",this.onDragover,!1),this.dropElement.addEventListener("drop",this.onDrop,!1))}},onDragenter:function(e){if(e.preventDefault(),!this.dropActive&&e.dataTransfer){var t=e.dataTransfer;t.files&&t.files.length?this.dropActive=!0:t.types?t.types.indexOf&&-1!==t.types.indexOf("Files")?this.dropActive=!0:t.types.contains&&t.types.contains("Files")&&(this.dropActive=!0):this.dropActive=!0}},onDragleave:function(e){e.preventDefault(),this.dropActive&&("HTML"===e.target.nodeName||e.target===e.explicitOriginalTarget||!e.fromElement&&(e.clientX<=0||e.clientY<=0||e.clientX>=window.innerWidth||e.clientY>=window.innerHeight))&&(this.dropActive=!1)},onDragover:function(e){e.preventDefault()},onDocumentDrop:function(){this.dropActive=!1},onDrop:function(e){e.preventDefault(),this.addDataTransfer(e.dataTransfer)}}},void 0,!1,0,function e(){var l=document.head||document.getElementsByTagName("head")[0],c=e.styles||(e.styles={}),f="undefined"!=typeof navigator&&/msie [6-9]\\b/.test(navigator.userAgent.toLowerCase());return function(e,t){if(!document.querySelector('style[data-vue-ssr-id~="'+e+'"]')){var n=f?t.media||"default":e,r=c[n]||(c[n]={ids:[],parts:[],element:void 0});if(!r.ids.includes(e)){var i=t.source,o=r.ids.length;if(r.ids.push(e),t.map&&(i+="\n/*# sourceURL="+t.map.sources[0]+" */",i+="\n/*# sourceMappingURL=data:application/json;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(t.map))))+" */"),f&&(r.element=r.element||document.querySelector("style[data-group="+n+"]")),!r.element){var a=r.element=document.createElement("style");a.type="text/css",t.media&&a.setAttribute("media",t.media),f&&(a.setAttribute("data-group",n),a.setAttribute("data-next-index","0")),l.appendChild(a)}if(f&&(o=parseInt(r.element.getAttribute("data-next-index")),r.element.setAttribute("data-next-index",o+1)),r.element.styleSheet)r.parts.push(i),r.element.styleSheet.cssText=r.parts.filter(Boolean).join("\n");else{var s=document.createTextNode(i),u=r.element.childNodes;u[o]&&r.element.removeChild(u[o]),u.length?r.element.insertBefore(s,u[o]):r.element.appendChild(s)}}}}});var w,x,O,S,_;var C=function(e,t,n,r,i,o,a,s){var u=("function"==typeof n?n.options:n)||{};u.__file="Button.vue",u.render||(u.render=e.render,u.staticRenderFns=e.staticRenderFns,u._compiled=!0,i&&(u.functional=!0)),u._scopeId=r;var l=void 0;if(t&&(l=function(e){t.call(this,a(e))}),void 0!==l)if(u.functional){var c=u.render;u.render=function(e,t){return l.call(t),c(e,t)}}else{var f=u.beforeCreate;u.beforeCreate=f?[].concat(f,l):[l]}return u}({render:function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("button",{staticClass:"el-button uploader-btn",class:[e.type?"el-button--"+e.type:"",e.buttonSize?"el-button--"+e.buttonSize:"",{"is-disabled":e.buttonDisabled,"is-loading":e.loading,"is-plain":e.plain,"is-round":e.round,"is-circle":e.circle},this.uploader.features.html5?"file-uploads-html5":"file-uploads-html4",this.uploader.features.directory&&this.directory?"file-uploads-directory":void 0,this.uploader.features.drop&&this.uploader.drop?"file-uploads-drop":void 0],attrs:{disabled:e.buttonDisabled||e.loading,autofocus:e.autofocus,type:e.nativeType},on:{click:e.handleClick}},[e.loading?n("i",{staticClass:"el-icon-loading"}):e._e(),e._v(" "),e.icon&&!e.loading?n("i",{class:e.icon}):e._e(),e._v(" "),e.$slots.default?n("span",[e._t("default")],2):e._e(),e._v(" "),n("input-file")],1)},staticRenderFns:[]},function(e){e&&e("data-v-022338f4_0",{source:"\n.uploader-btn.file-uploads-html4 input[type=file],.uploader-btn.file-uploads-html5 label{background:#fff;opacity:0;font-size:20em;z-index:1;top:0;left:0;right:0;bottom:0;position:absolute;width:100%;height:100%\n}\n.uploader-btn.file-uploads-html4 label,.uploader-btn.file-uploads-html5 input[type=file]{background:rgba(255,255,255,0);overflow:hidden;position:fixed;width:1px;height:1px;z-index:-1;opacity:0\n}",map:void 0,media:void 0})},{name:"uploader-btn",components:{InputFile:(O=void 0,S=!(w={render:function(){var e=this,t=e.$createElement,n=e._self._c||t;return e.$parent.uploader?n("input",{attrs:{type:"file",accept:e.$parent.accept,capture:e.$parent.capture,webkitdirectory:e.$parent.directory&&e.$parent.uploader.features.directory,directory:e.$parent.directory&&e.$parent.uploader.features.directory,multiple:e.$parent.multiple&&e.$parent.uploader.features.html5},on:{change:e.change}}):e._e()},staticRenderFns:[]}),(_=("function"==typeof(x={name:"input-file",methods:{change:function(e){var t=this;this.$parent.uploader.addInputFile(e.target).then(function(){e.target.value="",e.target.files||(t.$destroy(),new t.constructor({parent:t.$parent,el:t.$el}))})}}})?x.options:x)||{}).__file="InputFile.vue",_.render||(_.render=w.render,_.staticRenderFns=w.staticRenderFns,_._compiled=!0,S&&(_.functional=!0)),_._scopeId=O,_)},inject:{elForm:{default:""},elFormItem:{default:""}},props:{bind:{type:String,default:"upload"},directory:{type:Boolean,default:!1},multiple:{type:Boolean,default:!1},accept:{type:String},capture:{},type:{type:String,default:"default"},size:String,icon:{type:String,default:""},nativeType:{type:String,default:"button"},loading:Boolean,disabled:Boolean,plain:Boolean,autofocus:Boolean,round:Boolean,circle:Boolean},data:function(){return{uploader:function(e,t){for(var n=e.$parent;n;)if(t){if(n.$refs[t])return n.$refs[t];n=n.$parent}else{if(n["lan-uploader"])return n["lan-uploader"];n=n.$parent}return null}(this,this.bind)}},computed:{_elFormItemSize:function(){return(this.elFormItem||{}).elFormItemSize},buttonSize:function(){return this.size||this._elFormItemSize||(this.$ELEMENT||{}).size},buttonDisabled:function(){return this.disabled||(this.elForm||{}).disabled}},methods:{handleClick:function(e){if(this.buttonDisabled)return e.preventDefault&&e.preventDefault(),!1;this.$el.querySelector("input").click(),this.$emit("click",e)}}},void 0,!1,0,function e(){var l=document.head||document.getElementsByTagName("head")[0],c=e.styles||(e.styles={}),f="undefined"!=typeof navigator&&/msie [6-9]\\b/.test(navigator.userAgent.toLowerCase());return function(e,t){if(!document.querySelector('style[data-vue-ssr-id~="'+e+'"]')){var n=f?t.media||"default":e,r=c[n]||(c[n]={ids:[],parts:[],element:void 0});if(!r.ids.includes(e)){var i=t.source,o=r.ids.length;if(r.ids.push(e),t.map&&(i+="\n/*# sourceURL="+t.map.sources[0]+" */",i+="\n/*# sourceMappingURL=data:application/json;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(t.map))))+" */"),f&&(r.element=r.element||document.querySelector("style[data-group="+n+"]")),!r.element){var a=r.element=document.createElement("style");a.type="text/css",t.media&&a.setAttribute("media",t.media),f&&(a.setAttribute("data-group",n),a.setAttribute("data-next-index","0")),l.appendChild(a)}if(f&&(o=parseInt(r.element.getAttribute("data-next-index")),r.element.setAttribute("data-next-index",o+1)),r.element.styleSheet)r.parts.push(i),r.element.styleSheet.cssText=r.parts.filter(Boolean).join("\n");else{var s=document.createTextNode(i),u=r.element.childNodes;u[o]&&r.element.removeChild(u[o]),u.length?r.element.insertBefore(s,u[o]):r.element.appendChild(s)}}}}}),E={version:"2.8.20",install:j,FileUpload:k,Button:C};function j(e){j.installed||(e.component(k.name,k),e.component(C.name,C))}return"undefined"!=typeof window&&window.Vue&&window.Vue.use(j),E});
//# sourceMappingURL=lan-uploader.min.js.map
